var jE=Object.defineProperty,VE=Object.defineProperties,UE=Object.getOwnPropertyDescriptors,$y=Object.getOwnPropertySymbols,WE=Object.prototype.hasOwnProperty,zE=Object.prototype.propertyIsEnumerable,Qp=(F,B,_)=>B in F?jE(F,B,{enumerable:!0,configurable:!0,writable:!0,value:_}):F[B]=_,eh=(F,B)=>{for(var _ in B||(B={}))WE.call(B,_)&&Qp(F,_,B[_]);if($y)for(var _ of $y(B))zE.call(B,_)&&Qp(F,_,B[_]);return F},th=(F,B)=>VE(F,UE(B)),Re=(F,B,_)=>(Qp(F,"symbol"!=typeof B?B+"":B,_),_);(self.webpackChunkzeta=self.webpackChunkzeta||[]).push([[179],{4567:(F,B,_)=>{"use strict";var b=_(9808),C=_(4893);class I extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class L extends I{static makeCurrent(){(0,b.HT)(new L)}onAndCancel(n,s,o){return n.addEventListener(s,o,!1),()=>{n.removeEventListener(s,o,!1)}}dispatchEvent(n,s){n.dispatchEvent(s)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,s){return(s=s||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,s){return"window"===s?window:"document"===s?n:"body"===s?n.body:null}getBaseHref(n){const s=function Y(){return P=P||document.querySelector("base"),P?P.getAttribute("href"):null}();return null==s?null:function de(r){se=se||document.createElement("a"),se.setAttribute("href",r);const n=se.pathname;return"/"===n.charAt(0)?n:`/${n}`}(s)}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return(0,b.Mx)(document.cookie,n)}}let se,P=null;const G=new C.OlP("TRANSITION_ID"),N=[{provide:C.ip1,useFactory:function te(r,n,s){return()=>{s.get(C.CZH).donePromise.then(()=>{const o=(0,b.q)(),l=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<l.length;u++)o.remove(l[u])})}},deps:[G,b.K0,C.zs3],multi:!0}];class ne{static init(){(0,C.VLi)(new ne)}addToWindow(n){C.dqk.getAngularTestability=(o,l=!0)=>{const u=n.findTestabilityInTree(o,l);if(null==u)throw new Error("Could not find testability for element.");return u},C.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(o=>{const l=C.dqk.getAllAngularTestabilities();let u=l.length,d=!1;const f=function(g){d=d||g,u--,0==u&&o(d)};l.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(n,s,o){if(null==s)return null;const l=n.getTestability(s);return null!=l?l:o?(0,b.q)().isShadowRoot(s)?this.findTestabilityInTree(n,s.host,!0):this.findTestabilityInTree(n,s.parentElement,!0):null}}let Q=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();const V=new C.OlP("EventManagerPlugins");let fe=(()=>{class r{constructor(s,o){this._zone=o,this._eventNameToPlugin=new Map,s.forEach(l=>l.manager=this),this._plugins=s.slice().reverse()}addEventListener(s,o,l){return this._findPluginFor(o).addEventListener(s,o,l)}addGlobalEventListener(s,o,l){return this._findPluginFor(o).addGlobalEventListener(s,o,l)}getZone(){return this._zone}_findPluginFor(s){const o=this._eventNameToPlugin.get(s);if(o)return o;const l=this._plugins;for(let u=0;u<l.length;u++){const d=l[u];if(d.supports(s))return this._eventNameToPlugin.set(s,d),d}throw new Error(`No event manager plugin found for event ${s}`)}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(V),C.LFG(C.R0b))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();class oe{constructor(n){this._doc=n}addGlobalEventListener(n,s,o){const l=(0,b.q)().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${s}`);return this.addEventListener(l,s,o)}}let ge=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(s){const o=new Set;s.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(s){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})(),He=(()=>{class r extends ge{constructor(s){super(),this._doc=s,this._hostNodes=new Map,this._hostNodes.set(s.head,[])}_addStylesToHost(s,o,l){s.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,l.push(o.appendChild(d))})}addHost(s){const o=[];this._addStylesToHost(this._stylesSet,s,o),this._hostNodes.set(s,o)}removeHost(s){const o=this._hostNodes.get(s);o&&o.forEach(Le),this._hostNodes.delete(s)}onStylesAdded(s){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(s,l,o)})}ngOnDestroy(){this._hostNodes.forEach(s=>s.forEach(Le))}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(b.K0))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();function Le(r){(0,b.q)().remove(r)}const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ce=/%COMP%/g;function q(r,n,s){for(let o=0;o<n.length;o++){let l=n[o];Array.isArray(l)?q(r,l,s):(l=l.replace(ce,r),s.push(l))}return s}function ue(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let xe=(()=>{class r{constructor(s,o,l){this.eventManager=s,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new le(s)}createRenderer(s,o){if(!s||!o)return this.defaultRenderer;switch(o.encapsulation){case C.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new wn(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(s),l}case 1:case C.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,s,o);default:if(!this.rendererByCompId.has(o.id)){const l=q(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(fe),C.LFG(He),C.LFG(C.AFp))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();class le{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,s){return s?document.createElementNS(we[s]||s,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,s){n.appendChild(s)}insertBefore(n,s,o){n&&n.insertBefore(s,o)}removeChild(n,s){n&&n.removeChild(s)}selectRootElement(n,s){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return s||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,s,o,l){if(l){s=l+":"+s;const u=we[l];u?n.setAttributeNS(u,s,o):n.setAttribute(s,o)}else n.setAttribute(s,o)}removeAttribute(n,s,o){if(o){const l=we[o];l?n.removeAttributeNS(l,s):n.removeAttribute(`${o}:${s}`)}else n.removeAttribute(s)}addClass(n,s){n.classList.add(s)}removeClass(n,s){n.classList.remove(s)}setStyle(n,s,o,l){l&(C.JOm.DashCase|C.JOm.Important)?n.style.setProperty(s,o,l&C.JOm.Important?"important":""):n.style[s]=o}removeStyle(n,s,o){o&C.JOm.DashCase?n.style.removeProperty(s):n.style[s]=""}setProperty(n,s,o){n[s]=o}setValue(n,s){n.nodeValue=s}listen(n,s,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,s,ue(o)):this.eventManager.addEventListener(n,s,ue(o))}}class wn extends le{constructor(n,s,o,l){super(n),this.component=o;const u=q(l+"-"+o.id,o.styles,[]);s.addStyles(u),this.contentAttr=function Ie(r){return"_ngcontent-%COMP%".replace(ce,r)}(l+"-"+o.id),this.hostAttr=function Z(r){return"_nghost-%COMP%".replace(ce,r)}(l+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,s){const o=super.createElement(n,s);return super.setAttribute(o,this.contentAttr,""),o}}class qe extends le{constructor(n,s,o,l){super(n),this.sharedStylesHost=s,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=q(l.id,l.styles,[]);for(let d=0;d<u.length;d++){const f=document.createElement("style");f.textContent=u[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,s){return super.appendChild(this.nodeOrShadowRoot(n),s)}insertBefore(n,s,o){return super.insertBefore(this.nodeOrShadowRoot(n),s,o)}removeChild(n,s){return super.removeChild(this.nodeOrShadowRoot(n),s)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Zt=(()=>{class r extends oe{constructor(s){super(s)}supports(s){return!0}addEventListener(s,o,l){return s.addEventListener(o,l,!1),()=>this.removeEventListener(s,o,l)}removeEventListener(s,o,l){return s.removeEventListener(o,l)}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(b.K0))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();const Qn=["alt","control","meta","shift"],Es={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let $i=(()=>{class r extends oe{constructor(s){super(s)}supports(s){return null!=r.parseEventName(s)}addEventListener(s,o,l){const u=r.parseEventName(o),d=r.eventCallback(u.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(s,u.domEventName,d))}static parseEventName(s){const o=s.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const u=r._normalizeKey(o.pop());let d="";if(Qn.forEach(g=>{const y=o.indexOf(g);y>-1&&(o.splice(y,1),d+=g+".")}),d+=u,0!=o.length||0===u.length)return null;const f={};return f.domEventName=l,f.fullKey=d,f}static getEventFullKey(s){let o="",l=function Tn(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&Bt.hasOwnProperty(n)&&(n=Bt[n]))}return Es[n]||n}(s);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Qn.forEach(u=>{u!=l&&ft[u](s)&&(o+=u+".")}),o+=l,o}static eventCallback(s,o,l){return u=>{r.getEventFullKey(u)===s&&l.runGuarded(()=>o(u))}}static _normalizeKey(s){return"esc"===s?"escape":s}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(b.K0))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac}),r})();const ws=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:b.bD},{provide:C.g9A,useValue:function Pr(){L.makeCurrent(),ne.init()},multi:!0},{provide:b.K0,useFactory:function Ga(){return(0,C.RDi)(document),document},deps:[]}]),Js=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function an(){return new C.qLn},deps:[]},{provide:V,useClass:Zt,multi:!0,deps:[b.K0,C.R0b,C.Lbi]},{provide:V,useClass:$i,multi:!0,deps:[b.K0]},{provide:xe,useClass:xe,deps:[fe,He,C.AFp]},{provide:C.FYo,useExisting:xe},{provide:ge,useExisting:He},{provide:He,useClass:He,deps:[b.K0]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b]},{provide:fe,useClass:fe,deps:[V,C.R0b]},{provide:b.JF,useClass:Q,deps:[]}];let wi=(()=>{class r{constructor(s){if(s)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(s){return{ngModule:r,providers:[{provide:C.AFp,useValue:s.appId},{provide:G,useExisting:C.AFp},N]}}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(r,12))},r.\u0275mod=C.oAB({type:r}),r.\u0275inj=C.cJS({providers:Js,imports:[b.ez,C.hGG]}),r})();"undefined"!=typeof window&&window;var Yi=_(6529),Rr=_(6114),Eo=_(7579);const Xi={issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,redirectUri:window.location.origin,clientId:"618731979436-g671uc5bn1i4mu0nirpnk2odhpg54ffi.apps.googleusercontent.com",scope:"openid profile email https://www.googleapis.com/auth/yt-analytics-monetary.readonly https://www.googleapis.com/auth/yt-analytics.readonly",showDebugInformation:!0};let wo=(()=>{class r{constructor(s,o){this.oAuthService=s,this.httpClient=o,this.gmail="https://gmail.googleapis.com",this.userProfileSubject=new Eo.x,s.configure(Xi),s.logoutUrl="https://www.google.com/accounts/Logout",s.loadDiscoveryDocument().then(()=>{s.tryLoginImplicitFlow().then(()=>{s.hasValidAccessToken()?s.loadUserProfile().then(l=>{this.userProfileSubject.next(l)}):s.initLoginFlow()})})}getViews(){return this.httpClient.get(`https://youtubeanalytics.googleapis.com/v2/reports?dimensions=month&endDate=${this.getCurDate()}&ids=channel%3D%3DMINE&metrics=views&sort=month&startDate=${this.getPrevYear()}`,{headers:this.authHeader()})}getNewFollowers(){return this.httpClient.get(`https://youtubeanalytics.googleapis.com/v2/reports?dimensions=month&endDate=${this.getCurDate()}&ids=channel%3D%3DMINE&metrics=subscribersGained&sort=month&startDate=${this.getPrevYear()}`,{headers:this.authHeader()})}getCTR(){return this.httpClient.get(`https://youtubeanalytics.googleapis.com/v2/reports?dimensions=month&endDate=${this.getCurDate()}&ids=channel%3D%3DMINE&metrics=annotationClickThroughRate&sort=month&startDate=${this.getPrevYear()}`,{headers:this.authHeader()})}getAverageViewPercentage(){return this.httpClient.get(`https://youtubeanalytics.googleapis.com/v2/reports?dimensions=month&endDate=${this.getCurDate()}&ids=channel%3D%3DMINE&metrics=averageViewPercentage&sort=month&startDate=${this.getPrevYear()}`,{headers:this.authHeader()})}isLoggedIn(){return this.oAuthService.hasValidAccessToken()}signOut(){this.oAuthService.logOut()}authHeader(){return new Yi.WM({Authorization:`Bearer ${this.oAuthService.getAccessToken()}`})}getCurDate(){var s=new Date;return s.setDate(1),s.toISOString().split("T")[0]}getPrevYear(){var s=this.getCurDate();const o=new Date(s);return o.setFullYear(o.getFullYear()-1),o.toISOString().split("T")[0]}}return r.\u0275fac=function(s){return new(s||r)(C.LFG(Rr.Ct),C.LFG(Yi.eN))},r.\u0275prov=C.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function os(r){return r+.5|0}const xn=(r,n,s)=>Math.max(Math.min(r,s),n);function zn(r){return xn(os(2.55*r),0,255)}function dn(r){return xn(os(255*r),0,255)}function en(r){return xn(os(r/2.55)/100,0,1)}function vn(r){return xn(os(100*r),0,100)}const hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xs=[..."0123456789ABCDEF"],Si=r=>xs[15&r],Ji=r=>xs[(240&r)>>4]+xs[15&r],$n=r=>(240&r)>>4==(15&r);const tt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xt(r,n,s){const o=n*Math.min(s,1-s),l=(u,d=(u+r/30)%12)=>s-o*Math.max(Math.min(d-3,9-d,1),-1);return[l(0),l(8),l(4)]}function bn(r,n,s){const o=(l,u=(l+r/60)%6)=>s-s*n*Math.max(Math.min(u,4-u,1),0);return[o(5),o(3),o(1)]}function Cs(r,n,s){const o=xt(r,1,.5);let l;for(n+s>1&&(l=1/(n+s),n*=l,s*=l),l=0;l<3;l++)o[l]*=1-n-s,o[l]+=n;return o}function Zn(r){const s=r.r/255,o=r.g/255,l=r.b/255,u=Math.max(s,o,l),d=Math.min(s,o,l),f=(u+d)/2;let g,y,D;return u!==d&&(D=u-d,y=f>.5?D/(2-u-d):D/(u+d),g=function tn(r,n,s,o,l){return r===l?(n-s)/o+(n<s?6:0):n===l?(s-r)/o+2:(r-n)/o+4}(s,o,l,D,u),g=60*g+.5),[0|g,y||0,f]}function Ft(r,n,s,o){return(Array.isArray(n)?r(n[0],n[1],n[2]):r(n,s,o)).map(dn)}function Ms(r,n,s){return Ft(xt,r,n,s)}function ti(r){return(r%360+360)%360}const cn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},as={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Dn;const Tc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Cn=r=>r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055,cs=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function nn(r,n,s){if(r){let o=Zn(r);o[n]=Math.max(0,Math.min(o[n]+o[n]*s,0===n?360:1)),o=Ms(o),r.r=o[0],r.g=o[1],r.b=o[2]}}function Pn(r,n){return r&&Object.assign(n||{},r)}function Co(r){var n={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(n={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(n.a=dn(r[3]))):(n=Pn(r,{r:0,g:0,b:0,a:1})).a=dn(n.a),n}function Ic(r){return"r"===r.charAt(0)?function xo(r){const n=Tc.exec(r);let o,l,u,s=255;if(n){if(n[7]!==o){const d=+n[7];s=n[8]?zn(d):xn(255*d,0,255)}return o=+n[1],l=+n[3],u=+n[5],o=255&(n[2]?zn(o):xn(o,0,255)),l=255&(n[4]?zn(l):xn(l,0,255)),u=255&(n[6]?zn(u):xn(u,0,255)),{r:o,g:l,b:u,a:s}}}(r):function Ai(r){const n=tt.exec(r);let o,s=255;if(!n)return;n[5]!==o&&(s=n[6]?zn(+n[5]):dn(+n[5]));const l=ti(+n[2]),u=+n[3]/100,d=+n[4]/100;return o="hwb"===n[1]?function ei(r,n,s){return Ft(Cs,r,n,s)}(l,u,d):"hsv"===n[1]?function Qe(r,n,s){return Ft(bn,r,n,s)}(l,u,d):Ms(l,u,d),{r:o[0],g:o[1],b:o[2],a:s}}(r)}class si{constructor(n){if(n instanceof si)return n;const s=typeof n;let o;"object"===s?o=Co(n):"string"===s&&(o=function Xa(r){var s,n=r.length;return"#"===r[0]&&(4===n||5===n?s={r:255&17*hn[r[1]],g:255&17*hn[r[2]],b:255&17*hn[r[3]],a:5===n?17*hn[r[4]]:255}:(7===n||9===n)&&(s={r:hn[r[1]]<<4|hn[r[2]],g:hn[r[3]]<<4|hn[r[4]],b:hn[r[5]]<<4|hn[r[6]],a:9===n?hn[r[7]]<<4|hn[r[8]]:255})),s}(n)||function St(r){Dn||(Dn=function ls(){const r={},n=Object.keys(as),s=Object.keys(cn);let o,l,u,d,f;for(o=0;o<n.length;o++){for(d=f=n[o],l=0;l<s.length;l++)u=s[l],f=f.replace(u,cn[u]);u=parseInt(as[d],16),r[f]=[u>>16&255,u>>8&255,255&u]}return r}(),Dn.transparent=[0,0,0,0]);const n=Dn[r.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||Ic(n)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var n=Pn(this._rgb);return n&&(n.a=en(n.a)),n}set rgb(n){this._rgb=Co(n)}rgbString(){return this._valid?function Kn(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${en(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ne(r){var n=(r=>$n(r.r)&&$n(r.g)&&$n(r.b)&&$n(r.a))(r)?Si:Ji;return r?"#"+n(r.r)+n(r.g)+n(r.b)+((r,n)=>r<255?n(r):"")(r.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function ni(r){if(!r)return;const n=Zn(r),s=n[0],o=vn(n[1]),l=vn(n[2]);return r.a<255?`hsla(${s}, ${o}%, ${l}%, ${en(r.a)})`:`hsl(${s}, ${o}%, ${l}%)`}(this._rgb):void 0}mix(n,s){if(n){const o=this.rgb,l=n.rgb;let u;const d=s===u?.5:s,f=2*d-1,g=o.a-l.a,y=((f*g==-1?f:(f+g)/(1+f*g))+1)/2;u=1-y,o.r=255&y*o.r+u*l.r+.5,o.g=255&y*o.g+u*l.g+.5,o.b=255&y*o.b+u*l.b+.5,o.a=d*o.a+(1-d)*l.a,this.rgb=o}return this}interpolate(n,s){return n&&(this._rgb=function Fr(r,n,s){const o=cs(en(r.r)),l=cs(en(r.g)),u=cs(en(r.b));return{r:dn(Cn(o+s*(cs(en(n.r))-o))),g:dn(Cn(l+s*(cs(en(n.g))-l))),b:dn(Cn(u+s*(cs(en(n.b))-u))),a:r.a+s*(n.a-r.a)}}(this._rgb,n._rgb,s)),this}clone(){return new si(this.rgb)}alpha(n){return this._rgb.a=dn(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,s=os(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=s,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return nn(this._rgb,2,n),this}darken(n){return nn(this._rgb,2,-n),this}saturate(n){return nn(this._rgb,1,n),this}desaturate(n){return nn(this._rgb,1,-n),this}rotate(n){return function qi(r,n){var s=Zn(r);s[0]=ti(s[0]+n),s=Ms(s),r.r=s[0],r.g=s[1],r.b=s[2]}(this._rgb,n),this}}function us(){}const Oc=(()=>{let r=0;return()=>r++})();function ut(r){return null==r}function kt(r){if(Array.isArray&&Array.isArray(r))return!0;const n=Object.prototype.toString.call(r);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function ot(r){return null!==r&&"[object Object]"===Object.prototype.toString.call(r)}function Vt(r){return("number"==typeof r||r instanceof Number)&&isFinite(+r)}function On(r,n){return Vt(r)?r:n}function Ze(r,n){return void 0===r?n:r}const Ja=(r,n)=>"string"==typeof r&&r.endsWith("%")?parseFloat(r)/100*n:+r;function It(r,n,s){if(r&&"function"==typeof r.call)return r.apply(s,n)}function bt(r,n,s,o){let l,u,d;if(kt(r))if(u=r.length,o)for(l=u-1;l>=0;l--)n.call(s,r[l],l);else for(l=0;l<u;l++)n.call(s,r[l],l);else if(ot(r))for(d=Object.keys(r),u=d.length,l=0;l<u;l++)n.call(s,r[d[l]],d[l])}function Qi(r,n){let s,o,l,u;if(!r||!n||r.length!==n.length)return!1;for(s=0,o=r.length;s<o;++s)if(l=r[s],u=n[s],l.datasetIndex!==u.datasetIndex||l.index!==u.index)return!1;return!0}function Lr(r){if(kt(r))return r.map(Lr);if(ot(r)){const n=Object.create(null),s=Object.keys(r),o=s.length;let l=0;for(;l<o;++l)n[s[l]]=Lr(r[s[l]]);return n}return r}function Nr(r){return-1===["__proto__","prototype","constructor"].indexOf(r)}function Br(r,n,s,o){if(!Nr(r))return;const l=n[r],u=s[r];ot(l)&&ot(u)?ii(l,u,o):n[r]=Lr(u)}function ii(r,n,s){const o=kt(n)?n:[n],l=o.length;if(!ot(r))return r;const u=(s=s||{}).merger||Br;let d;for(let f=0;f<l;++f){if(d=o[f],!ot(d))continue;const g=Object.keys(d);for(let y=0,D=g.length;y<D;++y)u(g[y],r,d,s)}return r}function ri(r,n){return ii(r,n,{merger:Rc})}function Rc(r,n,s){if(!Nr(r))return;const o=n[r],l=s[r];ot(o)&&ot(l)?ri(o,l):Object.prototype.hasOwnProperty.call(n,r)||(n[r]=Lr(l))}const Mo={"":r=>r,x:r=>r.x,y:r=>r.y};function ds(r,n){return(Mo[n]||(Mo[n]=function So(r){const n=function Zi(r){const n=r.split("."),s=[];let o="";for(const l of n)o+=l,o.endsWith("\\")?o=o.slice(0,-1)+".":(s.push(o),o="");return s}(r);return s=>{for(const o of n){if(""===o)break;s=s&&s[o]}return s}}(n)))(r)}function Hr(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Ii=r=>void 0!==r,hs=r=>"function"==typeof r,qa=(r,n)=>{if(r.size!==n.size)return!1;for(const s of r)if(!n.has(s))return!1;return!0},Rt=Math.PI,at=2*Rt,To=at+Rt,Pi=Number.POSITIVE_INFINITY,jr=Rt/180,zt=Rt/2,Ss=Rt/4,E=2*Rt/3,A=Math.log10,w=Math.sign;function O(r,n,s){return Math.abs(r-n)<s}function W(r){const n=Math.round(r);r=O(r,n,r/1e3)?n:r;const s=Math.pow(10,Math.floor(A(r))),o=r/s;return(o<=1?1:o<=2?2:o<=5?5:10)*s}function Se(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Pt(r,n,s){let o,l,u;for(o=0,l=r.length;o<l;o++)u=r[o][s],isNaN(u)||(n.min=Math.min(n.min,u),n.max=Math.max(n.max,u))}function lt(r){return r*(Rt/180)}function _t(r){return r*(180/Rt)}function Ye(r){if(!Vt(r))return;let n=1,s=0;for(;Math.round(r*n)/n!==r;)n*=10,s++;return s}function sn(r,n){const s=n.x-r.x,o=n.y-r.y,l=Math.sqrt(s*s+o*o);let u=Math.atan2(o,s);return u<-.5*Rt&&(u+=at),{angle:u,distance:l}}function Ct(r,n){return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}function $t(r,n){return(r-n+To)%at-Rt}function yt(r){return(r%at+at)%at}function kn(r,n,s,o){const l=yt(r),u=yt(n),d=yt(s),f=yt(u-l),g=yt(d-l),y=yt(l-u),D=yt(l-d);return l===u||l===d||o&&u===d||f>g&&y<D}function Lt(r,n,s){return Math.max(n,Math.min(s,r))}function rn(r,n,s,o=1e-6){return r>=Math.min(n,s)-o&&r<=Math.max(n,s)+o}function ai(r,n,s){s=s||(d=>r[d]<n);let u,o=r.length-1,l=0;for(;o-l>1;)u=l+o>>1,s(u)?l=u:o=u;return{lo:l,hi:o}}const Rn=(r,n,s,o)=>ai(r,s,o?l=>{const u=r[l][n];return u<s||u===s&&r[l+1][n]===s}:l=>r[l][n]<s),Xe=(r,n,s)=>ai(r,s,o=>r[o][n]>=s),Fc=["push","pop","shift","splice","unshift"];function Lc(r,n){const s=r._chartjs;if(!s)return;const o=s.listeners,l=o.indexOf(n);-1!==l&&o.splice(l,1),!(o.length>0)&&(Fc.forEach(u=>{delete r[u]}),delete r._chartjs)}function Qa(r){const n=new Set(r);return n.size===r.length?r:Array.from(n)}const Nc="undefined"==typeof window?function(r){return r()}:window.requestAnimationFrame;function Ee(r,n){let s=[],o=!1;return function(...l){s=l,o||(o=!0,Nc.call(window,()=>{o=!1,r.apply(n,s)}))}}const Io=r=>"start"===r?"left":"end"===r?"right":"center",ht=(r,n,s)=>"start"===r?n:"end"===r?s:(n+s)/2;function er(r,n,s){const o=n.length;let l=0,u=o;if(r._sorted){const{iScale:d,_parsed:f}=r,g=d.axis,{min:y,max:D,minDefined:M,maxDefined:T}=d.getUserBounds();M&&(l=Lt(Math.min(Rn(f,g,y).lo,s?o:Rn(n,g,d.getPixelForValue(y)).lo),0,o-1)),u=T?Lt(Math.max(Rn(f,d.axis,D,!0).hi+1,s?0:Rn(n,g,d.getPixelForValue(D),!0).hi+1),l,o)-l:o-l}return{start:l,count:u}}function es(r){const{xScale:n,yScale:s,_scaleRanges:o}=r,l={xmin:n.min,xmax:n.max,ymin:s.min,ymax:s.max};if(!o)return r._scaleRanges=l,!0;const u=o.xmin!==n.min||o.xmax!==n.max||o.ymin!==s.min||o.ymax!==s.max;return Object.assign(o,l),u}const tr=r=>0===r||1===r,Po=(r,n,s)=>-Math.pow(2,10*(r-=1))*Math.sin((r-n)*at/s),sh=(r,n,s)=>Math.pow(2,-10*r)*Math.sin((r-n)*at/s)+1,Vr={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>1-Math.cos(r*zt),easeOutSine:r=>Math.sin(r*zt),easeInOutSine:r=>-.5*(Math.cos(Rt*r)-1),easeInExpo:r=>0===r?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>1===r?1:1-Math.pow(2,-10*r),easeInOutExpo:r=>tr(r)?r:r<.5?.5*Math.pow(2,10*(2*r-1)):.5*(2-Math.pow(2,-10*(2*r-1))),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>tr(r)?r:Po(r,.075,.3),easeOutElastic:r=>tr(r)?r:sh(r,.075,.3),easeInOutElastic:r=>tr(r)?r:r<.5?.5*Po(2*r,.1125,.45):.5+.5*sh(2*r-1,.1125,.45),easeInBack:r=>r*r*(2.70158*r-1.70158),easeOutBack:r=>(r-=1)*r*(2.70158*r+1.70158)+1,easeInOutBack(r){let n=1.70158;return(r/=.5)<1?r*r*((1+(n*=1.525))*r-n)*.5:.5*((r-=2)*r*((1+(n*=1.525))*r+n)+2)},easeInBounce:r=>1-Vr.easeOutBounce(1-r),easeOutBounce:r=>r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375,easeInOutBounce:r=>r<.5?.5*Vr.easeInBounce(2*r):.5*Vr.easeOutBounce(2*r-1)+.5};function nr(r){if(r&&"object"==typeof r){const n=r.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function Ur(r){return nr(r)?r:new si(r)}function fn(r){return nr(r)?r:new si(r).saturate(.5).darken(.1).hexString()}const As=["x","y","borderWidth","radius","tension"],Hc=["color","borderColor","backgroundColor"],jc=new Map;function Wr(r,n,s){return function Vc(r,n){n=n||{};const s=r+JSON.stringify(n);let o=jc.get(s);return o||(o=new Intl.NumberFormat(r,n),jc.set(s,o)),o}(n,s).format(r)}const Uc={values:r=>kt(r)?r:""+r,numeric(r,n,s){if(0===r)return"0";const o=this.chart.options.locale;let l,u=r;if(s.length>1){const y=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(y<1e-4||y>1e15)&&(l="scientific"),u=function Za(r,n){let s=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(s)>=1&&r!==Math.floor(r)&&(s=r-Math.floor(r)),s}(r,s)}const d=A(Math.abs(u)),f=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),g={notation:l,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(g,this.options.ticks.format),Wr(r,o,g)},logarithmic(r,n,s){if(0===r)return"0";const o=s[n].significand||r/Math.pow(10,Math.floor(A(r)));return[1,2,3,5,10,15].includes(o)||n>.8*s.length?Uc.numeric.call(this,r,n,s):""}};var ir={formatters:Uc};const Is=Object.create(null),el=Object.create(null);function rr(r,n){if(!n)return r;const s=n.split(".");for(let o=0,l=s.length;o<l;++o){const u=s[o];r=r[u]||(r[u]=Object.create(null))}return r}function or(r,n,s){return"string"==typeof n?ii(rr(r,n),s):ii(rr(r,""),n)}class zc{constructor(n,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,l)=>fn(l.backgroundColor),this.hoverBorderColor=(o,l)=>fn(l.borderColor),this.hoverColor=(o,l)=>fn(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(s)}set(n,s){return or(this,n,s)}get(n){return rr(this,n)}describe(n,s){return or(el,n,s)}override(n,s){return or(Is,n,s)}route(n,s,o,l){const u=rr(this,n),d=rr(this,o),f="_"+s;Object.defineProperties(u,{[f]:{value:u[s],writable:!0},[s]:{enumerable:!0,get(){const g=this[f],y=d[l];return ot(g)?Object.assign({},y,g):Ze(g,y)},set(g){this[f]=g}}})}apply(n){n.forEach(s=>s(this))}}var Ut=new zc({_scriptable:r=>!r.startsWith("on"),_indexable:r=>"events"!==r,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function sr(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),r.set("animations",{colors:{type:"color",properties:Hc},numbers:{type:"number",properties:As}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function Ts(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Wc(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,s)=>s.lineWidth,tickColor:(n,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ir.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function zr(r,n,s,o,l){let u=n[l];return u||(u=n[l]=r.measureText(l).width,s.push(l)),u>o&&(o=u),o}function Oo(r,n,s,o){let l=(o=o||{}).data=o.data||{},u=o.garbageCollect=o.garbageCollect||[];o.font!==n&&(l=o.data={},u=o.garbageCollect=[],o.font=n),r.save(),r.font=n;let d=0;const f=s.length;let g,y,D,M,T;for(g=0;g<f;g++)if(M=s[g],null==M||kt(M)){if(kt(M))for(y=0,D=M.length;y<D;y++)T=M[y],null!=T&&!kt(T)&&(d=zr(r,l,u,d,T))}else d=zr(r,l,u,d,M);r.restore();const R=u.length/2;if(R>s.length){for(g=0;g<R;g++)delete l[u[g]];u.splice(0,R)}return d}function Oi(r,n,s){const o=r.currentDevicePixelRatio,l=0!==s?Math.max(s/2,.5):0;return Math.round((n-l)*o)/o+l}function Kc(r,n){(n=n||r.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,r.width,r.height),n.restore()}function pn(r,n,s,o){Ps(r,n,s,o,null)}function Ps(r,n,s,o,l){let u,d,f,g,y,D,M,T;const R=n.pointStyle,H=n.rotation,U=n.radius;let X=(H||0)*jr;if(R&&"object"==typeof R&&(u=R.toString(),"[object HTMLImageElement]"===u||"[object HTMLCanvasElement]"===u))return r.save(),r.translate(s,o),r.rotate(X),r.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),void r.restore();if(!(isNaN(U)||U<=0)){switch(r.beginPath(),R){default:l?r.ellipse(s,o,l/2,U,0,0,at):r.arc(s,o,U,0,at),r.closePath();break;case"triangle":D=l?l/2:U,r.moveTo(s+Math.sin(X)*D,o-Math.cos(X)*U),X+=E,r.lineTo(s+Math.sin(X)*D,o-Math.cos(X)*U),X+=E,r.lineTo(s+Math.sin(X)*D,o-Math.cos(X)*U),r.closePath();break;case"rectRounded":y=.516*U,g=U-y,d=Math.cos(X+Ss)*g,M=Math.cos(X+Ss)*(l?l/2-y:g),f=Math.sin(X+Ss)*g,T=Math.sin(X+Ss)*(l?l/2-y:g),r.arc(s-M,o-f,y,X-Rt,X-zt),r.arc(s+T,o-d,y,X-zt,X),r.arc(s+M,o+f,y,X,X+zt),r.arc(s-T,o+d,y,X+zt,X+Rt),r.closePath();break;case"rect":if(!H){g=Math.SQRT1_2*U,D=l?l/2:g,r.rect(s-D,o-g,2*D,2*g);break}X+=Ss;case"rectRot":M=Math.cos(X)*(l?l/2:U),d=Math.cos(X)*U,f=Math.sin(X)*U,T=Math.sin(X)*(l?l/2:U),r.moveTo(s-M,o-f),r.lineTo(s+T,o-d),r.lineTo(s+M,o+f),r.lineTo(s-T,o+d),r.closePath();break;case"crossRot":X+=Ss;case"cross":M=Math.cos(X)*(l?l/2:U),d=Math.cos(X)*U,f=Math.sin(X)*U,T=Math.sin(X)*(l?l/2:U),r.moveTo(s-M,o-f),r.lineTo(s+M,o+f),r.moveTo(s+T,o-d),r.lineTo(s-T,o+d);break;case"star":M=Math.cos(X)*(l?l/2:U),d=Math.cos(X)*U,f=Math.sin(X)*U,T=Math.sin(X)*(l?l/2:U),r.moveTo(s-M,o-f),r.lineTo(s+M,o+f),r.moveTo(s+T,o-d),r.lineTo(s-T,o+d),X+=Ss,M=Math.cos(X)*(l?l/2:U),d=Math.cos(X)*U,f=Math.sin(X)*U,T=Math.sin(X)*(l?l/2:U),r.moveTo(s-M,o-f),r.lineTo(s+M,o+f),r.moveTo(s+T,o-d),r.lineTo(s-T,o+d);break;case"line":d=l?l/2:Math.cos(X)*U,f=Math.sin(X)*U,r.moveTo(s-d,o-f),r.lineTo(s+d,o+f);break;case"dash":r.moveTo(s,o),r.lineTo(s+Math.cos(X)*(l?l/2:U),o+Math.sin(X)*U);break;case!1:r.closePath()}r.fill(),n.borderWidth>0&&r.stroke()}}function Dt(r,n,s){return s=s||.5,!n||r&&r.x>n.left-s&&r.x<n.right+s&&r.y>n.top-s&&r.y<n.bottom+s}function ko(r,n){r.save(),r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()}function Ro(r){r.restore()}function ih(r,n,s,o,l){if(!n)return r.lineTo(s.x,s.y);if("middle"===l){const u=(n.x+s.x)/2;r.lineTo(u,n.y),r.lineTo(u,s.y)}else"after"===l!=!!o?r.lineTo(n.x,s.y):r.lineTo(s.x,n.y);r.lineTo(s.x,s.y)}function rh(r,n,s,o){if(!n)return r.lineTo(s.x,s.y);r.bezierCurveTo(o?n.cp1x:n.cp2x,o?n.cp1y:n.cp2y,o?s.cp2x:s.cp1x,o?s.cp2y:s.cp1y,s.x,s.y)}function ah(r,n,s,o,l){if(l.strikethrough||l.underline){const u=r.measureText(o),d=n-u.actualBoundingBoxLeft,f=n+u.actualBoundingBoxRight,g=s-u.actualBoundingBoxAscent,y=s+u.actualBoundingBoxDescent,D=l.strikethrough?(g+y)/2:y;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=l.decorationWidth||2,r.moveTo(d,D),r.lineTo(f,D),r.stroke()}}function Fo(r,n){const s=r.fillStyle;r.fillStyle=n.color,r.fillRect(n.left,n.top,n.width,n.height),r.fillStyle=s}function fs(r,n,s,o,l,u={}){const d=kt(n)?n:[n],f=u.strokeWidth>0&&""!==u.strokeColor;let g,y;for(r.save(),r.font=l.string,function oh(r,n){n.translation&&r.translate(n.translation[0],n.translation[1]),ut(n.rotation)||r.rotate(n.rotation),n.color&&(r.fillStyle=n.color),n.textAlign&&(r.textAlign=n.textAlign),n.textBaseline&&(r.textBaseline=n.textBaseline)}(r,u),g=0;g<d.length;++g)y=d[g],u.backdrop&&Fo(r,u.backdrop),f&&(u.strokeColor&&(r.strokeStyle=u.strokeColor),ut(u.strokeWidth)||(r.lineWidth=u.strokeWidth),r.strokeText(y,s,o,u.maxWidth)),r.fillText(y,s,o,u.maxWidth),ah(r,s,o,y,u),o+=Number(l.lineHeight);r.restore()}function li(r,n){const{x:s,y:o,w:l,h:u,radius:d}=n;r.arc(s+d.topLeft,o+d.topLeft,d.topLeft,1.5*Rt,Rt,!0),r.lineTo(s,o+u-d.bottomLeft),r.arc(s+d.bottomLeft,o+u-d.bottomLeft,d.bottomLeft,Rt,zt,!0),r.lineTo(s+l-d.bottomRight,o+u),r.arc(s+l-d.bottomRight,o+u-d.bottomRight,d.bottomRight,zt,0,!0),r.lineTo(s+l,o+d.topRight),r.arc(s+l-d.topRight,o+d.topRight,d.topRight,0,-zt,!0),r.lineTo(s+d.topLeft,o)}const tl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gc=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lh(r,n){const s=(""+r).match(tl);if(!s||"normal"===s[1])return 1.2*n;switch(r=+s[2],s[3]){case"px":return r;case"%":r/=100}return n*r}const ci=r=>+r||0;function ki(r,n){const s={},o=ot(n),l=o?Object.keys(n):n,u=ot(r)?o?d=>Ze(r[d],r[n[d]]):d=>r[d]:()=>r;for(const d of l)s[d]=ci(u(d));return s}function Yc(r){return ki(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Ri(r){return ki(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Jt(r){const n=Yc(r);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Gt(r,n){let s=Ze((r=r||{}).size,(n=n||Ut.font).size);"string"==typeof s&&(s=parseInt(s,10));let o=Ze(r.style,n.style);o&&!(""+o).match(Gc)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const l={family:Ze(r.family,n.family),lineHeight:lh(Ze(r.lineHeight,n.lineHeight),s),size:s,style:o,weight:Ze(r.weight,n.weight),string:""};return l.string=function $c(r){return!r||ut(r.size)||ut(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}(l),l}function $r(r,n,s,o){let u,d,f,l=!0;for(u=0,d=r.length;u<d;++u)if(f=r[u],void 0!==f&&(void 0!==n&&"function"==typeof f&&(f=f(n),l=!1),void 0!==s&&kt(f)&&(f=f[s%f.length],l=!1),void 0!==f))return o&&!l&&(o.cacheable=!1),f}function Fi(r,n){return Object.assign(Object.create(r),n)}function Xc(r,n=[""],s,o,l=(()=>r[0])){const u=s||r;void 0===o&&(o=Zc("_fallback",r));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:u,_fallback:o,_getTarget:l,override:f=>Xc([f,...r],n,u,o)};return new Proxy(d,{deleteProperty:(f,g)=>(delete f[g],delete f._keys,delete r[0][g],!0),get:(f,g)=>il(f,g,()=>function dh(r,n,s,o){let l;for(const u of n)if(l=Zc(sl(u,r),s),void 0!==l)return ar(r,l)?qc(s,o,r,l):l}(g,n,r,f)),getOwnPropertyDescriptor:(f,g)=>Reflect.getOwnPropertyDescriptor(f._scopes[0],g),getPrototypeOf:()=>Reflect.getPrototypeOf(r[0]),has:(f,g)=>cr(f).includes(g),ownKeys:f=>cr(f),set(f,g,y){const D=f._storage||(f._storage=l());return f[g]=D[g]=y,delete f._keys,!0}})}function Os(r,n,s,o){const l={_cacheable:!1,_proxy:r,_context:n,_subProxy:s,_stack:new Set,_descriptors:nl(r,o),setContext:u=>Os(r,u,s,o),override:u=>Os(r.override(u),n,s,o)};return new Proxy(l,{deleteProperty:(u,d)=>(delete u[d],delete r[d],!0),get:(u,d,f)=>il(u,d,()=>function Jc(r,n,s){const{_proxy:o,_context:l,_subProxy:u,_descriptors:d}=r;let f=o[n];return hs(f)&&d.isScriptable(n)&&(f=function lr(r,n,s,o){const{_proxy:l,_context:u,_subProxy:d,_stack:f}=s;if(f.has(r))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+r);f.add(r);let g=n(u,d||o);return f.delete(r),ar(r,g)&&(g=qc(l._scopes,l,r,g)),g}(n,f,r,s)),kt(f)&&f.length&&(f=function uh(r,n,s,o){const{_proxy:l,_context:u,_subProxy:d,_descriptors:f}=s;if(void 0!==u.index&&o(r))return n[u.index%n.length];if(ot(n[0])){const g=n,y=l._scopes.filter(D=>D!==g);n=[];for(const D of g){const M=qc(y,l,r,D);n.push(Os(M,u,d&&d[r],f))}}return n}(n,f,r,d.isIndexable)),ar(n,f)&&(f=Os(f,l,u&&u[n],d)),f}(u,d,f)),getOwnPropertyDescriptor:(u,d)=>u._descriptors.allKeys?Reflect.has(r,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,d),getPrototypeOf:()=>Reflect.getPrototypeOf(r),has:(u,d)=>Reflect.has(r,d),ownKeys:()=>Reflect.ownKeys(r),set:(u,d,f)=>(r[d]=f,delete u[d],!0)})}function nl(r,n={scriptable:!0,indexable:!0}){const{_scriptable:s=n.scriptable,_indexable:o=n.indexable,_allKeys:l=n.allKeys}=r;return{allKeys:l,scriptable:s,indexable:o,isScriptable:hs(s)?s:()=>s,isIndexable:hs(o)?o:()=>o}}const sl=(r,n)=>r?r+Hr(n):n,ar=(r,n)=>ot(n)&&"adapters"!==r&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function il(r,n,s){if(Object.prototype.hasOwnProperty.call(r,n))return r[n];const o=s();return r[n]=o,o}function Li(r,n,s){return hs(r)?r(n,s):r}const rl=(r,n)=>!0===r?n:"string"==typeof r?ds(n,r):void 0;function Lo(r,n,s,o,l){for(const u of n){const d=rl(s,u);if(d){r.add(d);const f=Li(d._fallback,s,l);if(void 0!==f&&f!==s&&f!==o)return f}else if(!1===d&&void 0!==o&&s!==o)return null}return!1}function qc(r,n,s,o){const l=n._rootScopes,u=Li(n._fallback,s,o),d=[...r,...l],f=new Set;f.add(o);let g=ol(f,d,s,u||s,o);return null!==g&&(void 0===u||u===s||(g=ol(f,d,u,g,o),null!==g))&&Xc(Array.from(f),[""],l,u,()=>function Qc(r,n,s){const o=r._getTarget();n in o||(o[n]={});const l=o[n];return kt(l)&&ot(s)?s:l||{}}(n,s,o))}function ol(r,n,s,o,l){for(;s;)s=Lo(r,n,s,o,l);return s}function Zc(r,n){for(const s of n){if(!s)continue;const o=s[r];if(void 0!==o)return o}}function cr(r){let n=r._keys;return n||(n=r._keys=function al(r){const n=new Set;for(const s of r)for(const o of Object.keys(s).filter(l=>!l.startsWith("_")))n.add(o);return Array.from(n)}(r._scopes)),n}function No(r,n,s,o){const{iScale:l}=r,{key:u="r"}=this._parsing,d=new Array(o);let f,g,y,D;for(f=0,g=o;f<g;++f)y=f+s,D=n[y],d[f]={r:l.parse(ds(D,u),y)};return d}const Bo=Number.EPSILON||1e-14,ks=(r,n)=>n<r.length&&!r[n].skip&&r[n],eu=r=>"x"===r?"y":"x";function tu(r,n,s,o){const l=r.skip?n:r,u=n,d=s.skip?n:s,f=Ct(u,l),g=Ct(d,u);let y=f/(f+g),D=g/(f+g);y=isNaN(y)?0:y,D=isNaN(D)?0:D;const M=o*y,T=o*D;return{previous:{x:u.x-M*(d.x-l.x),y:u.y-M*(d.y-l.y)},next:{x:u.x+T*(d.x-l.x),y:u.y+T*(d.y-l.y)}}}function Ho(r,n,s){return Math.max(Math.min(r,s),n)}function jo(r,n,s,o,l){let u,d,f,g;if(n.spanGaps&&(r=r.filter(y=>!y.skip)),"monotone"===n.cubicInterpolationMode)!function iu(r,n="x"){const s=eu(n),o=r.length,l=Array(o).fill(0),u=Array(o);let d,f,g,y=ks(r,0);for(d=0;d<o;++d)if(f=g,g=y,y=ks(r,d+1),g){if(y){const D=y[n]-g[n];l[d]=0!==D?(y[s]-g[s])/D:0}u[d]=f?y?w(l[d-1])!==w(l[d])?0:(l[d-1]+l[d])/2:l[d-1]:l[d]}(function nu(r,n,s){const o=r.length;let l,u,d,f,g,y=ks(r,0);for(let D=0;D<o-1;++D)if(g=y,y=ks(r,D+1),g&&y){if(O(n[D],0,Bo)){s[D]=s[D+1]=0;continue}l=s[D]/n[D],u=s[D+1]/n[D],f=Math.pow(l,2)+Math.pow(u,2),!(f<=9)&&(d=3/Math.sqrt(f),s[D]=l*d*n[D],s[D+1]=u*d*n[D])}})(r,l,u),function su(r,n,s="x"){const o=eu(s),l=r.length;let u,d,f,g=ks(r,0);for(let y=0;y<l;++y){if(d=f,f=g,g=ks(r,y+1),!f)continue;const D=f[s],M=f[o];d&&(u=(D-d[s])/3,f[`cp1${s}`]=D-u,f[`cp1${o}`]=M-u*n[y]),g&&(u=(g[s]-D)/3,f[`cp2${s}`]=D+u,f[`cp2${o}`]=M+u*n[y])}}(r,u,n)}(r,l);else{let y=o?r[r.length-1]:r[0];for(u=0,d=r.length;u<d;++u)f=r[u],g=tu(y,f,r[Math.min(u+1,d-(o?0:1))%d],n.tension),f.cp1x=g.previous.x,f.cp1y=g.previous.y,f.cp2x=g.next.x,f.cp2y=g.next.y,y=f}n.capBezierPoints&&function hh(r,n){let s,o,l,u,d,f=Dt(r[0],n);for(s=0,o=r.length;s<o;++s)d=u,u=f,f=s<o-1&&Dt(r[s+1],n),u&&(l=r[s],d&&(l.cp1x=Ho(l.cp1x,n.left,n.right),l.cp1y=Ho(l.cp1y,n.top,n.bottom)),f&&(l.cp2x=Ho(l.cp2x,n.left,n.right),l.cp2y=Ho(l.cp2y,n.top,n.bottom)))}(r,s)}function Ni(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ll(r){let n=r.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function Kr(r,n,s){let o;return"string"==typeof r?(o=parseInt(r,10),-1!==r.indexOf("%")&&(o=o/100*n.parentNode[s])):o=r,o}const Gr=r=>r.ownerDocument.defaultView.getComputedStyle(r,null),ru=["top","right","bottom","left"];function Rs(r,n,s){const o={};s=s?"-"+s:"";for(let l=0;l<4;l++){const u=ru[l];o[u]=parseFloat(r[n+"-"+u+s])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function Gn(r,n){if("native"in r)return r;const{canvas:s,currentDevicePixelRatio:o}=n,l=Gr(s),u="border-box"===l.boxSizing,d=Rs(l,"padding"),f=Rs(l,"border","width"),{x:g,y,box:D}=function dr(r,n){const s=r.touches,o=s&&s.length?s[0]:r,{offsetX:l,offsetY:u}=o;let f,g,d=!1;if(((r,n,s)=>(r>0||n>0)&&(!s||!s.shadowRoot))(l,u,r.target))f=l,g=u;else{const y=n.getBoundingClientRect();f=o.clientX-y.left,g=o.clientY-y.top,d=!0}return{x:f,y:g,box:d}}(r,s),M=d.left+(D&&f.left),T=d.top+(D&&f.top);let{width:R,height:H}=n;return u&&(R-=d.width+f.width,H-=d.height+f.height),{x:Math.round((g-M)/R*s.width/o),y:Math.round((y-T)/H*s.height/o)}}const Yr=r=>Math.round(10*r)/10;function Bi(r,n,s){const o=n||1,l=Math.floor(r.height*o),u=Math.floor(r.width*o);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const d=r.canvas;return d.style&&(s||!d.style.height&&!d.style.width)&&(d.style.height=`${r.height}px`,d.style.width=`${r.width}px`),(r.currentDevicePixelRatio!==o||d.height!==l||d.width!==u)&&(r.currentDevicePixelRatio=o,d.height=l,d.width=u,r.ctx.setTransform(o,0,0,o,0,0),!0)}const tg=function(){let r=!1;try{const n={get passive(){return r=!0,!1}};Ni()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch(n){}return r}();function ou(r,n){const s=function ur(r,n){return Gr(r).getPropertyValue(n)}(r,n),o=s&&s.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Ot(r,n,s,o){return{x:r.x+s*(n.x-r.x),y:r.y+s*(n.y-r.y)}}function ng(r,n,s,o){return{x:r.x+s*(n.x-r.x),y:"middle"===o?s<.5?r.y:n.y:"after"===o?s<1?r.y:n.y:s>0?n.y:r.y}}function sg(r,n,s,o){const l={x:r.cp2x,y:r.cp2y},u={x:n.cp1x,y:n.cp1y},d=Ot(r,l,s),f=Ot(l,u,s),g=Ot(u,n,s),y=Ot(d,f,s),D=Ot(f,g,s);return Ot(y,D,s)}function Xr(r,n,s){return r?function(r,n){return{x:s=>r+r+n-s,setWidth(s){n=s},textAlign:s=>"center"===s?s:"right"===s?"left":"right",xPlus:(s,o)=>s-o,leftForLtr:(s,o)=>s-o}}(n,s):{x:r=>r,setWidth(r){},textAlign:r=>r,xPlus:(r,n)=>r+n,leftForLtr:(r,n)=>r}}function fh(r,n){let s,o;("ltr"===n||"rtl"===n)&&(s=r.canvas.style,o=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",n,"important"),r.prevTextDirection=o)}function ph(r,n){void 0!==n&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",n[0],n[1]))}function fr(r){return"angle"===r?{between:kn,compare:$t,normalize:yt}:{between:rn,compare:(n,s)=>n-s,normalize:n=>n}}function gh({start:r,end:n,count:s,loop:o,style:l}){return{start:r%s,end:n%s,loop:o&&(n-r+1)%s==0,style:l}}function Vo(r,n,s){if(!s)return[r];const{property:o,start:l,end:u}=s,d=n.length,{compare:f,between:g,normalize:y}=fr(o),{start:D,end:M,loop:T,style:R}=function on(r,n,s){const{property:o,start:l,end:u}=s,{between:d,normalize:f}=fr(o),g=n.length;let T,R,{start:y,end:D,loop:M}=r;if(M){for(y+=g,D+=g,T=0,R=g;T<R&&d(f(n[y%g][o]),l,u);++T)y--,D--;y%=g,D%=g}return D<y&&(D+=g),{start:y,end:D,loop:M,style:r.style}}(r,n,s),H=[];let ie,pe,Ce,U=!1,X=null;for(let Be=D,ze=D;Be<=M;++Be)pe=n[Be%d],!pe.skip&&(ie=y(pe[o]),ie!==Ce&&(U=g(ie,l,u),null===X&&(U||g(l,Ce,ie)&&0!==f(l,Ce))&&(X=0===f(ie,l)?Be:ze),null!==X&&(!U||0===f(u,ie)||g(u,Ce,ie))&&(H.push(gh({start:X,end:Be,loop:T,count:d,style:R})),X=null),ze=Be,Ce=ie));return null!==X&&H.push(gh({start:X,end:M,loop:T,count:d,style:R})),H}function pr(r,n){const s=[],o=r.segments;for(let l=0;l<o.length;l++){const u=Vo(o[l],r.points,n);u.length&&s.push(...u)}return s}function Jr(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function qr(r,n){if(!n)return!1;const s=[],o=function(l,u){return nr(u)?(s.includes(u)||s.push(u),s.indexOf(u)):u};return JSON.stringify(r,o)!==JSON.stringify(n,o)}class lu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,s,o,l){const d=s.duration;s.listeners[l].forEach(f=>f({chart:n,initial:s.initial,numSteps:d,currentStep:Math.min(o-s.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=Nc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let s=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const u=o.items;let g,d=u.length-1,f=!1;for(;d>=0;--d)g=u[d],g._active?(g._total>o.duration&&(o.duration=g._total),g.tick(n),f=!0):(u[d]=u[u.length-1],u.pop());f&&(l.draw(),this._notify(l,o,n,"progress")),u.length||(o.running=!1,this._notify(l,o,n,"complete"),o.initial=!1),s+=u.length}),this._lastDate=n,0===s&&(this._running=!1)}_getAnims(n){const s=this._charts;let o=s.get(n);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(n,o)),o}listen(n,s,o){this._getAnims(n).listeners[s].push(o)}add(n,s){!s||!s.length||this._getAnims(n).items.push(...s)}has(n){return this._getAnims(n).items.length>0}start(n){const s=this._charts.get(n);!s||(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(n){if(!this._running)return!1;const s=this._charts.get(n);return!(!s||!s.running||!s.items.length)}stop(n){const s=this._charts.get(n);if(!s||!s.items.length)return;const o=s.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();s.items=[],this._notify(n,s,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Fs=new lu;const cu="transparent",ag={boolean:(r,n,s)=>s>.5?n:r,color(r,n,s){const o=Ur(r||cu),l=o.valid&&Ur(n||cu);return l&&l.valid?l.mix(o,s).hexString():n},number:(r,n,s)=>r+(n-r)*s};class lg{constructor(n,s,o,l){const u=s[o];l=$r([n.to,l,u,n.from]);const d=$r([n.from,u,l]);this._active=!0,this._fn=n.fn||ag[n.type||typeof d],this._easing=Vr[n.easing]||Vr.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=s,this._prop=o,this._from=d,this._to=l,this._promises=void 0}active(){return this._active}update(n,s,o){if(this._active){this._notify(!1);const l=this._target[this._prop],u=o-this._start,d=this._duration-u;this._start=o,this._duration=Math.floor(Math.max(d,n.duration)),this._total+=u,this._loop=!!n.loop,this._to=$r([n.to,s,l,n.from]),this._from=$r([n.from,l,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const s=n-this._start,o=this._duration,l=this._prop,u=this._from,d=this._loop,f=this._to;let g;if(this._active=u!==f&&(d||s<o),!this._active)return this._target[l]=f,void this._notify(!0);s<0?this._target[l]=u:(g=s/o%2,g=d&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[l]=this._fn(u,f,g))}wait(){const n=this._promises||(this._promises=[]);return new Promise((s,o)=>{n.push({res:s,rej:o})})}_notify(n){const s=n?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][s]()}}class dl{constructor(n,s){this._chart=n,this._properties=new Map,this.configure(s)}configure(n){if(!ot(n))return;const s=Object.keys(Ut.animation),o=this._properties;Object.getOwnPropertyNames(n).forEach(l=>{const u=n[l];if(!ot(u))return;const d={};for(const f of s)d[f]=u[f];(kt(u.properties)&&u.properties||[l]).forEach(f=>{(f===l||!o.has(f))&&o.set(f,d)})})}_animateOptions(n,s){const o=s.options,l=function hl(r,n){if(!n)return;let s=r.options;if(s)return s.$shared&&(r.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;r.options=n}(n,o);if(!l)return[];const u=this._createAnimations(l,o);return o.$shared&&function jn(r,n){const s=[],o=Object.keys(n);for(let l=0;l<o.length;l++){const u=r[o[l]];u&&u.active()&&s.push(u.wait())}return Promise.all(s)}(n.options.$animations,o).then(()=>{n.options=o},()=>{}),u}_createAnimations(n,s){const o=this._properties,l=[],u=n.$animations||(n.$animations={}),d=Object.keys(s),f=Date.now();let g;for(g=d.length-1;g>=0;--g){const y=d[g];if("$"===y.charAt(0))continue;if("options"===y){l.push(...this._animateOptions(n,s));continue}const D=s[y];let M=u[y];const T=o.get(y);if(M){if(T&&M.active()){M.update(T,D,f);continue}M.cancel()}T&&T.duration?(u[y]=M=new lg(T,n,y,D),l.push(M)):n[y]=D}return l}update(n,s){if(0===this._properties.size)return void Object.assign(n,s);const o=this._createAnimations(n,s);return o.length?(Fs.add(this._chart,o),!0):void 0}}function Hi(r,n){const s=r&&r.options||{},o=s.reverse,l=void 0===s.min?n:0,u=void 0===s.max?n:0;return{start:o?u:l,end:o?l:u}}function du(r,n){const s=[],o=r._getSortedDatasetMetas(n);let l,u;for(l=0,u=o.length;l<u;++l)s.push(o[l].index);return s}function hu(r,n,s,o={}){const l=r.keys,u="single"===o.mode;let d,f,g,y;if(null!==n){for(d=0,f=l.length;d<f;++d){if(g=+l[d],g===s){if(o.all)continue;break}y=r.values[g],Vt(y)&&(u||0===n||w(n)===w(y))&&(n+=y)}return n}}function fu(r,n){const s=r&&r.options.stacked;return s||void 0===s&&void 0!==n.stack}function fl(r,n,s){const o=r[n]||(r[n]={});return o[s]||(o[s]={})}function Qr(r,n,s,o){for(const l of n.getMatchingVisibleMetas(o).reverse()){const u=r[l.index];if(s&&u>0||!s&&u<0)return l.index}return null}function vh(r,n){const{chart:s,_cachedMeta:o}=r,l=s._stacks||(s._stacks={}),{iScale:u,vScale:d,index:f}=o,g=u.axis,y=d.axis,D=function yh(r,n,s){return`${r.id}.${n.id}.${s.stack||s.type}`}(u,d,o),M=n.length;let T;for(let R=0;R<M;++R){const H=n[R],{[g]:U,[y]:X}=H;T=(H._stacks||(H._stacks={}))[y]=fl(l,D,U),T[f]=X,T._top=Qr(T,d,!0,o.type),T._bottom=Qr(T,d,!1,o.type),(T._visualValues||(T._visualValues={}))[f]=X}}function ji(r,n){const s=r.scales;return Object.keys(s).filter(o=>s[o].axis===n).shift()}function Zr(r,n){const s=r.controller.index,o=r.vScale&&r.vScale.axis;if(o){n=n||r._parsed;for(const l of n){const u=l._stacks;if(!u||void 0===u[o]||void 0===u[o][s])return;delete u[o][s],void 0!==u[o]._visualValues&&void 0!==u[o]._visualValues[s]&&delete u[o]._visualValues[s]}}}const gl=r=>"reset"===r||"none"===r,gu=(r,n)=>n?r:Object.assign({},r);class ns{constructor(n,s){this.chart=n,this._ctx=n.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=fu(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Zr(this._cachedMeta),this.index=n}linkScales(){const n=this.chart,s=this._cachedMeta,o=this.getDataset(),l=(M,T,R,H)=>"x"===M?T:"r"===M?H:R,u=s.xAxisID=Ze(o.xAxisID,ji(n,"x")),d=s.yAxisID=Ze(o.yAxisID,ji(n,"y")),f=s.rAxisID=Ze(o.rAxisID,ji(n,"r")),g=s.indexAxis,y=s.iAxisID=l(g,u,d,f),D=s.vAxisID=l(g,d,u,f);s.xScale=this.getScaleForId(u),s.yScale=this.getScaleForId(d),s.rScale=this.getScaleForId(f),s.iScale=this.getScaleForId(y),s.vScale=this.getScaleForId(D)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const s=this._cachedMeta;return n===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&Lc(this._data,this),n._stacked&&Zr(n)}_dataCheck(){const n=this.getDataset(),s=n.data||(n.data=[]),o=this._data;if(ot(s))this._data=function _h(r){const n=Object.keys(r),s=new Array(n.length);let o,l,u;for(o=0,l=n.length;o<l;++o)u=n[o],s[o]={x:u,y:r[u]};return s}(s);else if(o!==s){if(o){Lc(o,this);const l=this._cachedMeta;Zr(l),l._parsed=[]}s&&Object.isExtensible(s)&&function nh(r,n){r._chartjs?r._chartjs.listeners.push(n):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),Fc.forEach(s=>{const o="_onData"+Hr(s),l=r[s];Object.defineProperty(r,s,{configurable:!0,enumerable:!1,value(...u){const d=l.apply(this,u);return r._chartjs.listeners.forEach(f=>{"function"==typeof f[o]&&f[o](...u)}),d}})}))}(s,this),this._syncList=[],this._data=s}}addElements(){const n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const s=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const u=s._stacked;s._stacked=fu(s.vScale,s),s.stack!==o.stack&&(l=!0,Zr(s),s.stack=o.stack),this._resyncElements(n),(l||u!==s._stacked)&&vh(this,s._parsed)}configure(){const n=this.chart.config,s=n.datasetScopeKeys(this._type),o=n.getOptionScopes(this.getDataset(),s,!0);this.options=n.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,s){const{_cachedMeta:o,_data:l}=this,{iScale:u,_stacked:d}=o,f=u.axis;let D,M,T,g=0===n&&s===l.length||o._sorted,y=n>0&&o._parsed[n-1];if(!1===this._parsing)o._parsed=l,o._sorted=!0,T=l;else{T=kt(l[n])?this.parseArrayData(o,l,n,s):ot(l[n])?this.parseObjectData(o,l,n,s):this.parsePrimitiveData(o,l,n,s);const R=()=>null===M[f]||y&&M[f]<y[f];for(D=0;D<s;++D)o._parsed[D+n]=M=T[D],g&&(R()&&(g=!1),y=M);o._sorted=g}d&&vh(this,T)}parsePrimitiveData(n,s,o,l){const{iScale:u,vScale:d}=n,f=u.axis,g=d.axis,y=u.getLabels(),D=u===d,M=new Array(l);let T,R,H;for(T=0,R=l;T<R;++T)H=T+o,M[T]={[f]:D||u.parse(y[H],H),[g]:d.parse(s[H],H)};return M}parseArrayData(n,s,o,l){const{xScale:u,yScale:d}=n,f=new Array(l);let g,y,D,M;for(g=0,y=l;g<y;++g)D=g+o,M=s[D],f[g]={x:u.parse(M[0],D),y:d.parse(M[1],D)};return f}parseObjectData(n,s,o,l){const{xScale:u,yScale:d}=n,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,y=new Array(l);let D,M,T,R;for(D=0,M=l;D<M;++D)T=D+o,R=s[T],y[D]={x:u.parse(ds(R,f),T),y:d.parse(ds(R,g),T)};return y}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,s,o){const u=this._cachedMeta,d=s[n.axis];return hu({keys:du(this.chart,!0),values:s._stacks[n.axis]._visualValues},d,u.index,{mode:o})}updateRangeFromParsed(n,s,o,l){const u=o[s.axis];let d=null===u?NaN:u;const f=l&&o._stacks[s.axis];l&&f&&(l.values=f,d=hu(l,u,this._cachedMeta.index)),n.min=Math.min(n.min,d),n.max=Math.max(n.max,d)}getMinMax(n,s){const o=this._cachedMeta,l=o._parsed,u=o._sorted&&n===o.iScale,d=l.length,f=this._getOtherScale(n),g=((r,n,s)=>r&&!n.hidden&&n._stacked&&{keys:du(this.chart,!0),values:null})(s,o),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:D,max:M}=function pu(r){const{min:n,max:s,minDefined:o,maxDefined:l}=r.getUserBounds();return{min:o?n:Number.NEGATIVE_INFINITY,max:l?s:Number.POSITIVE_INFINITY}}(f);let T,R;function H(){R=l[T];const U=R[f.axis];return!Vt(R[n.axis])||D>U||M<U}for(T=0;T<d&&(H()||(this.updateRangeFromParsed(y,n,R,g),!u));++T);if(u)for(T=d-1;T>=0;--T)if(!H()){this.updateRangeFromParsed(y,n,R,g);break}return y}getAllParsedValues(n){const s=this._cachedMeta._parsed,o=[];let l,u,d;for(l=0,u=s.length;l<u;++l)d=s[l][n.axis],Vt(d)&&o.push(d);return o}getMaxOverflow(){return!1}getLabelAndValue(n){const s=this._cachedMeta,o=s.iScale,l=s.vScale,u=this.getParsed(n);return{label:o?""+o.getLabelForValue(u[o.axis]):"",value:l?""+l.getLabelForValue(u[l.axis]):""}}_update(n){const s=this._cachedMeta;this.update(n||"default"),s._clip=function uu(r){let n,s,o,l;return ot(r)?(n=r.top,s=r.right,o=r.bottom,l=r.left):n=s=o=l=r,{top:n,right:s,bottom:o,left:l,disabled:!1===r}}(Ze(this.options.clip,function cg(r,n,s){if(!1===s)return!1;const o=Hi(r,s),l=Hi(n,s);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}(s.xScale,s.yScale,this.getMaxOverflow())))}update(n){}draw(){const n=this._ctx,o=this._cachedMeta,l=o.data||[],u=this.chart.chartArea,d=[],f=this._drawStart||0,g=this._drawCount||l.length-f,y=this.options.drawActiveElementsOnTop;let D;for(o.dataset&&o.dataset.draw(n,u,f,g),D=f;D<f+g;++D){const M=l[D];M.hidden||(M.active&&y?d.push(M):M.draw(n,u))}for(D=0;D<d.length;++D)d[D].draw(n,u)}getStyle(n,s){const o=s?"active":"default";return void 0===n&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(n||0,o)}getContext(n,s,o){const l=this.getDataset();let u;if(n>=0&&n<this._cachedMeta.data.length){const d=this._cachedMeta.data[n];u=d.$context||(d.$context=function Uo(r,n,s){return Fi(r,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:s,index:n,mode:"default",type:"data"})}(this.getContext(),n,d)),u.parsed=this.getParsed(n),u.raw=l.data[n],u.index=u.dataIndex=n}else u=this.$context||(this.$context=function pl(r,n){return Fi(r,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),u.dataset=l,u.index=u.datasetIndex=this.index;return u.active=!!s,u.mode=o,u}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,s){return this._resolveElementOptions(this.dataElementType.id,s,n)}_resolveElementOptions(n,s="default",o){const l="active"===s,u=this._cachedDataOpts,d=n+"-"+s,f=u[d],g=this.enableOptionSharing&&Ii(o);if(f)return gu(f,g);const y=this.chart.config,D=y.datasetElementScopeKeys(this._type,n),M=l?[`${n}Hover`,"hover",n,""]:[n,""],T=y.getOptionScopes(this.getDataset(),D),R=Object.keys(Ut.elements[n]),U=y.resolveNamedOptions(T,R,()=>this.getContext(o,l,s),M);return U.$shared&&(U.$shared=g,u[d]=Object.freeze(gu(U,g))),U}_resolveAnimations(n,s,o){const l=this.chart,u=this._cachedDataOpts,d=`animation-${s}`,f=u[d];if(f)return f;let g;if(!1!==l.options.animation){const D=this.chart.config,M=D.datasetAnimationScopeKeys(this._type,s),T=D.getOptionScopes(this.getDataset(),M);g=D.createResolver(T,this.getContext(n,o,s))}const y=new dl(l,g&&g.animations);return g&&g._cacheable&&(u[d]=Object.freeze(y)),y}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,s){return!s||gl(n)||this.chart._animationsDisabled}_getSharedOptions(n,s){const o=this.resolveDataElementOptions(n,s),l=this._sharedOptions,u=this.getSharedOptions(o),d=this.includeOptions(s,u)||u!==l;return this.updateSharedOptions(u,s,o),{sharedOptions:u,includeOptions:d}}updateElement(n,s,o,l){gl(l)?Object.assign(n,o):this._resolveAnimations(s,l).update(n,o)}updateSharedOptions(n,s,o){n&&!gl(s)&&this._resolveAnimations(void 0,s).update(n,o)}_setStyle(n,s,o,l){n.active=l;const u=this.getStyle(s,l);this._resolveAnimations(s,o,l).update(n,{options:!l&&this.getSharedOptions(u)||u})}removeHoverStyle(n,s,o){this._setStyle(n,o,"active",!1)}setHoverStyle(n,s,o){this._setStyle(n,o,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const s=this._data,o=this._cachedMeta.data;for(const[f,g,y]of this._syncList)this[f](g,y);this._syncList=[];const l=o.length,u=s.length,d=Math.min(u,l);d&&this.parse(0,d),u>l?this._insertElements(l,u-l,n):u<l&&this._removeElements(u,l-u)}_insertElements(n,s,o=!0){const l=this._cachedMeta,u=l.data,d=n+s;let f;const g=y=>{for(y.length+=s,f=y.length-1;f>=d;f--)y[f]=y[f-s]};for(g(u),f=n;f<d;++f)u[f]=new this.dataElementType;this._parsing&&g(l._parsed),this.parse(n,s),o&&this.updateElements(u,n,s,"reset")}updateElements(n,s,o,l){}_removeElements(n,s){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(n,s);o._stacked&&Zr(o,l)}o.data.splice(n,s)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[s,o,l]=n;this[s](o,l)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,s){s&&this._sync(["_removeElements",n,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",n,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _u(r){const n=r.iScale,s=function eo(r,n){if(!r._cache.$bar){const s=r.getMatchingVisibleMetas(n);let o=[];for(let l=0,u=s.length;l<u;l++)o=o.concat(s[l].controller.getAllParsedValues(r));r._cache.$bar=Qa(o.sort((l,u)=>l-u))}return r._cache.$bar}(n,r.type);let l,u,d,f,o=n._length;const g=()=>{32767===d||-32768===d||(Ii(f)&&(o=Math.min(o,Math.abs(d-f)||o)),f=d)};for(l=0,u=s.length;l<u;++l)d=n.getPixelForValue(s[l]),g();for(f=void 0,l=0,u=n.ticks.length;l<u;++l)d=n.getPixelForTick(l),g();return o}function vu(r,n,s,o){return kt(r)?function yu(r,n,s,o){const l=s.parse(r[0],o),u=s.parse(r[1],o),d=Math.min(l,u),f=Math.max(l,u);let g=d,y=f;Math.abs(d)>Math.abs(f)&&(g=f,y=d),n[s.axis]=y,n._custom={barStart:g,barEnd:y,start:l,end:u,min:d,max:f}}(r,n,s,o):n[s.axis]=s.parse(r,o),n}function Wo(r,n,s,o){const l=r.iScale,u=r.vScale,d=l.getLabels(),f=l===u,g=[];let y,D,M,T;for(y=s,D=s+o;y<D;++y)T=n[y],M={},M[l.axis]=f||l.parse(d[y],y),g.push(vu(T,M,u,y));return g}function Vi(r){return r&&void 0!==r.barStart&&void 0!==r.barEnd}function wh(r,n,s,o){let l=n.borderSkipped;const u={};if(!l)return void(r.borderSkipped=u);if(!0===l)return void(r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:d,end:f,reverse:g,top:y,bottom:D}=function Eh(r){let n,s,o,l,u;return r.horizontal?(n=r.base>r.x,s="left",o="right"):(n=r.base<r.y,s="bottom",o="top"),n?(l="end",u="start"):(l="start",u="end"),{start:s,end:o,reverse:n,top:l,bottom:u}}(r);"middle"===l&&s&&(r.enableBorderRadius=!0,(s._top||0)===o?l=y:(s._bottom||0)===o?l=D:(u[zo(D,d,f,g)]=!0,l=y)),u[zo(l,d,f,g)]=!0,r.borderSkipped=u}function zo(r,n,s,o){return o?(r=function $o(r,n,s){return r===n?s:r===s?n:r}(r,n,s),r=ml(r,s,n)):r=ml(r,n,s),r}function ml(r,n,s){return"start"===r?n:"end"===r?s:r}function Ko(r,{inflateAmount:n},s){r.inflateAmount="auto"===n?1===s?.33:0:n}Re(ns,"defaults",{}),Re(ns,"datasetElementType",null),Re(ns,"dataElementType",null);class Go extends ns{parsePrimitiveData(n,s,o,l){return Wo(n,s,o,l)}parseArrayData(n,s,o,l){return Wo(n,s,o,l)}parseObjectData(n,s,o,l){const{iScale:u,vScale:d}=n,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,y="x"===u.axis?f:g,D="x"===d.axis?f:g,M=[];let T,R,H,U;for(T=o,R=o+l;T<R;++T)U=s[T],H={},H[u.axis]=u.parse(ds(U,y),T),M.push(vu(ds(U,D),H,d,T));return M}updateRangeFromParsed(n,s,o,l){super.updateRangeFromParsed(n,s,o,l);const u=o._custom;u&&s===this._cachedMeta.vScale&&(n.min=Math.min(n.min,u.min),n.max=Math.max(n.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const s=this._cachedMeta,{iScale:o,vScale:l}=s,u=this.getParsed(n),d=u._custom,f=Vi(d)?"["+d.start+", "+d.end+"]":""+l.getLabelForValue(u[l.axis]);return{label:""+o.getLabelForValue(u[o.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(n){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,n)}updateElements(n,s,o,l){const u="reset"===l,{index:d,_cachedMeta:{vScale:f}}=this,g=f.getBasePixel(),y=f.isHorizontal(),D=this._getRuler(),{sharedOptions:M,includeOptions:T}=this._getSharedOptions(s,l);for(let R=s;R<s+o;R++){const H=this.getParsed(R),U=u||ut(H[f.axis])?{base:g,head:g}:this._calculateBarValuePixels(R),X=this._calculateBarIndexPixels(R,D),ie=(H._stacks||{})[f.axis],pe={horizontal:y,base:U.base,enableBorderRadius:!ie||Vi(H._custom)||d===ie._top||d===ie._bottom,x:y?U.head:X.center,y:y?X.center:U.head,height:y?X.size:Math.abs(U.size),width:y?Math.abs(U.size):X.size};T&&(pe.options=M||this.resolveDataElementOptions(R,n[R].active?"active":l));const Ce=pe.options||n[R].options;wh(pe,Ce,ie,d),Ko(pe,Ce,D.ratio),this.updateElement(n[R],R,pe,l)}}_getStacks(n,s){const{iScale:o}=this._cachedMeta,l=o.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),u=o.options.stacked,d=[],f=g=>{const y=g.controller.getParsed(s),D=y&&y[g.vScale.axis];if(ut(D)||isNaN(D))return!0};for(const g of l)if((void 0===s||!f(g))&&((!1===u||-1===d.indexOf(g.stack)||void 0===u&&void 0===g.stack)&&d.push(g.stack),g.index===n))break;return d.length||d.push(void 0),d}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,s,o){const l=this._getStacks(n,o),u=void 0!==s?l.indexOf(s):-1;return-1===u?l.length-1:u}_getRuler(){const n=this.options,s=this._cachedMeta,o=s.iScale,l=[];let u,d;for(u=0,d=s.data.length;u<d;++u)l.push(o.getPixelForValue(this.getParsed(u)[o.axis],u));const f=n.barThickness;return{min:f||_u(s),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:n.grouped,ratio:f?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:s,_stacked:o,index:l},options:{base:u,minBarLength:d}}=this,f=u||0,g=this.getParsed(n),y=g._custom,D=Vi(y);let H,U,M=g[s.axis],T=0,R=o?this.applyStack(s,g,o):M;R!==M&&(T=R-M,R=M),D&&(M=y.barStart,R=y.barEnd-y.barStart,0!==M&&w(M)!==w(y.barEnd)&&(T=0),T+=M);const X=ut(u)||D?T:u;let ie=s.getPixelForValue(X);if(H=this.chart.getDataVisibility(n)?s.getPixelForValue(T+R):ie,U=H-ie,Math.abs(U)<d){U=function Dh(r,n,s){return 0!==r?w(r):(n.isHorizontal()?1:-1)*(n.min>=s?1:-1)}(U,s,f)*d,M===f&&(ie-=U/2);const pe=s.getPixelForDecimal(0),Ce=s.getPixelForDecimal(1),Me=Math.min(pe,Ce),De=Math.max(pe,Ce);ie=Math.max(Math.min(ie,De),Me),H=ie+U,o&&!D&&(g._stacks[s.axis]._visualValues[l]=s.getValueForPixel(H)-s.getValueForPixel(ie))}if(ie===s.getPixelForValue(f)){const pe=w(U)*s.getLineWidthForValue(f)/2;ie+=pe,U-=pe}return{size:U,base:ie,head:H,center:H+U/2}}_calculateBarIndexPixels(n,s){const o=s.scale,l=this.options,u=l.skipNull,d=Ze(l.maxBarThickness,1/0);let f,g;if(s.grouped){const y=u?this._getStackCount(n):s.stackCount,D="flex"===l.barThickness?function gn(r,n,s,o){const l=n.pixels,u=l[r];let d=r>0?l[r-1]:null,f=r<l.length-1?l[r+1]:null;const g=s.categoryPercentage;null===d&&(d=u-(null===f?n.end-n.start:f-u)),null===f&&(f=u+u-d);const y=u-(u-Math.min(d,f))/2*g;return{chunk:Math.abs(f-d)/2*g/o,ratio:s.barPercentage,start:y}}(n,s,l,y):function bh(r,n,s,o){const l=s.barThickness;let u,d;return ut(l)?(u=n.min*s.categoryPercentage,d=s.barPercentage):(u=l*o,d=1),{chunk:u/o,ratio:d,start:n.pixels[r]-u/2}}(n,s,l,y),M=this._getStackIndex(this.index,this._cachedMeta.stack,u?n:void 0);f=D.start+D.chunk*M+D.chunk/2,g=Math.min(d,D.chunk*D.ratio)}else f=o.getPixelForValue(this.getParsed(n)[o.axis],n),g=Math.min(d,s.min*s.ratio);return{base:f-g/2,head:f+g/2,center:f,size:g}}draw(){const n=this._cachedMeta,s=n.vScale,o=n.data,l=o.length;let u=0;for(;u<l;++u)null!==this.getParsed(u)[s.axis]&&o[u].draw(this._ctx)}}Re(Go,"id","bar"),Re(Go,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Re(Go,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class to extends ns{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,s,o,l){const u=super.parsePrimitiveData(n,s,o,l);for(let d=0;d<u.length;d++)u[d]._custom=this.resolveDataElementOptions(d+o).radius;return u}parseArrayData(n,s,o,l){const u=super.parseArrayData(n,s,o,l);for(let d=0;d<u.length;d++)u[d]._custom=Ze(s[o+d][2],this.resolveDataElementOptions(d+o).radius);return u}parseObjectData(n,s,o,l){const u=super.parseObjectData(n,s,o,l);for(let d=0;d<u.length;d++){const f=s[o+d];u[d]._custom=Ze(f&&f.r&&+f.r,this.resolveDataElementOptions(d+o).radius)}return u}getMaxOverflow(){const n=this._cachedMeta.data;let s=0;for(let o=n.length-1;o>=0;--o)s=Math.max(s,n[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}getLabelAndValue(n){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:l,yScale:u}=s,d=this.getParsed(n),f=l.getLabelForValue(d.x),g=u.getLabelForValue(d.y),y=d._custom;return{label:o[n]||"",value:"("+f+", "+g+(y?", "+y:"")+")"}}update(n){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,n)}updateElements(n,s,o,l){const u="reset"===l,{iScale:d,vScale:f}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(s,l),D=d.axis,M=f.axis;for(let T=s;T<s+o;T++){const R=n[T],H=!u&&this.getParsed(T),U={},X=U[D]=u?d.getPixelForDecimal(.5):d.getPixelForValue(H[D]),ie=U[M]=u?f.getBasePixel():f.getPixelForValue(H[M]);U.skip=isNaN(X)||isNaN(ie),y&&(U.options=g||this.resolveDataElementOptions(T,R.active?"active":l),u&&(U.options.radius=0)),this.updateElement(R,T,U,l)}}resolveDataElementOptions(n,s){const o=this.getParsed(n);let l=super.resolveDataElementOptions(n,s);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const u=l.radius;return"active"!==s&&(l.radius=0),l.radius+=Ze(o&&o._custom,u),l}}Re(to,"id","bubble"),Re(to,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Re(to,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class ps extends ns{constructor(n,s){super(n,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,s){const o=this.getDataset().data,l=this._cachedMeta;if(!1===this._parsing)l._parsed=o;else{let d,f,u=g=>+o[g];if(ot(o[n])){const{key:g="value"}=this._parsing;u=y=>+ds(o[y],g)}for(d=n,f=n+s;d<f;++d)l._parsed[d]=u(d)}}_getRotation(){return lt(this.options.rotation-90)}_getCircumference(){return lt(this.options.circumference)}_getRotationExtents(){let n=at,s=-at;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const l=this.chart.getDatasetMeta(o).controller,u=l._getRotation(),d=l._getCircumference();n=Math.min(n,u),s=Math.max(s,u+d)}return{rotation:n,circumference:s-n}}update(n){const s=this.chart,{chartArea:o}=s,l=this._cachedMeta,u=l.data,d=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,f=Math.max((Math.min(o.width,o.height)-d)/2,0),g=Math.min(((r,n)=>"string"==typeof r&&r.endsWith("%")?parseFloat(r)/100:+r/n)(this.options.cutout,f),1),y=this._getRingWeight(this.index),{circumference:D,rotation:M}=this._getRotationExtents(),{ratioX:T,ratioY:R,offsetX:H,offsetY:U}=function _l(r,n,s){let o=1,l=1,u=0,d=0;if(n<at){const f=r,g=f+n,y=Math.cos(f),D=Math.sin(f),M=Math.cos(g),T=Math.sin(g),R=(Ce,Me,De)=>kn(Ce,f,g,!0)?1:Math.max(Me,Me*s,De,De*s),H=(Ce,Me,De)=>kn(Ce,f,g,!0)?-1:Math.min(Me,Me*s,De,De*s),U=R(0,y,M),X=R(zt,D,T),ie=H(Rt,y,M),pe=H(Rt+zt,D,T);o=(U-ie)/2,l=(X-pe)/2,u=-(U+ie)/2,d=-(X+pe)/2}return{ratioX:o,ratioY:l,offsetX:u,offsetY:d}}(M,D,g),pe=Math.max(Math.min((o.width-d)/T,(o.height-d)/R)/2,0),Ce=Ja(this.options.radius,pe),De=(Ce-Math.max(Ce*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=H*Ce,this.offsetY=U*Ce,l.total=this.calculateTotal(),this.outerRadius=Ce-De*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-De*y,0),this.updateElements(u,0,u.length,n)}_circumference(n,s){const o=this.options,l=this._cachedMeta,u=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(n)||null===l._parsed[n]||l.data[n].hidden?0:this.calculateCircumference(l._parsed[n]*u/at)}updateElements(n,s,o,l){const u="reset"===l,d=this.chart,f=d.chartArea,D=(f.left+f.right)/2,M=(f.top+f.bottom)/2,T=u&&d.options.animation.animateScale,R=T?0:this.innerRadius,H=T?0:this.outerRadius,{sharedOptions:U,includeOptions:X}=this._getSharedOptions(s,l);let pe,ie=this._getRotation();for(pe=0;pe<s;++pe)ie+=this._circumference(pe,u);for(pe=s;pe<s+o;++pe){const Ce=this._circumference(pe,u),Me=n[pe],De={x:D+this.offsetX,y:M+this.offsetY,startAngle:ie,endAngle:ie+Ce,circumference:Ce,outerRadius:H,innerRadius:R};X&&(De.options=U||this.resolveDataElementOptions(pe,Me.active?"active":l)),ie+=Ce,this.updateElement(Me,pe,De,l)}}calculateTotal(){const n=this._cachedMeta,s=n.data;let l,o=0;for(l=0;l<s.length;l++){const u=n._parsed[l];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(l)&&!s[l].hidden&&(o+=Math.abs(u))}return o}calculateCircumference(n){const s=this._cachedMeta.total;return s>0&&!isNaN(n)?at*(Math.abs(n)/s):0}getLabelAndValue(n){const o=this.chart,l=o.data.labels||[],u=Wr(this._cachedMeta._parsed[n],o.options.locale);return{label:l[n]||"",value:u}}getMaxBorderWidth(n){let s=0;const o=this.chart;let l,u,d,f,g;if(!n)for(l=0,u=o.data.datasets.length;l<u;++l)if(o.isDatasetVisible(l)){d=o.getDatasetMeta(l),n=d.data,f=d.controller;break}if(!n)return 0;for(l=0,u=n.length;l<u;++l)g=f.resolveDataElementOptions(l),"inner"!==g.borderAlign&&(s=Math.max(s,g.borderWidth||0,g.hoverBorderWidth||0));return s}getMaxOffset(n){let s=0;for(let o=0,l=n.length;o<l;++o){const u=this.resolveDataElementOptions(o);s=Math.max(s,u.offset||0,u.hoverOffset||0)}return s}_getRingWeightOffset(n){let s=0;for(let o=0;o<n;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}_getRingWeight(n){return Math.max(Ze(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Re(ps,"id","doughnut"),Re(ps,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Re(ps,"descriptors",{_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")}),Re(ps,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const s=n.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:l}}=n.legend.options;return s.labels.map((u,d)=>{const g=n.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:l,lineWidth:g.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(d),index:d}})}return[]}},onClick(n,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}}});class no extends ns{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){const s=this._cachedMeta,{dataset:o,data:l=[],_dataset:u}=s,d=this.chart._animationsDisabled;let{start:f,count:g}=er(s,l,d);this._drawStart=f,this._drawCount=g,es(s)&&(f=0,g=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!u._decimated,o.points=l;const y=this.resolveDatasetElementOptions(n);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(o,void 0,{animated:!d,options:y},n),this.updateElements(l,f,g,n)}updateElements(n,s,o,l){const u="reset"===l,{iScale:d,vScale:f,_stacked:g,_dataset:y}=this._cachedMeta,{sharedOptions:D,includeOptions:M}=this._getSharedOptions(s,l),T=d.axis,R=f.axis,{spanGaps:H,segment:U}=this.options,X=Se(H)?H:Number.POSITIVE_INFINITY,ie=this.chart._animationsDisabled||u||"none"===l,pe=s+o,Ce=n.length;let Me=s>0&&this.getParsed(s-1);for(let De=0;De<Ce;++De){const ke=n[De],Fe=ie?ke:{};if(De<s||De>=pe){Fe.skip=!0;continue}const Be=this.getParsed(De),ze=ut(Be[R]),st=Fe[T]=d.getPixelForValue(Be[T],De),nt=Fe[R]=u||ze?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,Be,g):Be[R],De);Fe.skip=isNaN(st)||isNaN(nt)||ze,Fe.stop=De>0&&Math.abs(Be[T]-Me[T])>X,U&&(Fe.parsed=Be,Fe.raw=y.data[De]),M&&(Fe.options=D||this.resolveDataElementOptions(De,ke.active?"active":l)),ie||this.updateElement(ke,De,Fe,l),Me=Be}}getMaxOverflow(){const n=this._cachedMeta,s=n.dataset,o=s.options&&s.options.borderWidth||0,l=n.data||[];if(!l.length)return o;const u=l[0].size(this.resolveDataElementOptions(0)),d=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,u,d)/2}draw(){const n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}Re(no,"id","line"),Re(no,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Re(no,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class so extends ns{constructor(n,s){super(n,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){const o=this.chart,l=o.data.labels||[],u=Wr(this._cachedMeta._parsed[n].r,o.options.locale);return{label:l[n]||"",value:u}}parseObjectData(n,s,o,l){return No.bind(this)(n,s,o,l)}update(n){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,n)}getMinMax(){const s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,l)=>{const u=this.getParsed(l).r;!isNaN(u)&&this.chart.getDataVisibility(l)&&(u<s.min&&(s.min=u),u>s.max&&(s.max=u))}),s}_updateRadius(){const n=this.chart,s=n.chartArea,o=n.options,l=Math.min(s.right-s.left,s.bottom-s.top),u=Math.max(l/2,0),f=(u-Math.max(o.cutoutPercentage?u/100*o.cutoutPercentage:1,0))/n.getVisibleDatasetCount();this.outerRadius=u-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(n,s,o,l){const u="reset"===l,d=this.chart,g=d.options.animation,y=this._cachedMeta.rScale,D=y.xCenter,M=y.yCenter,T=y.getIndexAngle(0)-.5*Rt;let H,R=T;const U=360/this.countVisibleElements();for(H=0;H<s;++H)R+=this._computeAngle(H,l,U);for(H=s;H<s+o;H++){const X=n[H];let ie=R,pe=R+this._computeAngle(H,l,U),Ce=d.getDataVisibility(H)?y.getDistanceFromCenterForValue(this.getParsed(H).r):0;R=pe,u&&(g.animateScale&&(Ce=0),g.animateRotate&&(ie=pe=T));const Me={x:D,y:M,innerRadius:0,outerRadius:Ce,startAngle:ie,endAngle:pe,options:this.resolveDataElementOptions(H,X.active?"active":l)};this.updateElement(X,H,Me,l)}}countVisibleElements(){let s=0;return this._cachedMeta.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&s++}),s}_computeAngle(n,s,o){return this.chart.getDataVisibility(n)?lt(this.resolveDataElementOptions(n,s).angle||o):0}}Re(so,"id","polarArea"),Re(so,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Re(so,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const s=n.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:o,color:l}}=n.legend.options;return s.labels.map((u,d)=>{const g=n.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:l,lineWidth:g.borderWidth,pointStyle:o,hidden:!n.getDataVisibility(d),index:d}})}return[]}},onClick(n,s,o){o.chart.toggleDataVisibility(s.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class yl extends ps{}Re(yl,"id","pie"),Re(yl,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ls extends ns{getLabelAndValue(n){const s=this._cachedMeta.vScale,o=this.getParsed(n);return{label:s.getLabels()[n],value:""+s.getLabelForValue(o[s.axis])}}parseObjectData(n,s,o,l){return No.bind(this)(n,s,o,l)}update(n){const s=this._cachedMeta,o=s.dataset,l=s.data||[],u=s.iScale.getLabels();if(o.points=l,"resize"!==n){const d=this.resolveDatasetElementOptions(n);this.options.showLine||(d.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:u.length===l.length,options:d},n)}this.updateElements(l,0,l.length,n)}updateElements(n,s,o,l){const u=this._cachedMeta.rScale,d="reset"===l;for(let f=s;f<s+o;f++){const g=n[f],y=this.resolveDataElementOptions(f,g.active?"active":l),D=u.getPointPositionForValue(f,this.getParsed(f).r),M=d?u.xCenter:D.x,T=d?u.yCenter:D.y,R={x:M,y:T,angle:D.angle,skip:isNaN(M)||isNaN(T),options:y};this.updateElement(g,f,R,l)}}}Re(Ls,"id","radar"),Re(Ls,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Re(Ls,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ui extends ns{getLabelAndValue(n){const s=this._cachedMeta,o=this.chart.data.labels||[],{xScale:l,yScale:u}=s,d=this.getParsed(n),f=l.getLabelForValue(d.x),g=u.getLabelForValue(d.y);return{label:o[n]||"",value:"("+f+", "+g+")"}}update(n){const s=this._cachedMeta,{data:o=[]}=s,l=this.chart._animationsDisabled;let{start:u,count:d}=er(s,o,l);if(this._drawStart=u,this._drawCount=d,es(s)&&(u=0,d=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:f,_dataset:g}=s;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!g._decimated,f.points=o;const y=this.resolveDatasetElementOptions(n);y.segment=this.options.segment,this.updateElement(f,void 0,{animated:!l,options:y},n)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(o,u,d,n)}addElements(){const{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,s,o,l){const u="reset"===l,{iScale:d,vScale:f,_stacked:g,_dataset:y}=this._cachedMeta,D=this.resolveDataElementOptions(s,l),M=this.getSharedOptions(D),T=this.includeOptions(l,M),R=d.axis,H=f.axis,{spanGaps:U,segment:X}=this.options,ie=Se(U)?U:Number.POSITIVE_INFINITY,pe=this.chart._animationsDisabled||u||"none"===l;let Ce=s>0&&this.getParsed(s-1);for(let Me=s;Me<s+o;++Me){const De=n[Me],ke=this.getParsed(Me),Fe=pe?De:{},Be=ut(ke[H]),ze=Fe[R]=d.getPixelForValue(ke[R],Me),st=Fe[H]=u||Be?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,ke,g):ke[H],Me);Fe.skip=isNaN(ze)||isNaN(st)||Be,Fe.stop=Me>0&&Math.abs(ke[R]-Ce[R])>ie,X&&(Fe.parsed=ke,Fe.raw=y.data[Me]),T&&(Fe.options=M||this.resolveDataElementOptions(Me,De.active?"active":l)),pe||this.updateElement(De,Me,Fe,l),Ce=ke}this.updateSharedOptions(M,l,D)}getMaxOverflow(){const n=this._cachedMeta,s=n.data||[];if(!this.options.showLine){let f=0;for(let g=s.length-1;g>=0;--g)f=Math.max(f,s[g].size(this.resolveDataElementOptions(g))/2);return f>0&&f}const o=n.dataset,l=o.options&&o.options.borderWidth||0;if(!s.length)return l;const u=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(l,u,d)/2}}Re(ui,"id","scatter"),Re(ui,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Re(ui,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var xh=Object.freeze({__proto__:null,BarController:Go,BubbleController:to,DoughnutController:ps,LineController:no,PieController:yl,PolarAreaController:so,RadarController:Ls,ScatterController:ui});function gr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yo{constructor(n){Re(this,"options"),this.options=n||{}}static override(n){Object.assign(Yo.prototype,n)}init(){}formats(){return gr()}parse(){return gr()}format(){return gr()}add(){return gr()}diff(){return gr()}startOf(){return gr()}endOf(){return gr()}}var Ch__date=Yo;function ug(r,n,s,o){const{controller:l,data:u,_sorted:d}=r,f=l._cachedMeta.iScale;if(f&&n===f.axis&&"r"!==n&&d&&u.length){const g=f._reversePixels?Xe:Rn;if(!o)return g(u,n,s);if(l._sharedOptions){const y=u[0],D="function"==typeof y.getRange&&y.getRange(n);if(D){const M=g(u,n,s-D),T=g(u,n,s+D);return{lo:M.lo,hi:T.hi}}}}return{lo:0,hi:u.length-1}}function io(r,n,s,o,l){const u=r.getSortedVisibleDatasetMetas(),d=s[n];for(let f=0,g=u.length;f<g;++f){const{index:y,data:D}=u[f],{lo:M,hi:T}=ug(u[f],n,d,l);for(let R=M;R<=T;++R){const H=D[R];H.skip||o(H,y,R)}}}function vl(r,n,s,o,l){const u=[];return!l&&!r.isPointInArea(n)||io(r,s,n,function(f,g,y){!l&&!Dt(f,r.chartArea,0)||f.inRange(n.x,n.y,o)&&u.push({element:f,datasetIndex:g,index:y})},!0),u}function di(r,n,s,o,l,u){return u||r.isPointInArea(n)?"r"!==s||o?function bl(r,n,s,o,l,u){let d=[];const f=function Mh(r){const n=-1!==r.indexOf("x"),s=-1!==r.indexOf("y");return function(o,l){const u=n?Math.abs(o.x-l.x):0,d=s?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(d,2))}}(s);let g=Number.POSITIVE_INFINITY;return io(r,s,n,function y(D,M,T){const R=D.inRange(n.x,n.y,l);if(o&&!R)return;const H=D.getCenterPoint(l);if(!u&&!r.isPointInArea(H)&&!R)return;const X=f(n,H);X<g?(d=[{element:D,datasetIndex:M,index:T}],g=X):X===g&&d.push({element:D,datasetIndex:M,index:T})}),d}(r,n,s,o,l,u):function Xo(r,n,s,o){let l=[];return io(r,s,n,function u(d,f,g){const{startAngle:y,endAngle:D}=d.getProps(["startAngle","endAngle"],o),{angle:M}=sn(d,{x:n.x,y:n.y});kn(M,y,D)&&l.push({element:d,datasetIndex:f,index:g})}),l}(r,n,s,l):[]}function bu(r,n,s,o,l){const u=[],d="x"===s?"inXRange":"inYRange";let f=!1;return io(r,s,n,(g,y,D)=>{g[d](n[s],l)&&(u.push({element:g,datasetIndex:y,index:D}),f=f||g.inRange(n.x,n.y,l))}),o&&!f?[]:u}var Sh={evaluateInteractionItems:io,modes:{index(r,n,s,o){const l=Gn(n,r),u=s.axis||"x",d=s.includeInvisible||!1,f=s.intersect?vl(r,l,u,o,d):di(r,l,u,!1,o,d),g=[];return f.length?(r.getSortedVisibleDatasetMetas().forEach(y=>{const D=f[0].index,M=y.data[D];M&&!M.skip&&g.push({element:M,datasetIndex:y.index,index:D})}),g):[]},dataset(r,n,s,o){const l=Gn(n,r),u=s.axis||"xy",d=s.includeInvisible||!1;let f=s.intersect?vl(r,l,u,o,d):di(r,l,u,!1,o,d);if(f.length>0){const g=f[0].datasetIndex,y=r.getDatasetMeta(g).data;f=[];for(let D=0;D<y.length;++D)f.push({element:y[D],datasetIndex:g,index:D})}return f},point:(r,n,s,o)=>vl(r,Gn(n,r),s.axis||"xy",o,s.includeInvisible||!1),nearest:(r,n,s,o)=>di(r,Gn(n,r),s.axis||"xy",s.intersect,o,s.includeInvisible||!1),x:(r,n,s,o)=>bu(r,Gn(n,r),"x",s.intersect,o),y:(r,n,s,o)=>bu(r,Gn(n,r),"y",s.intersect,o)}};const Ah=["left","top","right","bottom"];function hi(r,n){return r.filter(s=>s.pos===n)}function Jo(r,n){return r.filter(s=>-1===Ah.indexOf(s.pos)&&s.box.axis===n)}function mr(r,n){return r.sort((s,o)=>{const l=n?o:s,u=n?s:o;return l.weight===u.weight?l.index-u.index:l.weight-u.weight})}function xu(r,n,s,o){return Math.max(r[s],n[s])+Math.max(r[o],n[o])}function Cu(r,n){r.top=Math.max(r.top,n.top),r.left=Math.max(r.left,n.left),r.bottom=Math.max(r.bottom,n.bottom),r.right=Math.max(r.right,n.right)}function Ih(r,n,s,o){const{pos:l,box:u}=s,d=r.maxPadding;if(!ot(l)){s.size&&(r[l]-=s.size);const M=o[s.stack]||{size:0,count:1};M.size=Math.max(M.size,s.horizontal?u.height:u.width),s.size=M.size/M.count,r[l]+=s.size}u.getPadding&&Cu(d,u.getPadding());const f=Math.max(0,n.outerWidth-xu(d,r,"left","right")),g=Math.max(0,n.outerHeight-xu(d,r,"top","bottom")),y=f!==r.w,D=g!==r.h;return r.w=f,r.h=g,s.horizontal?{same:y,other:D}:{same:D,other:y}}function fi(r,n){const s=n.maxPadding;return function o(l){const u={left:0,top:0,right:0,bottom:0};return l.forEach(d=>{u[d]=Math.max(n[d],s[d])}),u}(r?["left","right"]:["top","bottom"])}function Ns(r,n,s,o){const l=[];let u,d,f,g,y,D;for(u=0,d=r.length,y=0;u<d;++u){f=r[u],g=f.box,g.update(f.width||n.w,f.height||n.h,fi(f.horizontal,n));const{same:M,other:T}=Ih(n,s,f,o);y|=M&&l.length,D=D||T,g.fullSize||l.push(f)}return y&&Ns(l,n,s,o)||D}function qo(r,n,s,o,l){r.top=s,r.left=n,r.right=n+o,r.bottom=s+l,r.width=o,r.height=l}function Oh(r,n,s,o){const l=s.padding;let{x:u,y:d}=n;for(const f of r){const g=f.box,y=o[f.stack]||{count:1,placed:0,weight:1},D=f.stackWeight/y.weight||1;if(f.horizontal){const M=n.w*D,T=y.size||g.height;Ii(y.start)&&(d=y.start),g.fullSize?qo(g,l.left,d,s.outerWidth-l.right-l.left,T):qo(g,n.left+y.placed,d,M,T),y.start=d,y.placed+=M,d=g.bottom}else{const M=n.h*D,T=y.size||g.width;Ii(y.start)&&(u=y.start),g.fullSize?qo(g,u,l.top,T,s.outerHeight-l.bottom-l.top):qo(g,u,n.top+y.placed,T,M),y.start=u,y.placed+=M,u=g.right}}n.x=u,n.y=d}var Mn={addBox(r,n){r.boxes||(r.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(s){n.draw(s)}}]},r.boxes.push(n)},removeBox(r,n){const s=r.boxes?r.boxes.indexOf(n):-1;-1!==s&&r.boxes.splice(s,1)},configure(r,n,s){n.fullSize=s.fullSize,n.position=s.position,n.weight=s.weight},update(r,n,s,o){if(!r)return;const l=Jt(r.options.layout.padding),u=Math.max(n-l.width,0),d=Math.max(s-l.height,0),f=function Th(r){const n=function Du(r){const n=[];let s,o,l,u,d,f;for(s=0,o=(r||[]).length;s<o;++s)l=r[s],({position:u,options:{stack:d,stackWeight:f=1}}=l),n.push({index:s,box:l,pos:u,horizontal:l.isHorizontal(),weight:l.weight,stack:d&&u+d,stackWeight:f});return n}(r),s=mr(n.filter(y=>y.box.fullSize),!0),o=mr(hi(n,"left"),!0),l=mr(hi(n,"right")),u=mr(hi(n,"top"),!0),d=mr(hi(n,"bottom")),f=Jo(n,"x"),g=Jo(n,"y");return{fullSize:s,leftAndTop:o.concat(u),rightAndBottom:l.concat(g).concat(d).concat(f),chartArea:hi(n,"chartArea"),vertical:o.concat(l).concat(g),horizontal:u.concat(d).concat(f)}}(r.boxes),g=f.vertical,y=f.horizontal;bt(r.boxes,U=>{"function"==typeof U.beforeLayout&&U.beforeLayout()});const D=g.reduce((U,X)=>X.box.options&&!1===X.box.options.display?U:U+1,0)||1,M=Object.freeze({outerWidth:n,outerHeight:s,padding:l,availableWidth:u,availableHeight:d,vBoxMaxWidth:u/2/D,hBoxMaxHeight:d/2}),T=Object.assign({},l);Cu(T,Jt(o));const R=Object.assign({maxPadding:T,w:u,h:d,x:l.left,y:l.top},l),H=function wu(r,n){const s=function Eu(r){const n={};for(const s of r){const{stack:o,pos:l,stackWeight:u}=s;if(!o||!Ah.includes(l))continue;const d=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=u}return n}(r),{vBoxMaxWidth:o,hBoxMaxHeight:l}=n;let u,d,f;for(u=0,d=r.length;u<d;++u){f=r[u];const{fullSize:g}=f.box,y=s[f.stack],D=y&&f.stackWeight/y.weight;f.horizontal?(f.width=D?D*o:g&&n.availableWidth,f.height=l):(f.width=o,f.height=D?D*l:g&&n.availableHeight)}return s}(g.concat(y),M);Ns(f.fullSize,R,M,H),Ns(g,R,M,H),Ns(y,R,M,H)&&Ns(g,R,M,H),function Ph(r){const n=r.maxPadding;function s(o){const l=Math.max(n[o]-r[o],0);return r[o]+=l,l}r.y+=s("top"),r.x+=s("left"),s("right"),s("bottom")}(R),Oh(f.leftAndTop,R,M,H),R.x+=R.w,R.y+=R.h,Oh(f.rightAndBottom,R,M,H),r.chartArea={left:R.left,top:R.top,right:R.left+R.w,bottom:R.top+R.h,height:R.h,width:R.w},bt(f.chartArea,U=>{const X=U.box;Object.assign(X,r.chartArea),X.update(R.w,R.h,{left:0,top:0,right:0,bottom:0})})}};class kh{acquireContext(n,s){}releaseContext(n){return!1}addEventListener(n,s,o){}removeEventListener(n,s,o){}getDevicePixelRatio(){return 1}getMaximumSize(n,s,o,l){return s=Math.max(0,s||n.width),o=o||n.height,{width:s,height:Math.max(0,l?Math.floor(s/l):o)}}isAttached(n){return!0}updateConfig(n){}}class dg extends kh{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const Dl="$chartjs",Mu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Su=r=>null===r||""===r,Au=!!tg&&{passive:!0};function hg(r,n,s){r&&r.canvas&&r.canvas.removeEventListener(n,s,Au)}function Ui(r,n){for(const s of r)if(s===n||s.contains(n))return!0}function Tu(r,n,s){const o=r.canvas,l=new MutationObserver(u=>{let d=!1;for(const f of u)d=d||Ui(f.addedNodes,o),d=d&&!Ui(f.removedNodes,o);d&&s()});return l.observe(document,{childList:!0,subtree:!0}),l}function gs(r,n,s){const o=r.canvas,l=new MutationObserver(u=>{let d=!1;for(const f of u)d=d||Ui(f.removedNodes,o),d=d&&!Ui(f.addedNodes,o);d&&s()});return l.observe(document,{childList:!0,subtree:!0}),l}const Bs=new Map;let El=0;function wl(){const r=window.devicePixelRatio;r!==El&&(El=r,Bs.forEach((n,s)=>{s.currentDevicePixelRatio!==r&&n()}))}function pg(r,n,s){const o=r.canvas,l=o&&ll(o);if(!l)return;const u=Ee((f,g)=>{const y=l.clientWidth;s(f,g),y<l.clientWidth&&s()},window),d=new ResizeObserver(f=>{const g=f[0],y=g.contentRect.width,D=g.contentRect.height;0===y&&0===D||u(y,D)});return d.observe(l),function Iu(r,n){Bs.size||window.addEventListener("resize",wl),Bs.set(r,n)}(r,u),d}function Pu(r,n,s){s&&s.disconnect(),"resize"===n&&function fg(r){Bs.delete(r),Bs.size||window.removeEventListener("resize",wl)}(r)}function xl(r,n,s){const o=r.canvas,l=Ee(u=>{null!==r.ctx&&s(function Lh(r,n){const s=Mu[r.type]||r.type,{x:o,y:l}=Gn(r,n);return{type:s,chart:n,native:r,x:void 0!==o?o:null,y:void 0!==l?l:null}}(u,r))},r);return function Fh(r,n,s){r&&r.addEventListener(n,s,Au)}(o,n,l),l}class Cl extends kh{acquireContext(n,s){const o=n&&n.getContext&&n.getContext("2d");return o&&o.canvas===n?(function Rh(r,n){const s=r.style,o=r.getAttribute("height"),l=r.getAttribute("width");if(r[Dl]={initial:{height:o,width:l,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Su(l)){const u=ou(r,"width");void 0!==u&&(r.width=u)}if(Su(o))if(""===r.style.height)r.height=r.width/(n||2);else{const u=ou(r,"height");void 0!==u&&(r.height=u)}}(n,s),o):null}releaseContext(n){const s=n.canvas;if(!s[Dl])return!1;const o=s[Dl].initial;["height","width"].forEach(u=>{const d=o[u];ut(d)?s.removeAttribute(u):s.setAttribute(u,d)});const l=o.style||{};return Object.keys(l).forEach(u=>{s.style[u]=l[u]}),s.width=s.width,delete s[Dl],!0}addEventListener(n,s,o){this.removeEventListener(n,s),(n.$proxies||(n.$proxies={}))[s]=({attach:Tu,detach:gs,resize:pg}[s]||xl)(n,s,o)}removeEventListener(n,s){const o=n.$proxies||(n.$proxies={}),l=o[s];l&&(({attach:Pu,detach:Pu,resize:Pu}[s]||hg)(n,s,l),o[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,s,o,l){return function ul(r,n,s,o){const l=Gr(r),u=Rs(l,"margin"),d=Kr(l.maxWidth,r,"clientWidth")||Pi,f=Kr(l.maxHeight,r,"clientHeight")||Pi,g=function hr(r,n,s){let o,l;if(void 0===n||void 0===s){const u=ll(r);if(u){const d=u.getBoundingClientRect(),f=Gr(u),g=Rs(f,"border","width"),y=Rs(f,"padding");n=d.width-y.width-g.width,s=d.height-y.height-g.height,o=Kr(f.maxWidth,u,"clientWidth"),l=Kr(f.maxHeight,u,"clientHeight")}else n=r.clientWidth,s=r.clientHeight}return{width:n,height:s,maxWidth:o||Pi,maxHeight:l||Pi}}(r,n,s);let{width:y,height:D}=g;if("content-box"===l.boxSizing){const T=Rs(l,"border","width"),R=Rs(l,"padding");y-=R.width+T.width,D-=R.height+T.height}return y=Math.max(0,y-u.width),D=Math.max(0,o?y/o:D-u.height),y=Yr(Math.min(y,d,g.maxWidth)),D=Yr(Math.min(D,f,g.maxHeight)),y&&!D&&(D=Yr(y/2)),(void 0!==n||void 0!==s)&&o&&g.height&&D>g.height&&(D=g.height,y=Yr(Math.floor(D*o))),{width:y,height:D}}(n,s,o,l)}isAttached(n){const s=ll(n);return!(!s||!s.isConnected)}}class ms{constructor(){Re(this,"x"),Re(this,"y"),Re(this,"active",!1),Re(this,"options"),Re(this,"$animations")}tooltipPosition(n){const{x:s,y:o}=this.getProps(["x","y"],n);return{x:s,y:o}}hasValue(){return Se(this.x)&&Se(this.y)}getProps(n,s){const o=this.$animations;if(!s||!o)return this;const l={};return n.forEach(u=>{l[u]=o[u]&&o[u].active()?o[u]._to:this[u]}),l}}function Qo(r,n,s,o,l){const u=Ze(o,0),d=Math.min(Ze(l,r.length),r.length);let g,y,D,f=0;for(s=Math.ceil(s),l&&(g=l-o,s=g/Math.floor(g/s)),D=u;D<0;)f++,D=Math.round(u+f*s);for(y=Math.max(u,0);y<d;y++)y===D&&(n.push(r[y]),f++,D=Math.round(u+f*s))}Re(ms,"defaults",{}),Re(ms,"defaultRoutes");const Ru=(r,n,s)=>"top"===n||"left"===n?r[n]+s:r[n]-s,ea=(r,n)=>Math.min(n||r,r);function Fu(r,n){const s=[],o=r.length/n,l=r.length;let u=0;for(;u<l;u+=o)s.push(r[Math.floor(u)]);return s}function qt(r,n,s){const o=r.ticks.length,l=Math.min(n,o-1),u=r._startPixel,d=r._endPixel,f=1e-6;let y,g=r.getPixelForTick(l);if(!(s&&(y=1===o?Math.max(g-u,d-g):0===n?(r.getPixelForTick(1)-g)/2:(g-r.getPixelForTick(l-1))/2,g+=l<n?y:-y,g<u-f||g>d+f)))return g}function ro(r){return r.drawTicks?r.tickLength:0}function ta(r,n){if(!r.display)return 0;const s=Gt(r.font,n),o=Jt(r.padding);return(kt(r.text)?r.text.length:1)*s.lineHeight+o.height}function Uh(r,n,s){let o=Io(r);return(s&&"right"!==n||!s&&"right"===n)&&(o=(r=>"left"===r?"right":"right"===r?"left":r)(o)),o}class Wi extends ms{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,s){return n}getUserBounds(){let{_userMin:n,_userMax:s,_suggestedMin:o,_suggestedMax:l}=this;return n=On(n,Number.POSITIVE_INFINITY),s=On(s,Number.NEGATIVE_INFINITY),o=On(o,Number.POSITIVE_INFINITY),l=On(l,Number.NEGATIVE_INFINITY),{min:On(n,o),max:On(s,l),minDefined:Vt(n),maxDefined:Vt(s)}}getMinMax(n){let d,{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();if(l&&u)return{min:s,max:o};const f=this.getMatchingVisibleMetas();for(let g=0,y=f.length;g<y;++g)d=f[g].controller.getMinMax(this,n),l||(s=Math.min(s,d.min)),u||(o=Math.max(o,d.max));return s=u&&s>o?o:s,o=l&&s>o?s:o,{min:On(s,On(o,s)),max:On(o,On(s,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(n,s,o){const{beginAtZero:l,grace:u,ticks:d}=this.options,f=d.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=s,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ch(r,n,s){const{min:o,max:l}=r,u=Ja(n,(l-o)/2),d=(f,g)=>s&&0===f?0:f+g;return{min:d(o,-Math.abs(u)),max:d(l,u)}}(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=f<this.ticks.length;this._convertTicksToLabels(g?Fu(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||"auto"===d.source)&&(this.ticks=function gg(r,n){const s=r.options.ticks,o=function Ou(r){const n=r.options.offset,s=r._tickSize();return Math.floor(Math.min(r._length/s+(n?0:1),r._maxLength/s))}(r),l=Math.min(s.maxTicksLimit||o,o),u=s.major.enabled?function Bh(r){const n=[];let s,o;for(s=0,o=r.length;s<o;s++)r[s].major&&n.push(s);return n}(n):[],d=u.length,f=u[0],g=u[d-1],y=[];if(d>l)return function Hh(r,n,s,o){let d,l=0,u=s[0];for(o=Math.ceil(o),d=0;d<r.length;d++)d===u&&(n.push(r[d]),l++,u=s[l*o])}(n,y,u,d/l),y;const D=function Nh(r,n,s){const o=function ku(r){const n=r.length;let s,o;if(n<2)return!1;for(o=r[0],s=1;s<n;++s)if(r[s]-r[s-1]!==o)return!1;return o}(r),l=n.length/s;if(!o)return Math.max(l,1);const u=function _e(r){const n=[],s=Math.sqrt(r);let o;for(o=1;o<s;o++)r%o==0&&(n.push(o),n.push(r/o));return s===(0|s)&&n.push(s),n.sort((l,u)=>l-u).pop(),n}(o);for(let d=0,f=u.length-1;d<f;d++){const g=u[d];if(g>l)return g}return Math.max(l,1)}(u,n,l);if(d>0){let M,T;const R=d>1?Math.round((g-f)/(d-1)):null;for(Qo(n,y,D,ut(R)?0:f-R,f),M=0,T=d-1;M<T;M++)Qo(n,y,D,u[M],u[M+1]);return Qo(n,y,D,g,ut(R)?n.length:g+R),y}return Qo(n,y,D),y}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,o,n=this.options.reverse;this.isHorizontal()?(s=this.left,o=this.right):(s=this.top,o=this.bottom,n=!n),this._startPixel=s,this._endPixel=o,this._reversePixels=n,this._length=o-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),It(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const s=this.options.ticks;let o,l,u;for(o=0,l=n.length;o<l;o++)u=n[o],u.label=It(s.callback,[u.value,o,n],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,s=n.ticks,o=ea(this.ticks.length,n.ticks.maxTicksLimit),l=s.minRotation||0,u=s.maxRotation;let f,g,y,d=l;if(!this._isVisible()||!s.display||l>=u||o<=1||!this.isHorizontal())return void(this.labelRotation=l);const D=this._getLabelSizes(),M=D.widest.width,T=D.highest.height,R=Lt(this.chart.width-M,0,this.maxWidth);f=n.offset?this.maxWidth/o:R/(o-1),M+6>f&&(f=R/(o-(n.offset?.5:1)),g=this.maxHeight-ro(n.grid)-s.padding-ta(n.title,this.chart.options.font),y=Math.sqrt(M*M+T*T),d=_t(Math.min(Math.asin(Lt((D.highest.height+6)/f,-1,1)),Math.asin(Lt(g/y,-1,1))-Math.asin(Lt(T/y,-1,1)))),d=Math.max(l,Math.min(u,d))),this.labelRotation=d}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:s,options:{ticks:o,title:l,grid:u}}=this,d=this._isVisible(),f=this.isHorizontal();if(d){const g=ta(l,s.options.font);if(f?(n.width=this.maxWidth,n.height=ro(u)+g):(n.height=this.maxHeight,n.width=ro(u)+g),o.display&&this.ticks.length){const{first:y,last:D,widest:M,highest:T}=this._getLabelSizes(),R=2*o.padding,H=lt(this.labelRotation),U=Math.cos(H),X=Math.sin(H);f?n.height=Math.min(this.maxHeight,n.height+(o.mirror?0:X*M.width+U*T.height)+R):n.width=Math.min(this.maxWidth,n.width+(o.mirror?0:U*M.width+X*T.height)+R),this._calculatePadding(y,D,X,U)}}this._handleMargins(),f?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,s,o,l){const{ticks:{align:u,padding:d},position:f}=this.options,g=0!==this.labelRotation,y="top"!==f&&"x"===this.axis;if(this.isHorizontal()){const D=this.getPixelForTick(0)-this.left,M=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,R=0;g?y?(T=l*n.width,R=o*s.height):(T=o*n.height,R=l*s.width):"start"===u?R=s.width:"end"===u?T=n.width:"inner"!==u&&(T=n.width/2,R=s.width/2),this.paddingLeft=Math.max((T-D+d)*this.width/(this.width-D),0),this.paddingRight=Math.max((R-M+d)*this.width/(this.width-M),0)}else{let D=s.height/2,M=n.height/2;"start"===u?(D=0,M=n.height):"end"===u&&(D=s.height,M=0),this.paddingTop=D+d,this.paddingBottom=M+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:s}=this.options;return"top"===s||"bottom"===s||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let s,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),s=0,o=n.length;s<o;s++)ut(n[s].label)&&(n.splice(s,1),o--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const s=this.options.ticks.sampleSize;let o=this.ticks;s<o.length&&(o=Fu(o,s)),this._labelSizes=n=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,s,o){const{ctx:l,_longestTextCache:u}=this,d=[],f=[],g=Math.floor(s/ea(s,o));let M,T,R,H,U,X,ie,pe,Ce,Me,De,y=0,D=0;for(M=0;M<s;M+=g){if(H=n[M].label,U=this._resolveTickFontOptions(M),l.font=X=U.string,ie=u[X]=u[X]||{data:{},gc:[]},pe=U.lineHeight,Ce=Me=0,ut(H)||kt(H)){if(kt(H))for(T=0,R=H.length;T<R;++T)De=H[T],!ut(De)&&!kt(De)&&(Ce=zr(l,ie.data,ie.gc,Ce,De),Me+=pe)}else Ce=zr(l,ie.data,ie.gc,Ce,H),Me=pe;d.push(Ce),f.push(Me),y=Math.max(Ce,y),D=Math.max(Me,D)}!function jh(r,n){bt(r,s=>{const o=s.gc,l=o.length/2;let u;if(l>n){for(u=0;u<l;++u)delete s.data[o[u]];o.splice(0,l)}})}(u,s);const ke=d.indexOf(y),Fe=f.indexOf(D),Be=ze=>({width:d[ze]||0,height:f[ze]||0});return{first:Be(0),last:Be(s-1),widest:Be(ke),highest:Be(Fe),widths:d,heights:f}}getLabelForValue(n){return n}getPixelForValue(n,s){return NaN}getValueForPixel(n){}getPixelForTick(n){const s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const s=this._startPixel+n*this._length;return function oi(r){return Lt(r,-32768,32767)}(this._alignToPixels?Oi(this.chart,s,0):s)}getDecimalForPixel(n){const s=(n-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:s}=this;return n<0&&s<0?s:n>0&&s>0?n:0}getContext(n){const s=this.ticks||[];if(n>=0&&n<s.length){const o=s[n];return o.$context||(o.$context=function Vh(r,n,s){return Fi(r,{tick:s,index:n,type:"tick"})}(this.getContext(),n,o))}return this.$context||(this.$context=function Lu(r,n){return Fi(r,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,s=lt(this.labelRotation),o=Math.abs(Math.cos(s)),l=Math.abs(Math.sin(s)),u=this._getLabelSizes(),d=n.autoSkipPadding||0,f=u?u.widest.width+d:0,g=u?u.highest.height+d:0;return this.isHorizontal()?g*o>f*l?f/o:g/l:g*l<f*o?g/o:f/l}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const s=this.axis,o=this.chart,l=this.options,{grid:u,position:d,border:f}=l,g=u.offset,y=this.isHorizontal(),M=this.ticks.length+(g?1:0),T=ro(u),R=[],H=f.setContext(this.getContext()),U=H.display?H.width:0,X=U/2,ie=function(Nt){return Oi(o,Nt,U)};let pe,Ce,Me,De,ke,Fe,Be,ze,st,nt,gt,mn;if("top"===d)pe=ie(this.bottom),Fe=this.bottom-T,ze=pe-X,nt=ie(n.top)+X,mn=n.bottom;else if("bottom"===d)pe=ie(this.top),nt=n.top,mn=ie(n.bottom)-X,Fe=pe+X,ze=this.top+T;else if("left"===d)pe=ie(this.right),ke=this.right-T,Be=pe-X,st=ie(n.left)+X,gt=n.right;else if("right"===d)pe=ie(this.left),st=n.left,gt=ie(n.right)-X,ke=pe+X,Be=this.left+T;else if("x"===s){if("center"===d)pe=ie((n.top+n.bottom)/2+.5);else if(ot(d)){const Nt=Object.keys(d)[0];pe=ie(this.chart.scales[Nt].getPixelForValue(d[Nt]))}nt=n.top,mn=n.bottom,Fe=pe+X,ze=Fe+T}else if("y"===s){if("center"===d)pe=ie((n.left+n.right)/2);else if(ot(d)){const Nt=Object.keys(d)[0];pe=ie(this.chart.scales[Nt].getPixelForValue(d[Nt]))}ke=pe-X,Be=ke-T,st=n.left,gt=n.right}const Nn=Ze(l.ticks.maxTicksLimit,M),Mt=Math.max(1,Math.ceil(M/Nn));for(Ce=0;Ce<M;Ce+=Mt){const Nt=this.getContext(Ce),Kt=u.setContext(Nt),qn=f.setContext(Nt),Ht=Kt.lineWidth,Vs=Kt.color,Ca=qn.dash||[],Tr=qn.dashOffset,Ma=Kt.tickWidth,Us=Kt.tickColor,Ir=Kt.tickBorderDash||[],Ws=Kt.tickBorderDashOffset;Me=qt(this,Ce,g),void 0!==Me&&(De=Oi(o,Me,Ht),y?ke=Be=st=gt=De:Fe=ze=nt=mn=De,R.push({tx1:ke,ty1:Fe,tx2:Be,ty2:ze,x1:st,y1:nt,x2:gt,y2:mn,width:Ht,color:Vs,borderDash:Ca,borderDashOffset:Tr,tickWidth:Ma,tickColor:Us,tickBorderDash:Ir,tickBorderDashOffset:Ws}))}return this._ticksLength=M,this._borderValue=pe,R}_computeLabelItems(n){const s=this.axis,o=this.options,{position:l,ticks:u}=o,d=this.isHorizontal(),f=this.ticks,{align:g,crossAlign:y,padding:D,mirror:M}=u,T=ro(o.grid),R=T+D,H=M?-D:R,U=-lt(this.labelRotation),X=[];let ie,pe,Ce,Me,De,ke,Fe,Be,ze,st,nt,gt,mn="middle";if("top"===l)ke=this.bottom-H,Fe=this._getXAxisLabelAlignment();else if("bottom"===l)ke=this.top+H,Fe=this._getXAxisLabelAlignment();else if("left"===l){const Mt=this._getYAxisLabelAlignment(T);Fe=Mt.textAlign,De=Mt.x}else if("right"===l){const Mt=this._getYAxisLabelAlignment(T);Fe=Mt.textAlign,De=Mt.x}else if("x"===s){if("center"===l)ke=(n.top+n.bottom)/2+R;else if(ot(l)){const Mt=Object.keys(l)[0];ke=this.chart.scales[Mt].getPixelForValue(l[Mt])+R}Fe=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===l)De=(n.left+n.right)/2-R;else if(ot(l)){const Mt=Object.keys(l)[0];De=this.chart.scales[Mt].getPixelForValue(l[Mt])}Fe=this._getYAxisLabelAlignment(T).textAlign}"y"===s&&("start"===g?mn="top":"end"===g&&(mn="bottom"));const Nn=this._getLabelSizes();for(ie=0,pe=f.length;ie<pe;++ie){Ce=f[ie],Me=Ce.label;const Mt=u.setContext(this.getContext(ie));Be=this.getPixelForTick(ie)+u.labelOffset,ze=this._resolveTickFontOptions(ie),st=ze.lineHeight,nt=kt(Me)?Me.length:1;const Nt=nt/2,Kt=Mt.color,qn=Mt.textStrokeColor,Ht=Mt.textStrokeWidth;let Ca,Vs=Fe;if(d?(De=Be,"inner"===Fe&&(Vs=ie===pe-1?this.options.reverse?"left":"right":0===ie?this.options.reverse?"right":"left":"center"),gt="top"===l?"near"===y||0!==U?-nt*st+st/2:"center"===y?-Nn.highest.height/2-Nt*st+st:st/2-Nn.highest.height:"near"===y||0!==U?st/2:"center"===y?Nn.highest.height/2-Nt*st:Nn.highest.height-nt*st,M&&(gt*=-1),0!==U&&!Mt.showLabelBackdrop&&(De+=st/2*Math.sin(U))):(ke=Be,gt=(1-nt)*st/2),Mt.showLabelBackdrop){const Tr=Jt(Mt.backdropPadding),Ma=Nn.heights[ie],Us=Nn.widths[ie];let Ir=gt-Tr.top,Ws=0-Tr.left;switch(mn){case"middle":Ir-=Ma/2;break;case"bottom":Ir-=Ma}switch(Fe){case"center":Ws-=Us/2;break;case"right":Ws-=Us;break;case"inner":ie===pe-1?Ws-=Us:ie>0&&(Ws-=Us/2)}Ca={left:Ws,top:Ir,width:Us+Tr.width,height:Ma+Tr.height,color:Mt.backdropColor}}X.push({label:Me,font:ze,textOffset:gt,options:{rotation:U,color:Kt,strokeColor:qn,strokeWidth:Ht,textAlign:Vs,textBaseline:mn,translation:[De,ke],backdrop:Ca}})}return X}_getXAxisLabelAlignment(){const{position:n,ticks:s}=this.options;if(-lt(this.labelRotation))return"top"===n?"left":"right";let l="center";return"start"===s.align?l="left":"end"===s.align?l="right":"inner"===s.align&&(l="inner"),l}_getYAxisLabelAlignment(n){const{position:s,ticks:{crossAlign:o,mirror:l,padding:u}}=this.options,f=n+u,g=this._getLabelSizes().widest.width;let y,D;return"left"===s?l?(D=this.right+u,"near"===o?y="left":"center"===o?(y="center",D+=g/2):(y="right",D+=g)):(D=this.right-f,"near"===o?y="right":"center"===o?(y="center",D-=g/2):(y="left",D=this.left)):"right"===s?l?(D=this.left+u,"near"===o?y="right":"center"===o?(y="center",D-=g/2):(y="left",D-=g)):(D=this.left+f,"near"===o?y="left":"center"===o?(y="center",D+=g/2):(y="right",D=this.right)):y="right",{textAlign:y,x:D}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:s},left:o,top:l,width:u,height:d}=this;s&&(n.save(),n.fillStyle=s,n.fillRect(o,l,u,d),n.restore())}getLineWidthForValue(n){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const l=this.ticks.findIndex(u=>u.value===n);return l>=0?s.setContext(this.getContext(l)).lineWidth:0}drawGrid(n){const s=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let u,d;const f=(g,y,D)=>{!D.width||!D.color||(o.save(),o.lineWidth=D.width,o.strokeStyle=D.color,o.setLineDash(D.borderDash||[]),o.lineDashOffset=D.borderDashOffset,o.beginPath(),o.moveTo(g.x,g.y),o.lineTo(y.x,y.y),o.stroke(),o.restore())};if(s.display)for(u=0,d=l.length;u<d;++u){const g=l[u];s.drawOnChartArea&&f({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),s.drawTicks&&f({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:s,options:{border:o,grid:l}}=this,u=o.setContext(this.getContext()),d=o.display?u.width:0;if(!d)return;const f=l.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let y,D,M,T;this.isHorizontal()?(y=Oi(n,this.left,d)-d/2,D=Oi(n,this.right,f)+f/2,M=T=g):(M=Oi(n,this.top,d)-d/2,T=Oi(n,this.bottom,f)+f/2,y=D=g),s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.beginPath(),s.moveTo(y,M),s.lineTo(D,T),s.stroke(),s.restore()}drawLabels(n){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&ko(o,l);const u=this.getLabelItems(n);for(const d of u)fs(o,d.label,0,d.textOffset,d.font,d.options);l&&Ro(o)}drawTitle(){const{ctx:n,options:{position:s,title:o,reverse:l}}=this;if(!o.display)return;const u=Gt(o.font),d=Jt(o.padding),f=o.align;let g=u.lineHeight/2;"bottom"===s||"center"===s||ot(s)?(g+=d.bottom,kt(o.text)&&(g+=u.lineHeight*(o.text.length-1))):g+=d.top;const{titleX:y,titleY:D,maxWidth:M,rotation:T}=function Wh(r,n,s,o){const{top:l,left:u,bottom:d,right:f,chart:g}=r,{chartArea:y,scales:D}=g;let T,R,H,M=0;const U=d-l,X=f-u;if(r.isHorizontal()){if(R=ht(o,u,f),ot(s)){const ie=Object.keys(s)[0];H=D[ie].getPixelForValue(s[ie])+U-n}else H="center"===s?(y.bottom+y.top)/2+U-n:Ru(r,s,n);T=f-u}else{if(ot(s)){const ie=Object.keys(s)[0];R=D[ie].getPixelForValue(s[ie])-X+n}else R="center"===s?(y.left+y.right)/2-X+n:Ru(r,s,n);H=ht(o,d,l),M="left"===s?-zt:zt}return{titleX:R,titleY:H,maxWidth:T,rotation:M}}(this,g,s,f);fs(n,o.text,0,0,u,{color:o.color,maxWidth:M,rotation:T,textAlign:Uh(f,s,l),textBaseline:"middle",translation:[y,D]})}draw(n){!this._isVisible()||(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,s=n.ticks&&n.ticks.z||0,o=Ze(n.grid&&n.grid.z,-1),l=Ze(n.border&&n.border.z,0);return this._isVisible()&&this.draw===Wi.prototype.draw?[{z:o,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:s,draw:u=>{this.drawLabels(u)}}]:[{z:s,draw:u=>{this.draw(u)}}]}getMatchingVisibleMetas(n){const s=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let u,d;for(u=0,d=s.length;u<d;++u){const f=s[u];f[o]===this.id&&(!n||f.type===n)&&l.push(f)}return l}_resolveTickFontOptions(n){return Gt(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class na{constructor(n,s,o){this.type=n,this.scope=s,this.override=o,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const s=Object.getPrototypeOf(n);let o;(function oo(r){return"id"in r&&"defaults"in r})(s)&&(o=this.register(s));const l=this.items,u=n.id,d=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+n);return u in l||(l[u]=n,function mg(r,n,s){const o=ii(Object.create(null),[s?Ut.get(s):{},Ut.get(n),r.defaults]);Ut.set(n,o),r.defaultRoutes&&function _g(r,n){Object.keys(n).forEach(s=>{const o=s.split("."),l=o.pop(),u=[r].concat(o).join("."),d=n[s].split("."),f=d.pop(),g=d.join(".");Ut.route(u,l,g,f)})}(n,r.defaultRoutes),r.descriptors&&Ut.describe(n,r.descriptors)}(n,d,o),this.override&&Ut.override(n.id,n.overrides)),d}get(n){return this.items[n]}unregister(n){const s=this.items,o=n.id,l=this.scope;o in s&&delete s[o],l&&o in Ut[l]&&(delete Ut[l][o],this.override&&delete Is[o])}}class Sn{constructor(){this.controllers=new na(ns,"datasets",!0),this.elements=new na(ms,"elements"),this.plugins=new na(Object,"plugins"),this.scales=new na(Wi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,s,o){[...s].forEach(l=>{const u=o||this._getRegistryForType(l);o||u.isForType(l)||u===this.plugins&&l.id?this._exec(n,u,l):bt(l,d=>{const f=o||this._getRegistryForType(d);this._exec(n,f,d)})})}_exec(n,s,o){const l=Hr(n);It(o["before"+l],[],o),s[n](o),It(o["after"+l],[],o)}_getRegistryForType(n){for(let s=0;s<this._typedRegistries.length;s++){const o=this._typedRegistries[s];if(o.isForType(n))return o}return this.plugins}_get(n,s,o){const l=s.get(n);if(void 0===l)throw new Error('"'+n+'" is not a registered '+o+".");return l}}var Xn=new Sn;class Nu{constructor(){this._init=[]}notify(n,s,o,l){"beforeInit"===s&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const u=l?this._descriptors(n).filter(l):this._descriptors(n),d=this._notify(u,n,s,o);return"afterDestroy"===s&&(this._notify(u,n,"stop"),this._notify(this._init,n,"uninstall")),d}_notify(n,s,o,l){l=l||{};for(const u of n){const d=u.plugin;if(!1===It(d[o],[s,l,u.options],d)&&l.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),s}_createDescriptors(n,s){const o=n&&n.config,l=Ze(o.options&&o.options.plugins,{}),u=function Bu(r){const n={},s=[],o=Object.keys(Xn.plugins.items);for(let u=0;u<o.length;u++)s.push(Xn.getPlugin(o[u]));const l=r.plugins||[];for(let u=0;u<l.length;u++){const d=l[u];-1===s.indexOf(d)&&(s.push(d),n[d.id]=!0)}return{plugins:s,localIds:n}}(o);return!1!==l||s?function ao(r,{plugins:n,localIds:s},o,l){const u=[],d=r.getContext();for(const f of n){const g=f.id,y=En(o[g],l);null!==y&&u.push({plugin:f,options:Sl(r.config,{plugin:f,local:s[g]},y,d)})}return u}(n,u,l,s):[]}_notifyStateChanges(n){const s=this._oldCache||[],o=this._cache,l=(u,d)=>u.filter(f=>!d.some(g=>f.plugin.id===g.plugin.id));this._notify(l(s,o),n,"stop"),this._notify(l(o,s),n,"start")}}function En(r,n){return n||!1!==r?!0===r?{}:r:null}function Sl(r,{plugin:n,local:s},o,l){const u=r.pluginScopeKeys(n),d=r.getOptionScopes(o,u);return s&&n.defaults&&d.push(n.defaults),r.createResolver(d,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Al(r,n){return((n.datasets||{})[r]||{}).indexAxis||n.indexAxis||(Ut.datasets[r]||{}).indexAxis||"x"}function ju(r){if("x"===r||"y"===r||"r"===r)return r}function Vu(r){return"top"===r||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0}function Tl(r,...n){if(ju(r))return r;for(const s of n){const o=s.axis||Vu(s.position)||r.length>1&&ju(r[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function Il(r,n,s){if(s[n+"AxisID"]===r)return{axis:n}}function sa(r){const n=r.options||(r.options={});n.plugins=Ze(n.plugins,{}),n.scales=function Kh(r,n){const s=Is[r.type]||{scales:{}},o=n.scales||{},l=Al(r.type,n),u=Object.create(null);return Object.keys(o).forEach(d=>{const f=o[d];if(!ot(f))return console.error(`Invalid scale configuration for scale: ${d}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const g=Tl(d,f,function $h(r,n){if(n.data&&n.data.datasets){const s=n.data.datasets.filter(o=>o.xAxisID===r||o.yAxisID===r);if(s.length)return Il(r,"x",s[0])||Il(r,"y",s[0])}return{}}(d,r),Ut.scales[f.type]),y=function Hu(r,n){return r===n?"_index_":"_value_"}(g,l),D=s.scales||{};u[d]=ri(Object.create(null),[{axis:g},f,D[g],D[y]])}),r.data.datasets.forEach(d=>{const f=d.type||r.type,g=d.indexAxis||Al(f,n),D=(Is[f]||{}).scales||{};Object.keys(D).forEach(M=>{const T=function zh(r,n){let s=r;return"_index_"===r?s=n:"_value_"===r&&(s="x"===n?"y":"x"),s}(M,g),R=d[T+"AxisID"]||T;u[R]=u[R]||Object.create(null),ri(u[R],[{axis:T},o[R],D[M]])})}),Object.keys(u).forEach(d=>{const f=u[d];ri(f,[Ut.scales[f.type],Ut.scale])}),u}(r,n)}function Uu(r){return(r=r||{}).datasets=r.datasets||[],r.labels=r.labels||[],r}const ia=new Map,Wu=new Set;function ra(r,n){let s=ia.get(r);return s||(s=n(),ia.set(r,s),Wu.add(s)),s}const pi=(r,n,s)=>{const o=ds(n,s);void 0!==o&&r.add(o)};class Yh{constructor(n){this._config=function Gh(r){return(r=r||{}).data=Uu(r.data),sa(r),r}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=Uu(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),sa(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return ra(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,s){return ra(`${n}.transition.${s}`,()=>[[`datasets.${n}.transitions.${s}`,`transitions.${s}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,s){return ra(`${n}-${s}`,()=>[[`datasets.${n}.elements.${s}`,`datasets.${n}`,`elements.${s}`,""]])}pluginScopeKeys(n){const s=n.id;return ra(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,s){const o=this._scopeCache;let l=o.get(n);return(!l||s)&&(l=new Map,o.set(n,l)),l}getOptionScopes(n,s,o){const{options:l,type:u}=this,d=this._cachedScopes(n,o),f=d.get(s);if(f)return f;const g=new Set;s.forEach(D=>{n&&(g.add(n),D.forEach(M=>pi(g,n,M))),D.forEach(M=>pi(g,l,M)),D.forEach(M=>pi(g,Is[u]||{},M)),D.forEach(M=>pi(g,Ut,M)),D.forEach(M=>pi(g,el,M))});const y=Array.from(g);return 0===y.length&&y.push(Object.create(null)),Wu.has(s)&&d.set(s,y),y}chartOptionScopes(){const{options:n,type:s}=this;return[n,Is[s]||{},Ut.datasets[s]||{},{type:s},Ut,el]}resolveNamedOptions(n,s,o,l=[""]){const u={$shared:!0},{resolver:d,subPrefixes:f}=zu(this._resolverCache,n,l);let g=d;(function Jh(r,n){const{isScriptable:s,isIndexable:o}=nl(r);for(const l of n){const u=s(l),d=o(l),f=(d||u)&&r[l];if(u&&(hs(f)||Xh(f))||d&&kt(f))return!0}return!1})(d,s)&&(u.$shared=!1,g=Os(d,o=hs(o)?o():o,this.createResolver(n,o,f)));for(const y of s)u[y]=g[y];return u}createResolver(n,s,o=[""],l){const{resolver:u}=zu(this._resolverCache,n,o);return ot(s)?Os(u,s,void 0,l):u}}function zu(r,n,s){let o=r.get(n);o||(o=new Map,r.set(n,o));const l=s.join();let u=o.get(l);return u||(u={resolver:Xc(n,s),subPrefixes:s.filter(f=>!f.toLowerCase().includes("hover"))},o.set(l,u)),u}const Xh=r=>ot(r)&&Object.getOwnPropertyNames(r).some(n=>hs(r[n])),$u=["top","bottom","left","right","chartArea"];function Ku(r,n){return"top"===r||"bottom"===r||-1===$u.indexOf(r)&&"x"===n}function Gu(r,n){return function(s,o){return s[r]===o[r]?s[n]-o[n]:s[r]-o[r]}}function Yu(r){const n=r.chart,s=n.options.animation;n.notifyPlugins("afterRender"),It(s&&s.onComplete,[r],n)}function Qh(r){const n=r.chart,s=n.options.animation;It(s&&s.onProgress,[r],n)}function Xu(r){return Ni()&&"string"==typeof r?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const oa={},Ju=r=>{const n=Xu(r);return Object.values(oa).filter(s=>s.canvas===n).pop()};function Zh(r,n,s){const o=Object.keys(r);for(const l of o){const u=+l;if(u>=n){const d=r[l];delete r[l],(s>0||u>n)&&(r[u+s]=d)}}}function Vn(r,n,s){return r.options.clip?r[s]:n[s]}class gi{static register(...n){Xn.add(...n),Pl()}static unregister(...n){Xn.remove(...n),Pl()}constructor(n,s){const o=this.config=new Yh(s),l=Xu(n),u=Ju(l);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const d=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function Ml(r){return!Ni()||"undefined"!=typeof OffscreenCanvas&&r instanceof OffscreenCanvas?dg:Cl}(l)),this.platform.updateConfig(o);const f=this.platform.acquireContext(l,d.aspectRatio),g=f&&f.canvas,y=g&&g.height,D=g&&g.width;this.id=Oc(),this.ctx=f,this.canvas=g,this.width=D,this.height=y,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function dt(r,n){let s;return function(...o){return n?(clearTimeout(s),s=setTimeout(r,n,o)):r.apply(this,o),n}}(M=>this.update(M),d.resizeDelay||0),this._dataChanges=[],oa[this.id]=this,f&&g?(Fs.listen(this,"complete",Yu),Fs.listen(this,"progress",Qh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:s},width:o,height:l,_aspectRatio:u}=this;return ut(n)?s&&u?u:l?o/l:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return Xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kc(this.canvas,this.ctx),this}stop(){return Fs.stop(this),this}resize(n,s){Fs.running(this)?this._resizeBeforeDraw={width:n,height:s}:this._resize(n,s)}_resize(n,s){const o=this.options,d=this.platform.getMaximumSize(this.canvas,n,s,o.maintainAspectRatio&&this.aspectRatio),f=o.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,Bi(this,f,!0)&&(this.notifyPlugins("resize",{size:d}),It(o.onResize,[this,d],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){bt(this.options.scales||{},(o,l)=>{o.id=l})}buildOrUpdateScales(){const n=this.options,s=n.scales,o=this.scales,l=Object.keys(o).reduce((d,f)=>(d[f]=!1,d),{});let u=[];s&&(u=u.concat(Object.keys(s).map(d=>{const f=s[d],g=Tl(d,f),y="r"===g,D="x"===g;return{options:f,dposition:y?"chartArea":D?"bottom":"left",dtype:y?"radialLinear":D?"category":"linear"}}))),bt(u,d=>{const f=d.options,g=f.id,y=Tl(g,f),D=Ze(f.type,d.dtype);(void 0===f.position||Ku(f.position,y)!==Ku(d.dposition))&&(f.position=d.dposition),l[g]=!0;let M=null;g in o&&o[g].type===D?M=o[g]:(M=new(Xn.getScale(D))({id:g,type:D,ctx:this.ctx,chart:this}),o[M.id]=M),M.init(f,n)}),bt(l,(d,f)=>{d||delete o[f]}),bt(o,d=>{Mn.configure(this,d,d.options),Mn.addBox(this,d)})}_updateMetasets(){const n=this._metasets,s=this.data.datasets.length,o=n.length;if(n.sort((l,u)=>l.index-u.index),o>s){for(let l=s;l<o;++l)this._destroyDatasetMeta(l);n.splice(s,o-s)}this._sortedMetasets=n.slice(0).sort(Gu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:s}}=this;n.length>s.length&&delete this._stacks,n.forEach((o,l)=>{0===s.filter(u=>u===o._dataset).length&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const n=[],s=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=s.length;o<l;o++){const u=s[o];let d=this.getDatasetMeta(o);const f=u.type||this.config.type;if(d.type&&d.type!==f&&(this._destroyDatasetMeta(o),d=this.getDatasetMeta(o)),d.type=f,d.indexAxis=u.indexAxis||Al(f,this.options),d.order=u.order||0,d.index=o,d.label=""+u.label,d.visible=this.isDatasetVisible(o),d.controller)d.controller.updateIndex(o),d.controller.linkScales();else{const g=Xn.getController(f),{datasetElementType:y,dataElementType:D}=Ut.datasets[f];Object.assign(g,{dataElementType:Xn.getElement(D),datasetElementType:y&&Xn.getElement(y)}),d.controller=new g(this,o),n.push(d.controller)}}return this._updateMetasets(),n}_resetElements(){bt(this.data.datasets,(n,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0}))return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let y=0,D=this.data.datasets.length;y<D;y++){const{controller:M}=this.getDatasetMeta(y),T=!l&&-1===u.indexOf(M);M.buildOrUpdateElements(T),d=Math.max(+M.getMaxOverflow(),d)}d=this._minPadding=o.layout.autoPadding?d:0,this._updateLayout(d),l||bt(u,y=>{y.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(Gu("z","_idx"));const{_active:f,_lastEvent:g}=this;g?this._eventHandler(g,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){bt(this.scales,n=>{Mn.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(n.events);(!qa(s,o)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:u}of s)Zh(n,l,"_removeElements"===o?-u:u)}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=u=>new Set(n.filter(d=>d[0]===u).map((d,f)=>f+","+d.splice(1).join(","))),l=o(0);for(let u=1;u<s;u++)if(!qa(l,o(u)))return;return Array.from(l).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(n){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Mn.update(this,this.width,this.height,n);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],bt(this.boxes,l=>{o&&"chartArea"===l.position||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,u)=>{l._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,hs(n)?n({datasetIndex:s}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,s){const o=this.getDatasetMeta(n),l={meta:o,index:n,mode:s,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",l)&&(o.controller._update(s),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Fs.has(this)?this.attached&&!Fs.running(this)&&Fs.start(this):(this.draw(),Yu({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const s=this._layers;for(n=0;n<s.length&&s[n].z<=0;++n)s[n].draw(this.chartArea);for(this._drawDatasets();n<s.length;++n)s[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const s=this._sortedMetasets,o=[];let l,u;for(l=0,u=s.length;l<u;++l){const d=s[l];(!n||d.visible)&&o.push(d)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const n=this.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s)this._drawDataset(n[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const s=this.ctx,o=n._clip,l=!o.disabled,u=function yg(r,n){const{xScale:s,yScale:o}=r;return s&&o?{left:Vn(s,n,"left"),right:Vn(s,n,"right"),top:Vn(o,n,"top"),bottom:Vn(o,n,"bottom")}:n}(n,this.chartArea),d={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",d)&&(l&&ko(s,{left:!1===o.left?0:u.left-o.left,right:!1===o.right?this.width:u.right+o.right,top:!1===o.top?0:u.top-o.top,bottom:!1===o.bottom?this.height:u.bottom+o.bottom}),n.controller.draw(),l&&Ro(s),d.cancelable=!1,this.notifyPlugins("afterDatasetDraw",d))}isPointInArea(n){return Dt(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,s,o,l){const u=Sh.modes[s];return"function"==typeof u?u(this,n,o,l):[]}getDatasetMeta(n){const s=this.data.datasets[n],o=this._metasets;let l=o.filter(u=>u&&u._dataset===s).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:n,_dataset:s,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=Fi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const s=this.data.datasets[n];if(!s)return!1;const o=this.getDatasetMeta(n);return"boolean"==typeof o.hidden?!o.hidden:!s.hidden}setDatasetVisibility(n,s){this.getDatasetMeta(n).hidden=!s}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,s,o){const l=o?"show":"hide",u=this.getDatasetMeta(n),d=u.controller._resolveAnimations(void 0,l);Ii(s)?(u.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(n,o),d.update(u,{visible:o}),this.update(f=>f.datasetIndex===n?l:void 0))}hide(n,s){this._updateVisibility(n,s,!1)}show(n,s){this._updateVisibility(n,s,!0)}_destroyDatasetMeta(n){const s=this._metasets[n];s&&s.controller&&s.controller._destroy(),delete this._metasets[n]}_stop(){let n,s;for(this.stop(),Fs.remove(this),n=0,s=this.data.datasets.length;n<s;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:s}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),Kc(n,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete oa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,s=this.platform,o=(u,d)=>{s.addEventListener(this,u,d),n[u]=d},l=(u,d,f)=>{u.offsetX=d,u.offsetY=f,this._eventHandler(u)};bt(this.options.events,u=>o(u,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,s=this.platform,o=(g,y)=>{s.addEventListener(this,g,y),n[g]=y},l=(g,y)=>{n[g]&&(s.removeEventListener(this,g,y),delete n[g])},u=(g,y)=>{this.canvas&&this.resize(g,y)};let d;const f=()=>{l("attach",f),this.attached=!0,this.resize(),o("resize",u),o("detach",d)};d=()=>{this.attached=!1,l("resize",u),this._stop(),this._resize(0,0),o("attach",f)},s.isAttached(this.canvas)?f():d()}unbindEvents(){bt(this._listeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._listeners={},bt(this._responsiveListeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,s,o){const l=o?"set":"remove";let u,d,f,g;for("dataset"===s&&(u=this.getDatasetMeta(n[0].datasetIndex),u.controller["_"+l+"DatasetHoverStyle"]()),f=0,g=n.length;f<g;++f){d=n[f];const y=d&&this.getDatasetMeta(d.datasetIndex).controller;y&&y[l+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const s=this._active||[],o=n.map(({datasetIndex:u,index:d})=>{const f=this.getDatasetMeta(u);if(!f)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:f.data[d],index:d}});!Qi(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(n,s,o){return this._plugins.notify(this,n,s,o)}isPluginEnabled(n){return 1===this._plugins._cache.filter(s=>s.plugin.id===n).length}_updateHoverStyles(n,s,o){const l=this.options.hover,u=(g,y)=>g.filter(D=>!y.some(M=>D.datasetIndex===M.datasetIndex&&D.index===M.index)),d=u(s,n),f=o?n:u(n,s);d.length&&this.updateHoverStyle(d,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(n,s){const o={event:n,replay:s,cancelable:!0,inChartArea:this.isPointInArea(n)},l=d=>(d.options.events||this.options.events).includes(n.native.type);if(!1===this.notifyPlugins("beforeEvent",o,l))return;const u=this._handleEvent(n,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(u||o.changed)&&this.render(),this}_handleEvent(n,s,o){const{_active:l=[],options:u}=this,f=this._getActiveElements(n,l,o,s),g=function Ao(r){return"mouseup"===r.type||"click"===r.type||"contextmenu"===r.type}(n),y=function _r(r,n,s,o){return s&&"mouseout"!==r.type?o?n:r:null}(n,this._lastEvent,o,g);o&&(this._lastEvent=null,It(u.onHover,[n,f,this],this),g&&It(u.onClick,[n,f,this],this));const D=!Qi(f,l);return(D||s)&&(this._active=f,this._updateHoverStyles(f,l,s)),this._lastEvent=y,D}_getActiveElements(n,s,o,l){if("mouseout"===n.type)return[];if(!o)return s;const u=this.options.hover;return this.getElementsAtEventForMode(n,u.mode,u,l)}}function Pl(){return bt(gi.instances,r=>r._plugins.invalidate())}function mi(r,n,s,o){return{x:s+r*Math.cos(n),y:o+r*Math.sin(n)}}function aa(r,n,s,o,l,u){const{x:d,y:f,startAngle:g,pixelMargin:y,innerRadius:D}=n,M=Math.max(n.outerRadius+o+s-y,0),T=D>0?D+o+s+y:0;let R=0;const H=l-g;if(o){const Kt=((D>0?D-o:0)+(M>0?M-o:0))/2;R=(H-(0!==Kt?H*Kt/(Kt+o):H))/2}const X=(H-Math.max(.001,H*M-s/Rt)/M)/2,ie=g+X+R,pe=l-X-R,{outerStart:Ce,outerEnd:Me,innerStart:De,innerEnd:ke}=function Ol(r,n,s,o){const l=function _s(r){return ki(r,["outerStart","outerEnd","innerStart","innerEnd"])}(r.options.borderRadius),u=(s-n)/2,d=Math.min(u,o*n/2),f=g=>{const y=(s-Math.min(u,g))*o/2;return Lt(g,0,Math.min(u,y))};return{outerStart:f(l.outerStart),outerEnd:f(l.outerEnd),innerStart:Lt(l.innerStart,0,d),innerEnd:Lt(l.innerEnd,0,d)}}(n,T,M,pe-ie),Fe=M-Ce,Be=M-Me,ze=ie+Ce/Fe,st=pe-Me/Be,nt=T+De,gt=T+ke,mn=ie+De/nt,Nn=pe-ke/gt;if(r.beginPath(),u){const Mt=(ze+st)/2;if(r.arc(d,f,M,ze,Mt),r.arc(d,f,M,Mt,st),Me>0){const Ht=mi(Be,st,d,f);r.arc(Ht.x,Ht.y,Me,st,pe+zt)}const Nt=mi(gt,pe,d,f);if(r.lineTo(Nt.x,Nt.y),ke>0){const Ht=mi(gt,Nn,d,f);r.arc(Ht.x,Ht.y,ke,pe+zt,Nn+Math.PI)}const Kt=(pe-ke/T+(ie+De/T))/2;if(r.arc(d,f,T,pe-ke/T,Kt,!0),r.arc(d,f,T,Kt,ie+De/T,!0),De>0){const Ht=mi(nt,mn,d,f);r.arc(Ht.x,Ht.y,De,mn+Math.PI,ie-zt)}const qn=mi(Fe,ie,d,f);if(r.lineTo(qn.x,qn.y),Ce>0){const Ht=mi(Fe,ze,d,f);r.arc(Ht.x,Ht.y,Ce,ie-zt,ze)}}else{r.moveTo(d,f);const Mt=Math.cos(ze)*M+d,Nt=Math.sin(ze)*M+f;r.lineTo(Mt,Nt);const Kt=Math.cos(st)*M+d,qn=Math.sin(st)*M+f;r.lineTo(Kt,qn)}r.closePath()}Re(gi,"defaults",Ut),Re(gi,"instances",oa),Re(gi,"overrides",Is),Re(gi,"registry",Xn),Re(gi,"version","4.4.2"),Re(gi,"getChart",Ju);class yr extends ms{constructor(n){super(),Re(this,"circumference"),Re(this,"endAngle"),Re(this,"fullCircles"),Re(this,"innerRadius"),Re(this,"outerRadius"),Re(this,"pixelMargin"),Re(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,o){const l=this.getProps(["x","y"],o),{angle:u,distance:d}=sn(l,{x:n,y:s}),{startAngle:f,endAngle:g,innerRadius:y,outerRadius:D,circumference:M}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),T=(this.options.spacing+this.options.borderWidth)/2,H=Ze(M,g-f)>=at||kn(u,f,g),U=rn(d,y+T,D+T);return H&&U}getCenterPoint(n){const{x:s,y:o,startAngle:l,endAngle:u,innerRadius:d,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:g,spacing:y}=this.options,D=(l+u)/2,M=(d+f+y+g)/2;return{x:s+Math.cos(D)*M,y:o+Math.sin(D)*M}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:o}=this,l=(s.offset||0)/4,u=(s.spacing||0)/2,d=s.circular;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=o>at?Math.floor(o/at):0,0===o||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*l,Math.sin(f)*l);const y=l*(1-Math.sin(Math.min(Rt,o||0)));n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,function qu(r,n,s,o,l){const{fullCircles:u,startAngle:d,circumference:f}=n;let g=n.endAngle;if(u){aa(r,n,s,o,g,l);for(let y=0;y<u;++y)r.fill();isNaN(f)||(g=d+(f%at||at))}aa(r,n,s,o,g,l),r.fill()}(n,this,y,u,d),function lo(r,n,s,o,l){const{fullCircles:u,startAngle:d,circumference:f,options:g}=n,{borderWidth:y,borderJoinStyle:D,borderDash:M,borderDashOffset:T}=g,R="inner"===g.borderAlign;if(!y)return;r.setLineDash(M||[]),r.lineDashOffset=T,R?(r.lineWidth=2*y,r.lineJoin=D||"round"):(r.lineWidth=y,r.lineJoin=D||"bevel");let H=n.endAngle;if(u){aa(r,n,s,o,H,l);for(let U=0;U<u;++U)r.stroke();isNaN(f)||(H=d+(f%at||at))}R&&function vg(r,n,s){const{startAngle:o,pixelMargin:l,x:u,y:d,outerRadius:f,innerRadius:g}=n;let y=l/f;r.beginPath(),r.arc(u,d,f,o-y,s+y),g>l?(y=l/g,r.arc(u,d,g,s+y,o-y,!0)):r.arc(u,d,l,s+zt,o-zt),r.closePath(),r.clip()}(r,n,H),u||(aa(r,n,s,o,H,l),r.stroke())}(n,this,y,u,d),n.restore()}}function kl(r,n,s=n){r.lineCap=Ze(s.borderCapStyle,n.borderCapStyle),r.setLineDash(Ze(s.borderDash,n.borderDash)),r.lineDashOffset=Ze(s.borderDashOffset,n.borderDashOffset),r.lineJoin=Ze(s.borderJoinStyle,n.borderJoinStyle),r.lineWidth=Ze(s.borderWidth,n.borderWidth),r.strokeStyle=Ze(s.borderColor,n.borderColor)}function Rl(r,n,s){r.lineTo(s.x,s.y)}function Ll(r,n,s={}){const o=r.length,{start:l=0,end:u=o-1}=s,{start:d,end:f}=n,g=Math.max(l,d),y=Math.min(u,f);return{count:o,start:g,loop:n.loop,ilen:y<g&&!(l<d&&u<d||l>f&&u>f)?o+y-g:y-g}}function bg(r,n,s,o){const{points:l,options:u}=n,{count:d,start:f,loop:g,ilen:y}=Ll(l,s,o),D=function Fl(r){return r.stepped?ih:r.tension||"monotone"===r.cubicInterpolationMode?rh:Rl}(u);let R,H,U,{move:M=!0,reverse:T}=o||{};for(R=0;R<=y;++R)H=l[(f+(T?y-R:R))%d],!H.skip&&(M?(r.moveTo(H.x,H.y),M=!1):D(r,U,H,T,u.stepped),U=H);return g&&(H=l[(f+(T?y:0))%d],D(r,U,H,T,u.stepped)),!!g}function vr(r,n,s,o){const l=n.points,{count:u,start:d,ilen:f}=Ll(l,s,o),{move:g=!0,reverse:y}=o||{};let T,R,H,U,X,ie,D=0,M=0;const pe=Me=>(d+(y?f-Me:Me))%u,Ce=()=>{U!==X&&(r.lineTo(D,X),r.lineTo(D,U),r.lineTo(D,ie))};for(g&&(R=l[pe(0)],r.moveTo(R.x,R.y)),T=0;T<=f;++T){if(R=l[pe(T)],R.skip)continue;const Me=R.x,De=R.y,ke=0|Me;ke===H?(De<U?U=De:De>X&&(X=De),D=(M*D+Me)/++M):(Ce(),r.lineTo(Me,De),H=ke,M=0,U=X=De),ie=De}Ce()}function co(r){const n=r.options;return r._decimated||r._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?bg:vr}Re(yr,"id","arc"),Re(yr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Re(yr,"defaultRoutes",{backgroundColor:"backgroundColor"}),Re(yr,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const tf="function"==typeof Path2D;class _i extends ms{constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,s){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(jo(this._points,o,n,o.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Yn(r,n){const s=r.points,o=r.options.spanGaps,l=s.length;if(!l)return[];const u=!!r._loop,{start:d,end:f}=function og(r,n,s,o){let l=0,u=n-1;if(s&&!o)for(;l<n&&!r[l].skip;)l++;for(;l<n&&r[l].skip;)l++;for(l%=n,s&&(u+=l);u>l&&r[u%n].skip;)u--;return u%=n,{start:l,end:u}}(s,l,u,o);return function ts(r,n,s,o){return o&&o.setContext&&s?function au(r,n,s,o){const l=r._chart.getContext(),u=Jr(r.options),{_datasetIndex:d,options:{spanGaps:f}}=r,g=s.length,y=[];let D=u,M=n[0].start,T=M;function R(H,U,X,ie){const pe=f?-1:1;if(H!==U){for(H+=g;s[H%g].skip;)H-=pe;for(;s[U%g].skip;)U+=pe;H%g!=U%g&&(y.push({start:H%g,end:U%g,loop:X,style:ie}),D=ie,M=U%g)}}for(const H of n){M=f?M:H.start;let X,U=s[M%g];for(T=M+1;T<=H.end;T++){const ie=s[T%g];X=Jr(o.setContext(Fi(l,{type:"segment",p0:U,p1:ie,p0DataIndex:(T-1)%g,p1DataIndex:T%g,datasetIndex:d}))),qr(X,D)&&R(M,T-1,H.loop,D),U=ie,D=X}M<T-1&&R(M,T-1,H.loop,D)}return y}(r,n,s,o):n}(r,!0===o?[{start:d,end:f,loop:u}]:function mh(r,n,s,o){const l=r.length,u=[];let g,d=n,f=r[n];for(g=n+1;g<=s;++g){const y=r[g%l];y.skip||y.stop?f.skip||(u.push({start:n%l,end:(g-1)%l,loop:o=!1}),n=d=y.stop?g:null):(d=g,f.skip&&(n=g)),f=y}return null!==d&&u.push({start:n%l,end:d%l,loop:o}),u}(s,d,f<d?f+l:f,!!r._fullLoop&&0===d&&f===l-1),s,n)}(this,this.options.segment))}first(){const n=this.segments;return n.length&&this.points[n[0].start]}last(){const n=this.segments,o=n.length;return o&&this.points[n[o-1].end]}interpolate(n,s){const o=this.options,l=n[s],u=this.points,d=pr(this,{property:s,start:l,end:l});if(!d.length)return;const f=[],g=function Qu(r){return r.stepped?ng:r.tension||"monotone"===r.cubicInterpolationMode?sg:Ot}(o);let y,D;for(y=0,D=d.length;y<D;++y){const{start:M,end:T}=d[y],R=u[M],H=u[T];if(R===H){f.push(R);continue}const X=g(R,H,Math.abs((l-R[s])/(H[s]-R[s])),o.stepped);X[s]=n[s],f.push(X)}return 1===f.length?f[0]:f}pathSegment(n,s,o){return co(this)(n,this,s,o)}path(n,s,o){const l=this.segments,u=co(this);let d=this._loop;s=s||0,o=o||this.points.length-s;for(const f of l)d&=u(n,this,f,{start:s,end:s+o-1});return!!d}draw(n,s,o,l){(this.points||[]).length&&(this.options||{}).borderWidth&&(n.save(),function nf(r,n,s,o){tf&&!n.options.segment?function ef(r,n,s,o){let l=n._path;l||(l=n._path=new Path2D,n.path(l,s,o)&&l.closePath()),kl(r,n.options),r.stroke(l)}(r,n,s,o):function Nl(r,n,s,o){const{segments:l,options:u}=n,d=co(n);for(const f of l)kl(r,u,f.style),r.beginPath(),d(r,n,f,{start:s,end:s+o-1})&&r.closePath(),r.stroke()}(r,n,s,o)}(n,this,o,l),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Zu(r,n,s,o){const l=r.options,{[s]:u}=r.getProps([s],o);return Math.abs(n-u)<l.radius+l.hitRadius}Re(_i,"id","line"),Re(_i,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Re(_i,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Re(_i,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n});class la extends ms{constructor(n){super(),Re(this,"parsed"),Re(this,"skip"),Re(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,o){const l=this.options,{x:u,y:d}=this.getProps(["x","y"],o);return Math.pow(n-u,2)+Math.pow(s-d,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(n,s){return Zu(this,n,"x",s)}inYRange(n,s){return Zu(this,n,"y",s)}getCenterPoint(n){const{x:s,y:o}=this.getProps(["x","y"],n);return{x:s,y:o}}size(n){let s=(n=n||this.options||{}).radius||0;return s=Math.max(s,s&&n.hoverRadius||0),2*(s+(s&&n.borderWidth||0))}draw(n,s){const o=this.options;this.skip||o.radius<.1||!Dt(this,s,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,pn(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}function ed(r,n){const{x:s,y:o,base:l,width:u,height:d}=r.getProps(["x","y","base","width","height"],n);let f,g,y,D,M;return r.horizontal?(M=d/2,f=Math.min(s,l),g=Math.max(s,l),y=o-M,D=o+M):(M=u/2,f=s-M,g=s+M,y=Math.min(o,l),D=Math.max(o,l)),{left:f,top:y,right:g,bottom:D}}function Hs(r,n,s,o){return r?0:Lt(n,s,o)}function jl(r,n,s,o){const l=null===n,u=null===s,f=r&&!(l&&u)&&ed(r,o);return f&&(l||rn(n,f.left,f.right))&&(u||rn(s,f.top,f.bottom))}function nd(r,n){r.rect(n.x,n.y,n.w,n.h)}function ca(r,n,s={}){const o=r.x!==s.x?-n:0,l=r.y!==s.y?-n:0;return{x:r.x+o,y:r.y+l,w:r.w+((r.x+r.w!==s.x+s.w?n:0)-o),h:r.h+((r.y+r.h!==s.y+s.h?n:0)-l),radius:r.radius}}Re(la,"id","point"),Re(la,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Re(la,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class ys extends ms{constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:s,options:{borderColor:o,backgroundColor:l}}=this,{inner:u,outer:d}=function Hl(r){const n=ed(r),s=n.right-n.left,o=n.bottom-n.top,l=function Bl(r,n,s){const l=r.borderSkipped,u=Yc(r.options.borderWidth);return{t:Hs(l.top,u.top,0,s),r:Hs(l.right,u.right,0,n),b:Hs(l.bottom,u.bottom,0,s),l:Hs(l.left,u.left,0,n)}}(r,s/2,o/2),u=function td(r,n,s){const{enableBorderRadius:o}=r.getProps(["enableBorderRadius"]),l=r.options.borderRadius,u=Ri(l),d=Math.min(n,s),f=r.borderSkipped,g=o||ot(l);return{topLeft:Hs(!g||f.top||f.left,u.topLeft,0,d),topRight:Hs(!g||f.top||f.right,u.topRight,0,d),bottomLeft:Hs(!g||f.bottom||f.left,u.bottomLeft,0,d),bottomRight:Hs(!g||f.bottom||f.right,u.bottomRight,0,d)}}(r,s/2,o/2);return{outer:{x:n.left,y:n.top,w:s,h:o,radius:u},inner:{x:n.left+l.l,y:n.top+l.t,w:s-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,u.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,u.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,u.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,u.bottomRight-Math.max(l.b,l.r))}}}}(this),f=function sf(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}(d.radius)?li:nd;n.save(),(d.w!==u.w||d.h!==u.h)&&(n.beginPath(),f(n,ca(d,s,u)),n.clip(),f(n,ca(u,-s,d)),n.fillStyle=o,n.fill("evenodd")),n.beginPath(),f(n,ca(u,s)),n.fillStyle=l,n.fill(),n.restore()}inRange(n,s,o){return jl(this,n,s,o)}inXRange(n,s){return jl(this,n,null,s)}inYRange(n,s){return jl(this,null,n,s)}getCenterPoint(n){const{x:s,y:o,base:l,horizontal:u}=this.getProps(["x","y","base","horizontal"],n);return{x:u?(s+l)/2:s,y:u?o:(o+l)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}}Re(ys,"id","bar"),Re(ys,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Re(ys,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var sd=Object.freeze({__proto__:null,ArcElement:yr,BarElement:ys,LineElement:_i,PointElement:la});const ua=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],id=ua.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function uo(r){return ua[r%ua.length]}function rd(r){return id[r%id.length]}function Ul(r){let n;for(n in r)if(r[n].borderColor||r[n].backgroundColor)return!0;return!1}var ha={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,n,s){if(!s.enabled)return;const{data:{datasets:o},options:l}=r.config,{elements:u}=l;if(!s.forceOverride&&(Ul(o)||function da(r){return r&&(r.borderColor||r.backgroundColor)}(l)||u&&Ul(u)))return;const d=function Vl(r){let n=0;return(s,o)=>{const l=r.getDatasetMeta(o).controller;l instanceof ps?n=function ad(r,n){return r.backgroundColor=r.data.map(()=>uo(n++)),n}(s,n):l instanceof so?n=function ld(r,n){return r.backgroundColor=r.data.map(()=>rd(n++)),n}(s,n):l&&(n=function od(r,n){return r.borderColor=uo(n),r.backgroundColor=rd(n),++n}(s,n))}}(r);o.forEach(d)}};function zl(r){if(r._decimated){const n=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function fa(r){r.data.datasets.forEach(n=>{zl(n)})}var rf={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,n,s)=>{if(!s.enabled)return void fa(r);const o=r.width;r.data.datasets.forEach((l,u)=>{const{_data:d,indexAxis:f}=l,g=r.getDatasetMeta(u),y=d||l.data;if("y"===$r([f,r.options.indexAxis])||!g.controller.supportsDecimation)return;const D=r.scales[g.xAxisID];if("linear"!==D.type&&"time"!==D.type||r.options.parsing)return;let H,{start:M,count:T}=function ho(r,n){const s=n.length;let l,o=0;const{iScale:u}=r,{min:d,max:f,minDefined:g,maxDefined:y}=u.getUserBounds();return g&&(o=Lt(Rn(n,u.axis,d).lo,0,s-1)),l=y?Lt(Rn(n,u.axis,f).hi+1,o,s)-o:s-o,{start:o,count:l}}(g,y);if(T<=(s.threshold||4*o))zl(l);else{switch(ut(d)&&(l._data=y,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(U){this._data=U}})),s.algorithm){case"lttb":H=function cd(r,n,s,o,l){const u=l.samples||o;if(u>=s)return r.slice(n,n+s);const d=[],f=(s-2)/(u-2);let g=0;const y=n+s-1;let M,T,R,H,U,D=n;for(d[g++]=r[D],M=0;M<u-2;M++){let pe,X=0,ie=0;const Ce=Math.floor((M+1)*f)+1+n,Me=Math.min(Math.floor((M+2)*f)+1,s)+n,De=Me-Ce;for(pe=Ce;pe<Me;pe++)X+=r[pe].x,ie+=r[pe].y;X/=De,ie/=De;const ke=Math.floor(M*f)+1+n,Fe=Math.min(Math.floor((M+1)*f)+1,s)+n,{x:Be,y:ze}=r[D];for(R=H=-1,pe=ke;pe<Fe;pe++)H=.5*Math.abs((Be-X)*(r[pe].y-ze)-(Be-r[pe].x)*(ie-ze)),H>R&&(R=H,T=r[pe],U=pe);d[g++]=T,D=U}return d[g++]=r[y],d}(y,M,T,o,s);break;case"min-max":H=function Wl(r,n,s,o){let d,f,g,y,D,M,T,R,H,U,l=0,u=0;const X=[],pe=r[n].x,Me=r[n+s-1].x-pe;for(d=n;d<n+s;++d){f=r[d],g=(f.x-pe)/Me*o,y=f.y;const De=0|g;if(De===D)y<H?(H=y,M=d):y>U&&(U=y,T=d),l=(u*l+f.x)/++u;else{const ke=d-1;if(!ut(M)&&!ut(T)){const Fe=Math.min(M,T),Be=Math.max(M,T);Fe!==R&&Fe!==ke&&X.push(th(eh({},r[Fe]),{x:l})),Be!==R&&Be!==ke&&X.push(th(eh({},r[Be]),{x:l}))}d>0&&ke!==R&&X.push(r[ke]),X.push(f),D=De,u=0,H=U=y,M=T=R=d}}return X}(y,M,T,o);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}l._decimated=H}})},destroy(r){fa(r)}};function $l(r,n,s,o){if(o)return;let l=n[r],u=s[r];return"angle"===r&&(l=yt(l),u=yt(u)),{property:r,start:l,end:u}}function pa(r,n,s){for(;n>r;n--){const o=s[n];if(!isNaN(o.x)&&!isNaN(o.y))break}return n}function ga(r,n,s,o){return r&&n?o(r[s],n[s]):r?r[s]:n?n[s]:0}function Kl(r,n){let s=[],o=!1;return kt(r)?(o=!0,s=r):s=function of(r,n){const{x:s=null,y:o=null}=r||{},l=n.points,u=[];return n.segments.forEach(({start:d,end:f})=>{f=pa(d,f,l);const g=l[d],y=l[f];null!==o?(u.push({x:g.x,y:o}),u.push({x:y.x,y:o})):null!==s&&(u.push({x:s,y:g.y}),u.push({x:s,y:y.y}))}),u}(r,n),s.length?new _i({points:s,options:{tension:0},_loop:o,_fullLoop:o}):null}function af(r){return r&&!1!==r.fill}function dd(r,n,s){let l=r[n].fill;const u=[n];let d;if(!s)return l;for(;!1!==l&&-1===u.indexOf(l);){if(!Vt(l))return l;if(d=r[l],!d)return!1;if(d.visible)return l;u.push(l),l=d.fill}return!1}function lf(r,n,s){const o=function ss(r){const n=r.options,s=n.fill;let o=Ze(s&&s.target,s);return void 0===o&&(o=!!n.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(r);if(ot(o))return!isNaN(o.value)&&o;let l=parseFloat(o);return Vt(l)&&Math.floor(l)===l?function hd(r,n,s,o){return("-"===r||"+"===r)&&(s=n+s),!(s===n||s<0||s>=o)&&s}(o[0],n,l,s):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function hf(r,n,s){const o=[];for(let l=0;l<s.length;l++){const u=s[l],{first:d,last:f,point:g}=ff(u,n,"x");if(!(!g||d&&f))if(d)o.unshift(g);else if(r.push(g),!f)break}r.push(...o)}function ff(r,n,s){const o=r.interpolate(n,s);if(!o)return{};const l=o[s],u=r.segments,d=r.points;let f=!1,g=!1;for(let y=0;y<u.length;y++){const D=u[y],M=d[D.start][s],T=d[D.end][s];if(rn(l,M,T)){f=l===M,g=l===T;break}}return{first:f,last:g,point:o}}class pd{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,s,o){const{x:l,y:u,radius:d}=this;return n.arc(l,u,d,(s=s||{start:0,end:at}).end,s.start,!0),!o.bounds}interpolate(n){const{x:s,y:o,radius:l}=this,u=n.angle;return{x:s+Math.cos(u)*l,y:o+Math.sin(u)*l,angle:u}}}function Je(r,n,s){const o=function pf(r){const{chart:n,fill:s,line:o}=r;if(Vt(s))return function gd(r,n){const s=r.getDatasetMeta(n);return s&&r.isDatasetVisible(n)?s.dataset:null}(n,s);if("stack"===s)return function df(r){const{scale:n,index:s,line:o}=r,l=[],u=o.segments,d=o.points,f=function fd(r,n){const s=[],o=r.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const u=o[l];if(u.index===n)break;u.hidden||s.unshift(u.dataset)}return s}(n,s);f.push(Kl({x:null,y:n.bottom},o));for(let g=0;g<u.length;g++){const y=u[g];for(let D=y.start;D<=y.end;D++)hf(l,d[D],f)}return new _i({points:l,options:{}})}(r);if("shape"===s)return!0;const l=function gf(r){return(r.scale||{}).getPointPositionForValue?function _f(r){const{scale:n,fill:s}=r,o=n.options,l=n.getLabels().length,u=o.reverse?n.max:n.min,d=function uf(r,n,s){let o;return o="start"===r?s:"end"===r?n.options.reverse?n.min:n.max:ot(r)?r.value:n.getBaseValue(),o}(s,n,u),f=[];if(o.grid.circular){const g=n.getPointPositionForValue(0,u);return new pd({x:g.x,y:g.y,radius:n.getDistanceFromCenterForValue(d)})}for(let g=0;g<l;++g)f.push(n.getPointPositionForValue(g,d));return f}(r):function mf(r){const{scale:n={},fill:s}=r,o=function cf(r,n){let s=null;return"start"===r?s=n.bottom:"end"===r?s=n.top:ot(r)?s=n.getPixelForValue(r.value):n.getBasePixel&&(s=n.getBasePixel()),s}(s,n);if(Vt(o)){const l=n.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}(r)}(r);return l instanceof pd?l:Kl(l,o)}(n),{line:l,scale:u,axis:d}=n,f=l.options,g=f.fill,y=f.backgroundColor,{above:D=y,below:M=y}=g||{};o&&l.points.length&&(ko(r,s),function md(r,n){const{line:s,target:o,above:l,below:u,area:d,scale:f}=n,g=s._loop?"angle":n.axis;r.save(),"x"===g&&u!==l&&(Gl(r,o,d.top),Yl(r,{line:s,target:o,color:l,scale:f,property:g}),r.restore(),r.save(),Gl(r,o,d.bottom)),Yl(r,{line:s,target:o,color:u,scale:f,property:g}),r.restore()}(r,{line:l,target:o,above:D,below:M,area:s,scale:u,axis:d}),Ro(r))}function Gl(r,n,s){const{segments:o,points:l}=n;let u=!0,d=!1;r.beginPath();for(const f of o){const{start:g,end:y}=f,D=l[g],M=l[pa(g,y,l)];u?(r.moveTo(D.x,D.y),u=!1):(r.lineTo(D.x,s),r.lineTo(D.x,D.y)),d=!!n.pathSegment(r,f,{move:d}),d?r.closePath():r.lineTo(M.x,s)}r.lineTo(n.first().x,s),r.closePath(),r.clip()}function Yl(r,n){const{line:s,target:o,property:l,color:u,scale:d}=n,f=function ud(r,n,s){const o=r.segments,l=r.points,u=n.points,d=[];for(const f of o){let{start:g,end:y}=f;y=pa(g,y,l);const D=$l(s,l[g],l[y],f.loop);if(!n.segments){d.push({source:f,target:D,start:l[g],end:l[y]});continue}const M=pr(n,D);for(const T of M){const R=$l(s,u[T.start],u[T.end],T.loop),H=Vo(f,l,R);for(const U of H)d.push({source:U,target:T,start:{[s]:ga(D,R,"start",Math.max)},end:{[s]:ga(D,R,"end",Math.min)}})}}return d}(s,o,l);for(const{source:g,target:y,start:D,end:M}of f){const{style:{backgroundColor:T=u}={}}=g,R=!0!==o;r.save(),r.fillStyle=T,ma(r,d,R&&$l(l,D,M)),r.beginPath();const H=!!s.pathSegment(r,g);let U;if(R){H?r.closePath():Jn(r,o,M,l);const X=!!o.pathSegment(r,y,{move:H,reverse:!0});U=H&&X,U||Jn(r,o,D,l)}r.closePath(),r.fill(U?"evenodd":"nonzero"),r.restore()}}function ma(r,n,s){const{top:o,bottom:l}=n.chart.chartArea,{property:u,start:d,end:f}=s||{};"x"===u&&(r.beginPath(),r.rect(d,o,f-d,l-o),r.clip())}function Jn(r,n,s,o){const l=n.interpolate(s,o);l&&r.lineTo(l.x,l.y)}var _d={id:"filler",afterDatasetsUpdate(r,n,s){const o=(r.data.datasets||[]).length,l=[];let u,d,f,g;for(d=0;d<o;++d)u=r.getDatasetMeta(d),f=u.dataset,g=null,f&&f.options&&f instanceof _i&&(g={visible:r.isDatasetVisible(d),index:d,fill:lf(f,d,o),chart:r,axis:u.controller.options.indexAxis,scale:u.vScale,line:f}),u.$filler=g,l.push(g);for(d=0;d<o;++d)g=l[d],g&&!1!==g.fill&&(g.fill=dd(l,d,s.propagate))},beforeDraw(r,n,s){const o="beforeDraw"===s.drawTime,l=r.getSortedVisibleDatasetMetas(),u=r.chartArea;for(let d=l.length-1;d>=0;--d){const f=l[d].$filler;!f||(f.line.updateControlPoints(u,f.axis),o&&f.fill&&Je(r.ctx,f,u))}},beforeDatasetsDraw(r,n,s){if("beforeDatasetsDraw"!==s.drawTime)return;const o=r.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const u=o[l].$filler;af(u)&&Je(r.ctx,u,r.chartArea)}},beforeDatasetDraw(r,n,s){const o=n.meta.$filler;!af(o)||"beforeDatasetDraw"!==s.drawTime||Je(r.ctx,o,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yd=(r,n)=>{let{boxHeight:s=n,boxWidth:o=n}=r;return r.usePointStyle&&(s=Math.min(s,n),o=r.pointStyleWidth||Math.min(o,n)),{boxWidth:o,boxHeight:s,itemHeight:Math.max(n,s)}};class vs extends ms{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s,o){this.maxWidth=n,this.maxHeight=s,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let s=It(n.generateLabels,[this.chart],this)||[];n.filter&&(s=s.filter(o=>n.filter(o,this.chart.data))),n.sort&&(s=s.sort((o,l)=>n.sort(o,l,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:n,ctx:s}=this;if(!n.display)return void(this.width=this.height=0);const o=n.labels,l=Gt(o.font),u=l.size,d=this._computeTitleHeight(),{boxWidth:f,itemHeight:g}=yd(o,u);let y,D;s.font=l.string,this.isHorizontal()?(y=this.maxWidth,D=this._fitRows(d,u,f,g)+10):(D=this.maxHeight,y=this._fitCols(d,l,f,g)+10),this.width=Math.min(y,n.maxWidth||this.maxWidth),this.height=Math.min(D,n.maxHeight||this.maxHeight)}_fitRows(n,s,o,l){const{ctx:u,maxWidth:d,options:{labels:{padding:f}}}=this,g=this.legendHitBoxes=[],y=this.lineWidths=[0],D=l+f;let M=n;u.textAlign="left",u.textBaseline="middle";let T=-1,R=-D;return this.legendItems.forEach((H,U)=>{const X=o+s/2+u.measureText(H.text).width;(0===U||y[y.length-1]+X+2*f>d)&&(M+=D,y[y.length-(U>0?0:1)]=0,R+=D,T++),g[U]={left:0,top:R,row:T,width:X,height:l},y[y.length-1]+=X+f}),M}_fitCols(n,s,o,l){const{ctx:u,maxHeight:d,options:{labels:{padding:f}}}=this,g=this.legendHitBoxes=[],y=this.columnSizes=[],D=d-n;let M=f,T=0,R=0,H=0,U=0;return this.legendItems.forEach((X,ie)=>{const{itemWidth:pe,itemHeight:Ce}=function Jl(r,n,s,o,l){const u=function vd(r,n,s,o){let l=r.text;return l&&"string"!=typeof l&&(l=l.reduce((u,d)=>u.length>d.length?u:d)),n+s.size/2+o.measureText(l).width}(o,r,n,s),d=function ql(r,n,s){let o=r;return"string"!=typeof n.text&&(o=yf(n,s)),o}(l,o,n.lineHeight);return{itemWidth:u,itemHeight:d}}(o,s,u,X,l);ie>0&&R+Ce+2*f>D&&(M+=T+f,y.push({width:T,height:R}),H+=T+f,U++,T=R=0),g[ie]={left:H,top:R,col:U,width:pe,height:Ce},T=Math.max(T,pe),R+=Ce+f}),M+=T,y.push({width:T,height:R}),M}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:o,labels:{padding:l},rtl:u}}=this,d=Xr(u,this.left,this.width);if(this.isHorizontal()){let f=0,g=ht(o,this.left+l,this.right-this.lineWidths[f]);for(const y of s)f!==y.row&&(f=y.row,g=ht(o,this.left+l,this.right-this.lineWidths[f])),y.top+=this.top+n+l,y.left=d.leftForLtr(d.x(g),y.width),g+=y.width+l}else{let f=0,g=ht(o,this.top+n+l,this.bottom-this.columnSizes[f].height);for(const y of s)y.col!==f&&(f=y.col,g=ht(o,this.top+n+l,this.bottom-this.columnSizes[f].height)),y.top=g,y.left+=this.left+l,y.left=d.leftForLtr(d.x(y.left),y.width),g+=y.height+l}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;ko(n,this),this._draw(),Ro(n)}}_draw(){const{options:n,columnSizes:s,lineWidths:o,ctx:l}=this,{align:u,labels:d}=n,f=Ut.color,g=Xr(n.rtl,this.left,this.width),y=Gt(d.font),{padding:D}=d,M=y.size,T=M/2;let R;this.drawTitle(),l.textAlign=g.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=y.string;const{boxWidth:H,boxHeight:U,itemHeight:X}=yd(d,M),Ce=this.isHorizontal(),Me=this._computeTitleHeight();R=Ce?{x:ht(u,this.left+D,this.right-o[0]),y:this.top+D+Me,line:0}:{x:this.left+D,y:ht(u,this.top+Me+D,this.bottom-s[0].height),line:0},fh(this.ctx,n.textDirection);const De=X+D;this.legendItems.forEach((ke,Fe)=>{l.strokeStyle=ke.fontColor,l.fillStyle=ke.fontColor;const Be=l.measureText(ke.text).width,ze=g.textAlign(ke.textAlign||(ke.textAlign=d.textAlign)),st=H+T+Be;let nt=R.x,gt=R.y;g.setWidth(this.width),Ce?Fe>0&&nt+st+D>this.right&&(gt=R.y+=De,R.line++,nt=R.x=ht(u,this.left+D,this.right-o[R.line])):Fe>0&&gt+De>this.bottom&&(nt=R.x=nt+s[R.line].width+D,R.line++,gt=R.y=ht(u,this.top+Me+D,this.bottom-s[R.line].height)),function(ke,Fe,Be){if(isNaN(H)||H<=0||isNaN(U)||U<0)return;l.save();const ze=Ze(Be.lineWidth,1);if(l.fillStyle=Ze(Be.fillStyle,f),l.lineCap=Ze(Be.lineCap,"butt"),l.lineDashOffset=Ze(Be.lineDashOffset,0),l.lineJoin=Ze(Be.lineJoin,"miter"),l.lineWidth=ze,l.strokeStyle=Ze(Be.strokeStyle,f),l.setLineDash(Ze(Be.lineDash,[])),d.usePointStyle){const st={radius:U*Math.SQRT2/2,pointStyle:Be.pointStyle,rotation:Be.rotation,borderWidth:ze},nt=g.xPlus(ke,H/2);Ps(l,st,nt,Fe+T,d.pointStyleWidth&&H)}else{const st=Fe+Math.max((M-U)/2,0),nt=g.leftForLtr(ke,H),gt=Ri(Be.borderRadius);l.beginPath(),Object.values(gt).some(mn=>0!==mn)?li(l,{x:nt,y:st,w:H,h:U,radius:gt}):l.rect(nt,st,H,U),l.fill(),0!==ze&&l.stroke()}l.restore()}(g.x(nt),gt,ke),nt=((r,n,s,o)=>r===(o?"left":"right")?s:"center"===r?(n+s)/2:n)(ze,nt+H+T,Ce?nt+st:this.right,n.rtl),function(ke,Fe,Be){fs(l,Be.text,ke,Fe+X/2,y,{strikethrough:Be.hidden,textAlign:g.textAlign(Be.textAlign)})}(g.x(nt),gt,ke),Ce?R.x+=st+D:R.y+="string"!=typeof ke.text?yf(ke,y.lineHeight)+D:De}),ph(this.ctx,n.textDirection)}drawTitle(){const n=this.options,s=n.title,o=Gt(s.font),l=Jt(s.padding);if(!s.display)return;const u=Xr(n.rtl,this.left,this.width),d=this.ctx,f=s.position,y=l.top+o.size/2;let D,M=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),D=this.top+y,M=ht(n.align,M,this.right-T);else{const H=this.columnSizes.reduce((U,X)=>Math.max(U,X.height),0);D=y+ht(n.align,this.top,this.bottom-H-n.labels.padding-this._computeTitleHeight())}const R=ht(f,M,M+T);d.textAlign=u.textAlign(Io(f)),d.textBaseline="middle",d.strokeStyle=s.color,d.fillStyle=s.color,d.font=o.string,fs(d,s.text,R,D,o)}_computeTitleHeight(){const n=this.options.title,s=Gt(n.font),o=Jt(n.padding);return n.display?s.lineHeight+o.height:0}_getLegendItemAt(n,s){let o,l,u;if(rn(n,this.left,this.right)&&rn(s,this.top,this.bottom))for(u=this.legendHitBoxes,o=0;o<u.length;++o)if(l=u[o],rn(n,l.left,l.left+l.width)&&rn(s,l.top,l.top+l.height))return this.legendItems[o];return null}handleEvent(n){const s=this.options;if(!function bd(r,n){return!(("mousemove"!==r&&"mouseout"!==r||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==r&&"mouseup"!==r))}(n.type,s))return;const o=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const l=this._hoveredItem,u=((r,n)=>null!==r&&null!==n&&r.datasetIndex===n.datasetIndex&&r.index===n.index)(l,o);l&&!u&&It(s.onLeave,[n,l,this],this),this._hoveredItem=o,o&&!u&&It(s.onHover,[n,o,this],this)}else o&&It(s.onClick,[n,o,this],this)}}function yf(r,n){return n*(r.text?r.text.length:0)}var Dg={id:"legend",_element:vs,start(r,n,s){const o=r.legend=new vs({ctx:r.ctx,options:s,chart:r});Mn.configure(r,o,s),Mn.addBox(r,o)},stop(r){Mn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,n,s){const o=r.legend;Mn.configure(r,o,s),o.options=s},afterUpdate(r){const n=r.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(r,n){n.replay||r.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,n,s){const o=n.datasetIndex,l=s.chart;l.isDatasetVisible(o)?(l.hide(o),n.hidden=!0):(l.show(o),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const n=r.data.datasets,{labels:{usePointStyle:s,pointStyle:o,textAlign:l,color:u,useBorderRadius:d,borderRadius:f}}=r.legend.options;return r._getSortedDatasetMetas().map(g=>{const y=g.controller.getStyle(s?0:void 0),D=Jt(y.borderWidth);return{text:n[g.index].label,fillStyle:y.backgroundColor,fontColor:u,hidden:!g.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:y.borderColor,pointStyle:o||y.pointStyle,rotation:y.rotation,textAlign:l||y.textAlign,borderRadius:d&&(f||y.borderRadius),datasetIndex:g.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class br extends ms{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,s){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=s;const l=kt(o.text)?o.text.length:1;this._padding=Jt(o.padding);const u=l*Gt(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:s,left:o,bottom:l,right:u,options:d}=this,f=d.align;let y,D,M,g=0;return this.isHorizontal()?(D=ht(f,o,u),M=s+n,y=u-o):("left"===d.position?(D=o+n,M=ht(f,l,s),g=-.5*Rt):(D=u-n,M=ht(f,s,l),g=.5*Rt),y=l-s),{titleX:D,titleY:M,maxWidth:y,rotation:g}}draw(){const n=this.ctx,s=this.options;if(!s.display)return;const o=Gt(s.font),u=o.lineHeight/2+this._padding.top,{titleX:d,titleY:f,maxWidth:g,rotation:y}=this._drawArgs(u);fs(n,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:y,textAlign:Io(s.align),textBaseline:"middle",translation:[d,f]})}}var Ql={id:"title",_element:br,start(r,n,s){!function _a(r,n){const s=new br({ctx:r.ctx,options:n,chart:r});Mn.configure(r,s,n),Mn.addBox(r,s),r.titleBlock=s}(r,s)},stop(r){Mn.removeBox(r,r.titleBlock),delete r.titleBlock},beforeUpdate(r,n,s){const o=r.titleBlock;Mn.configure(r,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dr=new WeakMap;var Zl={id:"subtitle",start(r,n,s){const o=new br({ctx:r.ctx,options:s,chart:r});Mn.configure(r,o,s),Mn.addBox(r,o),Dr.set(r,o)},stop(r){Mn.removeBox(r,Dr.get(r)),Dr.delete(r)},beforeUpdate(r,n,s){const o=Dr.get(r);Mn.configure(r,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ya={average(r){if(!r.length)return!1;let n,s,o=new Set,l=0,u=0;for(n=0,s=r.length;n<s;++n){const f=r[n].element;if(f&&f.hasValue()){const g=f.tooltipPosition();o.add(g.x),l+=g.y,++u}}return{x:[...o].reduce((f,g)=>f+g)/o.size,y:l/u}},nearest(r,n){if(!r.length)return!1;let u,d,f,s=n.x,o=n.y,l=Number.POSITIVE_INFINITY;for(u=0,d=r.length;u<d;++u){const g=r[u].element;if(g&&g.hasValue()){const D=Ct(n,g.getCenterPoint());D<l&&(l=D,f=g)}}if(f){const g=f.tooltipPosition();s=g.x,o=g.y}return{x:s,y:o}}};function bs(r,n){return n&&(kt(n)?Array.prototype.push.apply(r,n):r.push(n)),r}function js(r){return("string"==typeof r||r instanceof String)&&r.indexOf("\n")>-1?r.split("\n"):r}function vf(r,n){const{element:s,datasetIndex:o,index:l}=n,u=r.getDatasetMeta(o).controller,{label:d,value:f}=u.getLabelAndValue(l);return{chart:r,label:d,parsed:u.getParsed(l),raw:r.data.datasets[o].data[l],formattedValue:f,dataset:u.getDataset(),dataIndex:l,datasetIndex:o,element:s}}function Dd(r,n){const s=r.chart.ctx,{body:o,footer:l,title:u}=r,{boxWidth:d,boxHeight:f}=n,g=Gt(n.bodyFont),y=Gt(n.titleFont),D=Gt(n.footerFont),M=u.length,T=l.length,R=o.length,H=Jt(n.padding);let U=H.height,X=0,ie=o.reduce((Me,De)=>Me+De.before.length+De.lines.length+De.after.length,0);ie+=r.beforeBody.length+r.afterBody.length,M&&(U+=M*y.lineHeight+(M-1)*n.titleSpacing+n.titleMarginBottom),ie&&(U+=R*(n.displayColors?Math.max(f,g.lineHeight):g.lineHeight)+(ie-R)*g.lineHeight+(ie-1)*n.bodySpacing),T&&(U+=n.footerMarginTop+T*D.lineHeight+(T-1)*n.footerSpacing);let pe=0;const Ce=function(Me){X=Math.max(X,s.measureText(Me).width+pe)};return s.save(),s.font=y.string,bt(r.title,Ce),s.font=g.string,bt(r.beforeBody.concat(r.afterBody),Ce),pe=n.displayColors?d+2+n.boxPadding:0,bt(o,Me=>{bt(Me.before,Ce),bt(Me.lines,Ce),bt(Me.after,Ce)}),pe=0,s.font=D.string,bt(r.footer,Ce),s.restore(),X+=H.width,{width:X,height:U}}function bf(r,n,s,o){const{x:l,width:u}=s,{width:d,chartArea:{left:f,right:g}}=r;let y="center";return"center"===o?y=l<=(f+g)/2?"left":"right":l<=u/2?y="left":l>=d-u/2&&(y="right"),function Eg(r,n,s,o){const{x:l,width:u}=o,d=s.caretSize+s.caretPadding;if("left"===r&&l+u+d>n.width||"right"===r&&l-u-d<0)return!0}(y,r,n,s)&&(y="center"),y}function Df(r,n,s){const o=s.yAlign||n.yAlign||function Ed(r,n){const{y:s,height:o}=n;return s<o/2?"top":s>r.height-o/2?"bottom":"center"}(r,s);return{xAlign:s.xAlign||n.xAlign||bf(r,n,s,o),yAlign:o}}function Cd(r,n,s,o){const{caretSize:l,caretPadding:u,cornerRadius:d}=r,{xAlign:f,yAlign:g}=s,y=l+u,{topLeft:D,topRight:M,bottomLeft:T,bottomRight:R}=Ri(d);let H=function wd(r,n){let{x:s,width:o}=r;return"right"===n?s-=o:"center"===n&&(s-=o/2),s}(n,f);const U=function xd(r,n,s){let{y:o,height:l}=r;return"top"===n?o+=s:o-="bottom"===n?l+s:l/2,o}(n,g,y);return"center"===g?"left"===f?H+=y:"right"===f&&(H-=y):"left"===f?H-=Math.max(D,T)+l:"right"===f&&(H+=Math.max(M,R)+l),{x:Lt(H,0,o.width-n.width),y:Lt(U,0,o.height-n.height)}}function Er(r,n,s){const o=Jt(s.padding);return"center"===n?r.x+r.width/2:"right"===n?r.x+r.width-o.right:r.x+o.left}function Ef(r){return bs([],js(r))}function wf(r,n){const s=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return s?r.override(s):r}const xf={beforeTitle:us,title(r){if(r.length>0){const n=r[0],s=n.chart.data.labels,o=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(o>0&&n.dataIndex<o)return s[n.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(r){if(this&&this.options&&"dataset"===this.options.mode)return r.label+": "+r.formattedValue||r.formattedValue;let n=r.dataset.label||"";n&&(n+=": ");const s=r.formattedValue;return ut(s)||(n+=s),n},labelColor(r){const s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const s=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function Un(r,n,s,o){const l=r[n].call(s,o);return void 0===l?xf[n].call(s,o):l}class Md extends ms{constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const s=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&s.options.animation&&o.animations,u=new dl(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=function wg(r,n,s){return Fi(r,{tooltip:n,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,s){const{callbacks:o}=s,l=Un(o,"beforeTitle",this,n),u=Un(o,"title",this,n),d=Un(o,"afterTitle",this,n);let f=[];return f=bs(f,js(l)),f=bs(f,js(u)),f=bs(f,js(d)),f}getBeforeBody(n,s){return Ef(Un(s.callbacks,"beforeBody",this,n))}getBody(n,s){const{callbacks:o}=s,l=[];return bt(n,u=>{const d={before:[],lines:[],after:[]},f=wf(o,u);bs(d.before,js(Un(f,"beforeLabel",this,u))),bs(d.lines,Un(f,"label",this,u)),bs(d.after,js(Un(f,"afterLabel",this,u))),l.push(d)}),l}getAfterBody(n,s){return Ef(Un(s.callbacks,"afterBody",this,n))}getFooter(n,s){const{callbacks:o}=s,l=Un(o,"beforeFooter",this,n),u=Un(o,"footer",this,n),d=Un(o,"afterFooter",this,n);let f=[];return f=bs(f,js(l)),f=bs(f,js(u)),f=bs(f,js(d)),f}_createItems(n){const s=this._active,o=this.chart.data,l=[],u=[],d=[];let g,y,f=[];for(g=0,y=s.length;g<y;++g)f.push(vf(this.chart,s[g]));return n.filter&&(f=f.filter((D,M,T)=>n.filter(D,M,T,o))),n.itemSort&&(f=f.sort((D,M)=>n.itemSort(D,M,o))),bt(f,D=>{const M=wf(n.callbacks,D);l.push(Un(M,"labelColor",this,D)),u.push(Un(M,"labelPointStyle",this,D)),d.push(Un(M,"labelTextColor",this,D))}),this.labelColors=l,this.labelPointStyles=u,this.labelTextColors=d,this.dataPoints=f,f}update(n,s){const o=this.options.setContext(this.getContext()),l=this._active;let u,d=[];if(l.length){const f=ya[o.position].call(this,l,this._eventPosition);d=this._createItems(o),this.title=this.getTitle(d,o),this.beforeBody=this.getBeforeBody(d,o),this.body=this.getBody(d,o),this.afterBody=this.getAfterBody(d,o),this.footer=this.getFooter(d,o);const g=this._size=Dd(this,o),y=Object.assign({},f,g),D=Df(this.chart,o,y),M=Cd(o,y,D,this.chart);this.xAlign=D.xAlign,this.yAlign=D.yAlign,u={opacity:1,x:M.x,y:M.y,width:g.width,height:g.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=d,this.$context=void 0,u&&this._resolveAnimations().update(this,u),n&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(n,s,o,l){const u=this.getCaretPosition(n,o,l);s.lineTo(u.x1,u.y1),s.lineTo(u.x2,u.y2),s.lineTo(u.x3,u.y3)}getCaretPosition(n,s,o){const{xAlign:l,yAlign:u}=this,{caretSize:d,cornerRadius:f}=o,{topLeft:g,topRight:y,bottomLeft:D,bottomRight:M}=Ri(f),{x:T,y:R}=n,{width:H,height:U}=s;let X,ie,pe,Ce,Me,De;return"center"===u?(Me=R+U/2,"left"===l?(X=T,ie=X-d,Ce=Me+d,De=Me-d):(X=T+H,ie=X+d,Ce=Me-d,De=Me+d),pe=X):(ie="left"===l?T+Math.max(g,D)+d:"right"===l?T+H-Math.max(y,M)-d:this.caretX,"top"===u?(Ce=R,Me=Ce-d,X=ie-d,pe=ie+d):(Ce=R+U,Me=Ce+d,X=ie+d,pe=ie-d),De=Ce),{x1:X,x2:ie,x3:pe,y1:Ce,y2:Me,y3:De}}drawTitle(n,s,o){const l=this.title,u=l.length;let d,f,g;if(u){const y=Xr(o.rtl,this.x,this.width);for(n.x=Er(this,o.titleAlign,o),s.textAlign=y.textAlign(o.titleAlign),s.textBaseline="middle",d=Gt(o.titleFont),f=o.titleSpacing,s.fillStyle=o.titleColor,s.font=d.string,g=0;g<u;++g)s.fillText(l[g],y.x(n.x),n.y+d.lineHeight/2),n.y+=d.lineHeight+f,g+1===u&&(n.y+=o.titleMarginBottom-f)}}_drawColorBox(n,s,o,l,u){const d=this.labelColors[o],f=this.labelPointStyles[o],{boxHeight:g,boxWidth:y}=u,D=Gt(u.bodyFont),M=Er(this,"left",u),T=l.x(M),H=s.y+(g<D.lineHeight?(D.lineHeight-g)/2:0);if(u.usePointStyle){const U={radius:Math.min(y,g)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},X=l.leftForLtr(T,y)+y/2,ie=H+g/2;n.strokeStyle=u.multiKeyBackground,n.fillStyle=u.multiKeyBackground,pn(n,U,X,ie),n.strokeStyle=d.borderColor,n.fillStyle=d.backgroundColor,pn(n,U,X,ie)}else{n.lineWidth=ot(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,n.strokeStyle=d.borderColor,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset||0;const U=l.leftForLtr(T,y),X=l.leftForLtr(l.xPlus(T,1),y-2),ie=Ri(d.borderRadius);Object.values(ie).some(pe=>0!==pe)?(n.beginPath(),n.fillStyle=u.multiKeyBackground,li(n,{x:U,y:H,w:y,h:g,radius:ie}),n.fill(),n.stroke(),n.fillStyle=d.backgroundColor,n.beginPath(),li(n,{x:X,y:H+1,w:y-2,h:g-2,radius:ie}),n.fill()):(n.fillStyle=u.multiKeyBackground,n.fillRect(U,H,y,g),n.strokeRect(U,H,y,g),n.fillStyle=d.backgroundColor,n.fillRect(X,H+1,y-2,g-2))}n.fillStyle=this.labelTextColors[o]}drawBody(n,s,o){const{body:l}=this,{bodySpacing:u,bodyAlign:d,displayColors:f,boxHeight:g,boxWidth:y,boxPadding:D}=o,M=Gt(o.bodyFont);let T=M.lineHeight,R=0;const H=Xr(o.rtl,this.x,this.width),U=function(Be){s.fillText(Be,H.x(n.x+R),n.y+T/2),n.y+=T+u},X=H.textAlign(d);let ie,pe,Ce,Me,De,ke,Fe;for(s.textAlign=d,s.textBaseline="middle",s.font=M.string,n.x=Er(this,X,o),s.fillStyle=o.bodyColor,bt(this.beforeBody,U),R=f&&"right"!==X?"center"===d?y/2+D:y+2+D:0,Me=0,ke=l.length;Me<ke;++Me){for(ie=l[Me],pe=this.labelTextColors[Me],s.fillStyle=pe,bt(ie.before,U),Ce=ie.lines,f&&Ce.length&&(this._drawColorBox(s,n,Me,H,o),T=Math.max(M.lineHeight,g)),De=0,Fe=Ce.length;De<Fe;++De)U(Ce[De]),T=M.lineHeight;bt(ie.after,U)}R=0,T=M.lineHeight,bt(this.afterBody,U),n.y-=u}drawFooter(n,s,o){const l=this.footer,u=l.length;let d,f;if(u){const g=Xr(o.rtl,this.x,this.width);for(n.x=Er(this,o.footerAlign,o),n.y+=o.footerMarginTop,s.textAlign=g.textAlign(o.footerAlign),s.textBaseline="middle",d=Gt(o.footerFont),s.fillStyle=o.footerColor,s.font=d.string,f=0;f<u;++f)s.fillText(l[f],g.x(n.x),n.y+d.lineHeight/2),n.y+=d.lineHeight+o.footerSpacing}}drawBackground(n,s,o,l){const{xAlign:u,yAlign:d}=this,{x:f,y:g}=n,{width:y,height:D}=o,{topLeft:M,topRight:T,bottomLeft:R,bottomRight:H}=Ri(l.cornerRadius);s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=l.borderWidth,s.beginPath(),s.moveTo(f+M,g),"top"===d&&this.drawCaret(n,s,o,l),s.lineTo(f+y-T,g),s.quadraticCurveTo(f+y,g,f+y,g+T),"center"===d&&"right"===u&&this.drawCaret(n,s,o,l),s.lineTo(f+y,g+D-H),s.quadraticCurveTo(f+y,g+D,f+y-H,g+D),"bottom"===d&&this.drawCaret(n,s,o,l),s.lineTo(f+R,g+D),s.quadraticCurveTo(f,g+D,f,g+D-R),"center"===d&&"left"===u&&this.drawCaret(n,s,o,l),s.lineTo(f,g+M),s.quadraticCurveTo(f,g,f+M,g),s.closePath(),s.fill(),l.borderWidth>0&&s.stroke()}_updateAnimationTarget(n){const s=this.chart,o=this.$animations,l=o&&o.x,u=o&&o.y;if(l||u){const d=ya[n.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=Dd(this,n),g=Object.assign({},d,this._size),y=Df(s,n,g),D=Cd(n,g,y,s);(l._to!==D.x||u._to!==D.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,D))}}_willRender(){return!!this.opacity}draw(n){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const l={width:this.width,height:this.height},u={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const d=Jt(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(n.save(),n.globalAlpha=o,this.drawBackground(u,n,l,s),fh(n,s.textDirection),u.y+=d.top,this.drawTitle(u,n,s),this.drawBody(u,n,s),this.drawFooter(u,n,s),ph(n,s.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,s){const o=this._active,l=n.map(({datasetIndex:f,index:g})=>{const y=this.chart.getDatasetMeta(f);if(!y)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:y.data[g],index:g}}),u=!Qi(o,l),d=this._positionChanged(l,s);(u||d)&&(this._active=l,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,u=this._active||[],d=this._getActiveElements(n,u,s,o),f=this._positionChanged(d,n),g=s||!Qi(d,u)||f;return g&&(this._active=d,(l.enabled||l.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,s))),g}_getActiveElements(n,s,o,l){const u=this.options;if("mouseout"===n.type)return[];if(!l)return s.filter(f=>this.chart.data.datasets[f.datasetIndex]&&void 0!==this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index));const d=this.chart.getElementsAtEventForMode(n,u.mode,u,o);return u.reverse&&d.reverse(),d}_positionChanged(n,s){const{caretX:o,caretY:l,options:u}=this,d=ya[u.position].call(this,n,s);return!1!==d&&(o!==d.x||l!==d.y)}}Re(Md,"positioners",ya);var Cg=Object.freeze({__proto__:null,Colors:ha,Decimation:rf,Filler:_d,Legend:Dg,SubTitle:Zl,Title:Ql,Tooltip:{id:"tooltip",_element:Md,positioners:ya,afterInit(r,n,s){s&&(r.tooltip=new Md({chart:r,options:s}))},beforeUpdate(r,n,s){r.tooltip&&r.tooltip.initialize(s)},reset(r,n,s){r.tooltip&&r.tooltip.initialize(s)},afterDraw(r){const n=r.tooltip;if(n&&n._willRender()){const s={tooltip:n};if(!1===r.notifyPlugins("beforeTooltipDraw",th(eh({},s),{cancelable:!0})))return;n.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",s)}},afterEvent(r,n){r.tooltip&&r.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,n)=>n.bodyFont.size,boxWidth:(r,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>"filter"!==r&&"itemSort"!==r&&"external"!==r,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function va(r){const n=this.getLabels();return r>=0&&r<n.length?n[r]:r}class ec extends Wi{constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:l,label:u}of s)o[l]===u&&o.splice(l,1);this._addedLabels=[]}super.init(n)}parse(n,s){if(ut(n))return null;const o=this.getLabels();return((r,n)=>null===r?null:Lt(Math.round(r),0,n))(s=isFinite(s)&&o[s]===n?s:function Sg(r,n,s,o){const l=r.indexOf(n);return-1===l?((r,n,s,o)=>("string"==typeof n?(s=r.push(n)-1,o.unshift({index:s,label:n})):isNaN(n)&&(s=null),s))(r,n,s,o):l!==r.lastIndexOf(n)?s:l}(o,n,Ze(s,n),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);"ticks"===this.options.bounds&&(n||(o=0),s||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const n=this.min,s=this.max,o=this.options.offset,l=[];let u=this.getLabels();u=0===n&&s===u.length-1?u:u.slice(n,s+1),this._valueRange=Math.max(u.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let d=n;d<=s;d++)l.push({value:d});return l}getLabelForValue(n){return va.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}function ba(r,n,{horizontal:s,minRotation:o}){const l=lt(o),u=(s?Math.sin(l):Math.cos(l))||.001;return Math.min(n/u,.75*n*(""+r).length)}Re(ec,"id","category"),Re(ec,"defaults",{ticks:{callback:va}});class fo extends Wi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,s){return ut(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:s,maxDefined:o}=this.getUserBounds();let{min:l,max:u}=this;const d=g=>l=s?l:g,f=g=>u=o?u:g;if(n){const g=w(l),y=w(u);g<0&&y<0?f(0):g>0&&y>0&&d(0)}if(l===u){let g=0===u?1:Math.abs(.05*u);f(u+g),n||d(l-g)}this.min=l,this.max=u}getTickLimit(){const n=this.options.ticks;let l,{maxTicksLimit:s,stepSize:o}=n;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),s=s||11),s&&(l=Math.min(s,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,s=n.ticks;let o=this.getTickLimit();o=Math.max(2,o);const d=function Sd(r,n){const s=[],{bounds:l,step:u,min:d,max:f,precision:g,count:y,maxTicks:D,maxDigits:M,includeBounds:T}=r,R=u||1,H=D-1,{min:U,max:X}=n,ie=!ut(d),pe=!ut(f),Ce=!ut(y),Me=(X-U)/(M+1);let ke,Fe,Be,ze,De=W((X-U)/H/R)*R;if(De<1e-14&&!ie&&!pe)return[{value:U},{value:X}];ze=Math.ceil(X/De)-Math.floor(U/De),ze>H&&(De=W(ze*De/H/R)*R),ut(g)||(ke=Math.pow(10,g),De=Math.ceil(De*ke)/ke),"ticks"===l?(Fe=Math.floor(U/De)*De,Be=Math.ceil(X/De)*De):(Fe=U,Be=X),ie&&pe&&u&&function Oe(r,n){const s=Math.round(r);return s-n<=r&&s+n>=r}((f-d)/u,De/1e3)?(ze=Math.round(Math.min((f-d)/De,D)),De=(f-d)/ze,Fe=d,Be=f):Ce?(Fe=ie?d:Fe,Be=pe?f:Be,ze=y-1,De=(Be-Fe)/ze):(ze=(Be-Fe)/De,ze=O(ze,Math.round(ze),De/1e3)?Math.round(ze):Math.ceil(ze));const st=Math.max(Ye(De),Ye(Fe));ke=Math.pow(10,ut(g)?st:g),Fe=Math.round(Fe*ke)/ke,Be=Math.round(Be*ke)/ke;let nt=0;for(ie&&(T&&Fe!==d?(s.push({value:d}),Fe<d&&nt++,O(Math.round((Fe+nt*De)*ke)/ke,d,ba(d,Me,r))&&nt++):Fe<d&&nt++);nt<ze;++nt){const gt=Math.round((Fe+nt*De)*ke)/ke;if(pe&&gt>f)break;s.push({value:gt})}return pe&&T&&Be!==f?s.length&&O(s[s.length-1].value,f,ba(f,Me,r))?s[s.length-1].value=f:s.push({value:f}):(!pe||Be===f)&&s.push({value:Be}),s}({maxTicks:o,bounds:n.bounds,min:n.min,max:n.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===n.bounds&&Pt(d,this,"value"),n.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const n=this.ticks;let s=this.min,o=this.max;if(super.configure(),this.options.offset&&n.length){const l=(o-s)/Math.max(n.length-1,1)/2;s-=l,o+=l}this._startValue=s,this._endValue=o,this._valueRange=o-s}getLabelForValue(n){return Wr(n,this.chart.options.locale,this.options.ticks.format)}}class po extends fo{determineDataLimits(){const{min:n,max:s}=this.getMinMax(!0);this.min=Vt(n)?n:0,this.max=Vt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),s=n?this.width:this.height,o=lt(this.options.ticks.minRotation),l=(n?Math.sin(o):Math.cos(o))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,u.lineHeight/l))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}Re(po,"id","linear"),Re(po,"defaults",{ticks:{callback:ir.formatters.numeric}});const go=r=>Math.floor(A(r)),Fn=(r,n)=>Math.pow(10,go(r)+n);function tc(r){return r/Math.pow(10,go(r))==1}function Ad(r,n,s){const o=Math.pow(10,s),l=Math.floor(r/o);return Math.ceil(n/o)-l}class Da extends Wi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,s){const o=fo.prototype.parse.apply(this,[n,s]);if(0!==o)return Vt(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:n,max:s}=this.getMinMax(!0);this.min=Vt(n)?Math.max(0,n):null,this.max=Vt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=n===Fn(this.min,0)?Fn(this.min,-1):Fn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:s}=this.getUserBounds();let o=this.min,l=this.max;const u=f=>o=n?o:f,d=f=>l=s?l:f;o===l&&(o<=0?(u(1),d(10)):(u(Fn(o,-1)),d(Fn(l,1)))),o<=0&&u(Fn(l,-1)),l<=0&&d(Fn(o,1)),this.min=o,this.max=l}buildTicks(){const n=this.options,o=function Cf(r,{min:n,max:s}){n=On(r.min,n);const o=[],l=go(n);let u=function nc(r,n){let o=go(n-r);for(;Ad(r,n,o)>10;)o++;for(;Ad(r,n,o)<10;)o--;return Math.min(o,go(r))}(n,s),d=u<0?Math.pow(10,Math.abs(u)):1;const f=Math.pow(10,u),g=l>u?Math.pow(10,l):0,y=Math.round((n-g)*d)/d,D=Math.floor((n-g)/f/10)*f*10;let M=Math.floor((y-D)/Math.pow(10,u)),T=On(r.min,Math.round((g+D+M*Math.pow(10,u))*d)/d);for(;T<s;)o.push({value:T,major:tc(T),significand:M}),M>=10?M=M<15?15:20:M++,M>=20&&(u++,M=2,d=u>=0?1:d),T=Math.round((g+D+M*Math.pow(10,u))*d)/d;const R=On(r.max,T);return o.push({value:R,major:tc(R),significand:M}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&Pt(o,this,"value"),n.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(n){return void 0===n?"0":Wr(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=A(n),this._valueRange=A(this.max)-A(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(A(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const s=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+s*this._valueRange)}}function sc(r){const n=r.ticks;if(n.display&&r.display){const s=Jt(n.backdropPadding);return Ze(n.font&&n.font.size,Ut.font.size)+s.height}return 0}function Mf(r,n,s){return s=kt(s)?s:[s],{w:Oo(r,n.string,s),h:s.length*n.lineHeight}}function wr(r,n,s,o,l){return r===o||r===l?{start:n-s/2,end:n+s/2}:r<o||r>l?{start:n-s,end:n}:{start:n,end:n+s}}function ic(r,n,s,o,l){const u=Math.abs(Math.sin(s)),d=Math.abs(Math.cos(s));let f=0,g=0;o.start<n.l?(f=(n.l-o.start)/u,r.l=Math.min(r.l,n.l-f)):o.end>n.r&&(f=(o.end-n.r)/u,r.r=Math.max(r.r,n.r+f)),l.start<n.t?(g=(n.t-l.start)/d,r.t=Math.min(r.t,n.t-g)):l.end>n.b&&(g=(l.end-n.b)/d,r.b=Math.max(r.b,n.b+g))}function Cr(r,n,s){const o=r.drawingArea,{extra:l,additionalAngle:u,padding:d,size:f}=s,g=r.getPointPosition(n,o+l+d,u),y=Math.round(_t(yt(g.angle+zt))),D=function Id(r,n,s){return 90===s||270===s?r-=n/2:(s>270||s<90)&&(r-=n),r}(g.y,f.h,y),M=function Sf(r){return 0===r||180===r?"center":r<180?"left":"right"}(y),T=function Td(r,n,s){return"right"===s?r-=n:"center"===s&&(r-=n/2),r}(g.x,f.w,M);return{visible:!0,x:g.x,y:D,textAlign:M,left:T,top:D,right:T+f.w,bottom:D+f.h}}function mo(r,n){if(!n)return!0;const{left:s,top:o,right:l,bottom:u}=r;return!(Dt({x:s,y:o},n)||Dt({x:s,y:u},n)||Dt({x:l,y:o},n)||Dt({x:l,y:u},n))}function rc(r,n,s){const{left:o,top:l,right:u,bottom:d}=s,{backdropColor:f}=n;if(!ut(f)){const g=Ri(n.borderRadius),y=Jt(n.backdropPadding);r.fillStyle=f;const D=o-y.left,M=l-y.top,T=u-o+y.width,R=d-l+y.height;Object.values(g).some(H=>0!==H)?(r.beginPath(),li(r,{x:D,y:M,w:T,h:R,radius:g}),r.fill()):r.fillRect(D,M,T,R)}}function ac(r,n,s,o){const{ctx:l}=r;if(s)l.arc(r.xCenter,r.yCenter,n,0,at);else{let u=r.getPointPosition(0,n);l.moveTo(u.x,u.y);for(let d=1;d<o;d++)u=r.getPointPosition(d,n),l.lineTo(u.x,u.y)}}Re(Da,"id","logarithmic"),Re(Da,"defaults",{ticks:{callback:ir.formatters.logarithmic,major:{enabled:!0}}});class Sr extends fo{constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Jt(sc(this.options)/2),s=this.width=this.maxWidth-n.width,o=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+s/2+n.left),this.yCenter=Math.floor(this.top+o/2+n.top),this.drawingArea=Math.floor(Math.min(s,o)/2)}determineDataLimits(){const{min:n,max:s}=this.getMinMax(!1);this.min=Vt(n)&&!isNaN(n)?n:0,this.max=Vt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sc(this.options))}generateTickLabels(n){fo.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((s,o)=>{const l=It(this.options.pointLabels.callback,[s,o],this);return l||0===l?l:""}).filter((s,o)=>this.chart.getDataVisibility(o))}fit(){const n=this.options;n.display&&n.pointLabels.display?function xr(r){const n={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},s=Object.assign({},n),o=[],l=[],u=r._pointLabels.length,d=r.options.pointLabels,f=d.centerPointLabels?Rt/u:0;for(let g=0;g<u;g++){const y=d.setContext(r.getPointLabelContext(g));l[g]=y.padding;const D=r.getPointPosition(g,r.drawingArea+l[g],f),M=Gt(y.font),T=Mf(r.ctx,M,r._pointLabels[g]);o[g]=T;const R=yt(r.getIndexAngle(g)+f),H=Math.round(_t(R));ic(s,n,R,wr(H,D.x,T.w,0,180),wr(H,D.y,T.h,90,270))}r.setCenterPoint(n.l-s.l,s.r-n.r,n.t-s.t,s.b-n.b),r._pointLabelItems=function Mr(r,n,s){const o=[],l=r._pointLabels.length,u=r.options,{centerPointLabels:d,display:f}=u.pointLabels,g={extra:sc(u)/2,additionalAngle:d?Rt/l:0};let y;for(let D=0;D<l;D++){g.padding=s[D],g.size=n[D];const M=Cr(r,D,g);o.push(M),"auto"===f&&(M.visible=mo(M,y),M.visible&&(y=M))}return o}(r,o,l)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,s,o,l){this.xCenter+=Math.floor((n-s)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,s,o,l))}getIndexAngle(n){return yt(n*(at/(this._pointLabels.length||1))+lt(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(ut(n))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*s:(n-this.min)*s}getValueForDistanceFromCenter(n){if(ut(n))return NaN;const s=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(n){const s=this._pointLabels||[];if(n>=0&&n<s.length){const o=s[n];return function Af(r,n,s){return Fi(r,{label:s,index:n,type:"pointLabel"})}(this.getContext(),n,o)}}getPointPosition(n,s,o=0){const l=this.getIndexAngle(n)-zt+o;return{x:Math.cos(l)*s+this.xCenter,y:Math.sin(l)*s+this.yCenter,angle:l}}getPointPositionForValue(n,s){return this.getPointPosition(n,this.getDistanceFromCenterForValue(s))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:s,top:o,right:l,bottom:u}=this._pointLabelItems[n];return{left:s,top:o,right:l,bottom:u}}drawBackground(){const{backgroundColor:n,grid:{circular:s}}=this.options;if(n){const o=this.ctx;o.save(),o.beginPath(),ac(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),o.closePath(),o.fillStyle=n,o.fill(),o.restore()}}drawGrid(){const n=this.ctx,s=this.options,{angleLines:o,grid:l,border:u}=s,d=this._pointLabels.length;let f,g,y;if(s.pointLabels.display&&function oc(r,n){const{ctx:s,options:{pointLabels:o}}=r;for(let l=n-1;l>=0;l--){const u=r._pointLabelItems[l];if(!u.visible)continue;const d=o.setContext(r.getPointLabelContext(l));rc(s,d,u);const f=Gt(d.font),{x:g,y,textAlign:D}=u;fs(s,r._pointLabels[l],g,y+f.lineHeight/2,f,{color:d.color,textAlign:D,textBaseline:"middle"})}}(this,d),l.display&&this.ticks.forEach((D,M)=>{if(0!==M||0===M&&this.min<0){g=this.getDistanceFromCenterForValue(D.value);const T=this.getContext(M),R=l.setContext(T),H=u.setContext(T);!function Ea(r,n,s,o,l){const u=r.ctx,d=n.circular,{color:f,lineWidth:g}=n;!d&&!o||!f||!g||s<0||(u.save(),u.strokeStyle=f,u.lineWidth=g,u.setLineDash(l.dash),u.lineDashOffset=l.dashOffset,u.beginPath(),ac(r,s,d,o),u.closePath(),u.stroke(),u.restore())}(this,R,g,d,H)}}),o.display){for(n.save(),f=d-1;f>=0;f--){const D=o.setContext(this.getPointLabelContext(f)),{color:M,lineWidth:T}=D;!T||!M||(n.lineWidth=T,n.strokeStyle=M,n.setLineDash(D.borderDash),n.lineDashOffset=D.borderDashOffset,g=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),y=this.getPointPosition(f,g),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(y.x,y.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,s=this.options,o=s.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let u,d;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(l),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((f,g)=>{if(0===g&&this.min>=0&&!s.reverse)return;const y=o.setContext(this.getContext(g)),D=Gt(y.font);if(u=this.getDistanceFromCenterForValue(this.ticks[g].value),y.showLabelBackdrop){n.font=D.string,d=n.measureText(f.label).width,n.fillStyle=y.backdropColor;const M=Jt(y.backdropPadding);n.fillRect(-d/2-M.left,-u-D.size/2-M.top,d+M.width,D.size+M.height)}fs(n,f.label,0,-u,D,{color:y.color,strokeColor:y.textStrokeColor,strokeWidth:y.textStrokeWidth})}),n.restore()}drawTitle(){}}Re(Sr,"id","radialLinear"),Re(Sr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ir.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),Re(Sr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Re(Sr,"descriptors",{angleLines:{_fallback:"grid"}});const lc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(lc);function cc(r,n){return r-n}function Pd(r,n){if(ut(n))return null;const s=r._adapter,{parser:o,round:l,isoWeekday:u}=r._parseOpts;let d=n;return"function"==typeof o&&(d=o(d)),Vt(d)||(d="string"==typeof o?s.parse(d,o):s.parse(d)),null===d?null:(l&&(d="week"!==l||!Se(u)&&!0!==u?s.startOf(d,l):s.startOf(d,"isoWeek",u)),+d)}function uc(r,n,s,o){const l=An.length;for(let u=An.indexOf(r);u<l-1;++u){const d=lc[An[u]],f=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((s-n)/(f*d.size))<=o)return An[u]}return An[l-1]}function Ln(r,n,s){if(s){if(s.length){const{lo:o,hi:l}=ai(s,n);r[s[o]>=n?s[o]:s[l]]=!0}}else r[n]=!0}function Od(r,n,s){const o=[],l={},u=n.length;let d,f;for(d=0;d<u;++d)f=n[d],l[f]=d,o.push({value:f,major:!1});return 0!==u&&s?function Pf(r,n,s,o){const l=r._adapter,u=+l.startOf(n[0].value,o),d=n[n.length-1].value;let f,g;for(f=u;f<=d;f=+l.add(f,1,o))g=s[f],g>=0&&(n[g].major=!0);return n}(r,o,l,s):o}class wa extends Wi{constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,s={}){const o=n.time||(n.time={}),l=this._adapter=new Ch__date(n.adapters.date);l.init(s),ri(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(n),this._normalized=s.normalized}parse(n,s){return void 0===n?null:Pd(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const n=this.options,s=this._adapter,o=n.time.unit||"day";let{min:l,max:u,minDefined:d,maxDefined:f}=this.getUserBounds();function g(y){!d&&!isNaN(y.min)&&(l=Math.min(l,y.min)),!f&&!isNaN(y.max)&&(u=Math.max(u,y.max))}(!d||!f)&&(g(this._getLabelBounds()),("ticks"!==n.bounds||"labels"!==n.ticks.source)&&g(this.getMinMax(!1))),l=Vt(l)&&!isNaN(l)?l:+s.startOf(Date.now(),o),u=Vt(u)&&!isNaN(u)?u:+s.endOf(Date.now(),o)+1,this.min=Math.min(l,u-1),this.max=Math.max(l+1,u)}_getLabelBounds(){const n=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return n.length&&(s=n[0],o=n[n.length-1]),{min:s,max:o}}buildTicks(){const n=this.options,s=n.time,o=n.ticks,l="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===n.bounds&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const u=this.min,f=function Zp(r,n,s){let o=0,l=r.length;for(;o<l&&r[o]<n;)o++;for(;l>o&&r[l-1]>s;)l--;return o>0||l<r.length?r.slice(o,l):r}(l,u,this.max);return this._unit=s.unit||(o.autoSkip?uc(s.minUnit,this.min,this.max,this._getLabelCapacity(u)):function Tf(r,n,s,o,l){for(let u=An.length-1;u>=An.indexOf(s);u--){const d=An[u];if(lc[d].common&&r._adapter.diff(l,o,d)>=n-1)return d}return An[s?An.indexOf(s):0]}(this,f.length,s.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function If(r){for(let n=An.indexOf(r)+1,s=An.length;n<s;++n)if(lc[An[n]].common)return An[n]}(this._unit):void 0,this.initOffsets(l),n.reverse&&f.reverse(),Od(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let l,u,s=0,o=0;this.options.offset&&n.length&&(l=this.getDecimalForValue(n[0]),s=1===n.length?1-l:(this.getDecimalForValue(n[1])-l)/2,u=this.getDecimalForValue(n[n.length-1]),o=1===n.length?u:(u-this.getDecimalForValue(n[n.length-2]))/2);const d=n.length<3?.5:.25;s=Lt(s,0,d),o=Lt(o,0,d),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const n=this._adapter,s=this.min,o=this.max,l=this.options,u=l.time,d=u.unit||uc(u.minUnit,s,o,this._getLabelCapacity(s)),f=Ze(l.ticks.stepSize,1),g="week"===d&&u.isoWeekday,y=Se(g)||!0===g,D={};let T,R,M=s;if(y&&(M=+n.startOf(M,"isoWeek",g)),M=+n.startOf(M,y?"day":d),n.diff(o,s,d)>1e5*f)throw new Error(s+" and "+o+" are too far apart with stepSize of "+f+" "+d);const H="data"===l.ticks.source&&this.getDataTimestamps();for(T=M,R=0;T<o;T=+n.add(T,f,d),R++)Ln(D,T,H);return(T===o||"ticks"===l.bounds||1===R)&&Ln(D,T,H),Object.keys(D).sort(cc).map(U=>+U)}getLabelForValue(n){const o=this.options.time;return this._adapter.format(n,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(n,s){return this._adapter.format(n,s||this.options.time.displayFormats[this._unit])}_tickFormatFunction(n,s,o,l){const u=this.options,d=u.ticks.callback;if(d)return It(d,[n,s,o],this);const f=u.time.displayFormats,g=this._unit,y=this._majorUnit,M=y&&f[y],T=o[s];return this._adapter.format(n,l||(y&&M&&T&&T.major?M:g&&f[g]))}generateTickLabels(n){let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s],l.label=this._tickFormatFunction(l.value,s,n)}getDecimalForValue(n){return null===n?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const s=this._offsets,o=this.getDecimalForValue(n);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(n){const s=this._offsets,o=this.getDecimalForPixel(n)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(n){const s=this.options.ticks,o=this.ctx.measureText(n).width,l=lt(this.isHorizontal()?s.maxRotation:s.minRotation),u=Math.cos(l),d=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:o*u+f*d,h:o*d+f*u}}_getLabelCapacity(n){const s=this.options.time,o=s.displayFormats,l=o[s.unit]||o.millisecond,u=this._tickFormatFunction(n,0,Od(this,[n],this._majorUnit),l),d=this._getLabelSize(u),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let s,o,n=this._cache.data||[];if(n.length)return n;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(s=0,o=l.length;s<o;++s)n=n.concat(l[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let s,o;if(n.length)return n;const l=this.getLabels();for(s=0,o=l.length;s<o;++s)n.push(Pd(this,l[s]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return Qa(n.sort(cc))}}function dc(r,n,s){let u,d,f,g,o=0,l=r.length-1;s?(n>=r[o].pos&&n<=r[l].pos&&({lo:o,hi:l}=Rn(r,"pos",n)),({pos:u,time:f}=r[o]),({pos:d,time:g}=r[l])):(n>=r[o].time&&n<=r[l].time&&({lo:o,hi:l}=Rn(r,"time",n)),({time:u,pos:f}=r[o]),({time:d,pos:g}=r[l]));const y=d-u;return y?f+(g-f)*(n-u)/y:f}Re(wa,"id","time"),Re(wa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class xa extends wa{constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(n);this._minPos=dc(s,this.min),this._tableRange=dc(s,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:s,max:o}=this,l=[],u=[];let d,f,g,y,D;for(d=0,f=n.length;d<f;++d)y=n[d],y>=s&&y<=o&&l.push(y);if(l.length<2)return[{time:s,pos:0},{time:o,pos:1}];for(d=0,f=l.length;d<f;++d)D=l[d+1],g=l[d-1],y=l[d],Math.round((D+g)/2)!==y&&u.push({time:y,pos:d/(f-1)});return u}_generate(){const n=this.min,s=this.max;let o=super.getDataTimestamps();return(!o.includes(n)||!o.length)&&o.splice(0,0,n),(!o.includes(s)||1===o.length)&&o.push(s),o.sort((l,u)=>l-u)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const s=this.getDataTimestamps(),o=this.getLabelTimestamps();return n=s.length&&o.length?this.normalize(s.concat(o)):s.length?s:o,n=this._cache.all=n,n}getDecimalForValue(n){return(dc(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const s=this._offsets,o=this.getDecimalForPixel(n)/s.factor-s.end;return dc(this._table,o*this._tableRange+this._minPos,!0)}}Re(xa,"id","timeseries"),Re(xa,"defaults",wa.defaults),gi.register(xh,sd,Cg,Object.freeze({__proto__:null,CategoryScale:ec,LinearScale:po,LogarithmicScale:Da,RadialLinearScale:Sr,TimeScale:wa,TimeSeriesScale:xa}));const Ar=gi;let kd=(()=>{class r{constructor(s){this.ytService=s,this.graphData=[],this.ngAfterViewInit()}ngAfterViewInit(){this.response$=this.ytService.getViews(),this.response$.subscribe(s=>{console.log("Datos del grafico Views per month: "+s.rows),this.graphData=s.rows,this.createChartViews(this.graphData)}),this.response$=this.ytService.getNewFollowers(),this.response$.subscribe(s=>{console.log("Datos del grafico New Followers per month: "+s.rows),this.graphData=s.rows,this.createChartNewFollowers(this.graphData)}),this.response$=this.ytService.getCTR(),this.response$.subscribe(s=>{console.log("Datos del grafico CTR per month: "+s.rows),this.graphData=s.rows,this.createChartCTR(this.graphData)}),this.response$=this.ytService.getAverageViewPercentage(),this.response$.subscribe(s=>{console.log("Datos del grafico Average View Percentage per month: "+s.rows),this.graphData=s.rows,this.createChartAverageViewPercentage(this.graphData)})}createChartViews(s){const o=document.getElementById("ChartViews");if(o){var l=[],u=[];for(let d=0;d<s.length;d++)l[d]=s[d][0],u[d]=s[d][1];this.chartViews&&this.chartViews.destroy(),this.chartViews=new Ar(o,{type:"line",data:{labels:l,datasets:[{label:"Views per month",data:u}]}})}else console.error("Element with ID ChartViews not found.")}createChartNewFollowers(s){const o=document.getElementById("ChartNewFollowers");if(o){var l=[],u=[];for(let d=0;d<s.length;d++)l[d]=s[d][0],u[d]=s[d][1];this.chartNewFollowers&&this.chartNewFollowers.destroy(),this.chartNewFollowers=new Ar(o,{type:"line",data:{labels:l,datasets:[{label:"New Subscribers per month",data:u}]}})}else console.error("Element with ID ChartNewFollowers not found.")}createChartCTR(s){const o=document.getElementById("ChartCTR");if(o){var l=[],u=[];for(let d=0;d<s.length;d++)l[d]=s[d][0],u[d]=s[d][1];this.chartCTR&&this.chartCTR.destroy(),this.chartCTR=new Ar(o,{type:"line",data:{labels:l,datasets:[{label:"CTR per month",data:u}]}})}else console.error("Element with ID ChartCTR not found.")}createChartAverageViewPercentage(s){const o=document.getElementById("ChartAverageViewPercentage");if(o){var l=[],u=[];for(let d=0;d<s.length;d++)l[d]=s[d][0],u[d]=s[d][1];this.chartAverageViewPercentage&&this.chartAverageViewPercentage.destroy(),this.chartAverageViewPercentage=new Ar(o,{type:"line",data:{labels:l,datasets:[{label:"Average View Percentage per month",data:u}]}})}else console.error("Element with ID ChartAverageViewPercentage not found.")}}return r.\u0275fac=function(s){return new(s||r)(C.Y36(wo))},r.\u0275cmp=C.Xpm({type:r,selectors:[["app-youtube-charts"]],decls:8,vars:0,consts:[[1,"graph"],["id","ChartViews"],["id","ChartNewFollowers"],["id","ChartCTR"],["id","ChartAverageViewPercentage"]],template:function(s,o){1&s&&(C.TgZ(0,"div",0),C._UZ(1,"canvas",1),C.qZA(),C.TgZ(2,"div",0),C._UZ(3,"canvas",2),C.qZA(),C.TgZ(4,"div",0),C._UZ(5,"canvas",3),C.qZA(),C.TgZ(6,"div",0),C._UZ(7,"canvas",4),C.qZA())},styles:[".graph[_ngcontent-%COMP%]{width:100%;max-width:800px;height:auto;margin:100px auto;padding:20px;background-color:#f0f0f0;border:2px solid #333;border-radius:10px;box-shadow:3px 3px 5px #0000004d;display:flex;align-items:center;color:#333}"]}),r})();function kf(r,n){if(1&r){const s=C.EpF();C.TgZ(0,"div",1)(1,"div",2),C._uU(2),C.qZA(),C.TgZ(3,"div",3),C._UZ(4,"img",4),C.qZA(),C.TgZ(5,"div",5)(6,"button",6),C.NdJ("click",function(){return C.CHM(s),C.oxw().logout()}),C._uU(7,"Logout from Google"),C.qZA()(),C._UZ(8,"app-youtube-charts",7),C.qZA()}if(2&r){const s=C.oxw();C.xp6(2),C.Oqu(null==s.userInfo||null==s.userInfo.info?null:s.userInfo.info.name),C.xp6(2),C.s9C("src",null==s.userInfo||null==s.userInfo.info?null:s.userInfo.info.picture,C.LSH)}}let Rf=(()=>{class r{constructor(s){this.googleApi=s,this.title="angular-google-oauth-example",this.mailSnippets=[],this.viewsSnippets=[],s.userProfileSubject.subscribe(o=>{this.userInfo=o,this.getDataFromApi()})}getDataFromApi(){this.googleApi.getViews().subscribe(s=>{this.viewsSnippets=s,console.log(s)})}isLoggedIn(){return this.googleApi.isLoggedIn()}logout(){this.googleApi.signOut()}}return r.\u0275fac=function(s){return new(s||r)(C.Y36(wo))},r.\u0275cmp=C.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:1,consts:[["class","wrapper",4,"ngIf"],[1,"wrapper"],[1,"container","user-name"],[1,"container","image-container"],[1,"profile-image",3,"src"],[1,"container","logout-button"],[3,"click"],[1,"youtube-charts"]],template:function(s,o){1&s&&C.YNc(0,kf,9,2,"div",0),2&s&&C.Q6J("ngIf",o.isLoggedIn())},directives:[b.O5,kd],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%}.page-container[_ngcontent-%COMP%]{background-color:#f9f9f9;min-height:100%;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px;background-color:#fff;border-radius:10px;box-shadow:0 0 20px #0000001a}.container[_ngcontent-%COMP%]{margin-bottom:20px}.user-name[_ngcontent-%COMP%]{font-size:18px;color:#666}.image-container[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;box-shadow:0 0 10px #0000001a}.profile-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff5722;color:#fff;border:none;padding:10px 20px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.logout-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e64a19}.youtube-charts[_ngcontent-%COMP%]{margin-top:40px}"]}),r})(),Ff=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=C.oAB({type:r,bootstrap:[Rf]}),r.\u0275inj=C.cJS({imports:[[wi,Yi.JF,Rr.zr.forRoot()]]}),r})();(0,C.G48)(),ws().bootstrapModule(Ff).catch(r=>console.error(r))},1302:function(F,B,_){var b;!function(C,I){var L={};!function(C){"use strict";C.__esModule=!0,C.digestLength=32,C.blockSize=64;var I=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function L(Q,V,fe,oe,ge){for(var He,Le,we,ce,J,ve,Ve,Te,Ie,Z,q,ue,he;ge>=64;){for(He=V[0],Le=V[1],we=V[2],ce=V[3],J=V[4],ve=V[5],Ve=V[6],Te=V[7],Z=0;Z<16;Z++)Q[Z]=(255&fe[q=oe+4*Z])<<24|(255&fe[q+1])<<16|(255&fe[q+2])<<8|255&fe[q+3];for(Z=16;Z<64;Z++)Q[Z]=((ue=((Ie=Q[Z-2])>>>17|Ie<<15)^(Ie>>>19|Ie<<13)^Ie>>>10)+Q[Z-7]|0)+((he=((Ie=Q[Z-15])>>>7|Ie<<25)^(Ie>>>18|Ie<<14)^Ie>>>3)+Q[Z-16]|0);for(Z=0;Z<64;Z++)ue=(((J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7))+(J&ve^~J&Ve)|0)+(Te+(I[Z]+Q[Z]|0)|0)|0,he=((He>>>2|He<<30)^(He>>>13|He<<19)^(He>>>22|He<<10))+(He&Le^He&we^Le&we)|0,Te=Ve,Ve=ve,ve=J,J=ce+ue|0,ce=we,we=Le,Le=He,He=ue+he|0;V[0]+=He,V[1]+=Le,V[2]+=we,V[3]+=ce,V[4]+=J,V[5]+=ve,V[6]+=Ve,V[7]+=Te,oe+=64,ge-=64}return oe}var P=function(){function Q(){this.digestLength=C.digestLength,this.blockSize=C.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return Q.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},Q.prototype.clean=function(){for(var V=0;V<this.buffer.length;V++)this.buffer[V]=0;for(V=0;V<this.temp.length;V++)this.temp[V]=0;this.reset()},Q.prototype.update=function(V,fe){if(void 0===fe&&(fe=V.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var oe=0;if(this.bytesHashed+=fe,this.bufferLength>0){for(;this.bufferLength<64&&fe>0;)this.buffer[this.bufferLength++]=V[oe++],fe--;64===this.bufferLength&&(L(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(fe>=64&&(oe=L(this.temp,this.state,V,oe,fe),fe%=64);fe>0;)this.buffer[this.bufferLength++]=V[oe++],fe--;return this},Q.prototype.finish=function(V){if(!this.finished){var fe=this.bytesHashed,oe=this.bufferLength,ge=fe/536870912|0,He=fe<<3,Le=fe%64<56?64:128;this.buffer[oe]=128;for(var we=oe+1;we<Le-8;we++)this.buffer[we]=0;this.buffer[Le-8]=ge>>>24&255,this.buffer[Le-7]=ge>>>16&255,this.buffer[Le-6]=ge>>>8&255,this.buffer[Le-5]=ge>>>0&255,this.buffer[Le-4]=He>>>24&255,this.buffer[Le-3]=He>>>16&255,this.buffer[Le-2]=He>>>8&255,this.buffer[Le-1]=He>>>0&255,L(this.temp,this.state,this.buffer,0,Le),this.finished=!0}for(we=0;we<8;we++)V[4*we+0]=this.state[we]>>>24&255,V[4*we+1]=this.state[we]>>>16&255,V[4*we+2]=this.state[we]>>>8&255,V[4*we+3]=this.state[we]>>>0&255;return this},Q.prototype.digest=function(){var V=new Uint8Array(this.digestLength);return this.finish(V),V},Q.prototype._saveState=function(V){for(var fe=0;fe<this.state.length;fe++)V[fe]=this.state[fe]},Q.prototype._restoreState=function(V,fe){for(var oe=0;oe<this.state.length;oe++)this.state[oe]=V[oe];this.bytesHashed=fe,this.finished=!1,this.bufferLength=0},Q}();C.Hash=P;var Y=function(){function Q(V){this.inner=new P,this.outer=new P,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var fe=new Uint8Array(this.blockSize);if(V.length>this.blockSize)(new P).update(V).finish(fe).clean();else for(var oe=0;oe<V.length;oe++)fe[oe]=V[oe];for(oe=0;oe<fe.length;oe++)fe[oe]^=54;for(this.inner.update(fe),oe=0;oe<fe.length;oe++)fe[oe]^=106;for(this.outer.update(fe),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),oe=0;oe<fe.length;oe++)fe[oe]=0}return Q.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},Q.prototype.clean=function(){for(var V=0;V<this.istate.length;V++)this.ostate[V]=this.istate[V]=0;this.inner.clean(),this.outer.clean()},Q.prototype.update=function(V){return this.inner.update(V),this},Q.prototype.finish=function(V){return this.outer.finished?this.outer.finish(V):(this.inner.finish(V),this.outer.update(V,this.digestLength).finish(V)),this},Q.prototype.digest=function(){var V=new Uint8Array(this.digestLength);return this.finish(V),V},Q}();function se(Q){var V=(new P).update(Q),fe=V.digest();return V.clean(),fe}function de(Q,V){var fe=new Y(Q).update(V),oe=fe.digest();return fe.clean(),oe}function G(Q,V,fe,oe){var ge=oe[0];if(0===ge)throw new Error("hkdf: cannot expand more");V.reset(),ge>1&&V.update(Q),fe&&V.update(fe),V.update(oe),V.finish(Q),oe[0]++}C.HMAC=Y,C.hash=se,C.default=se,C.hmac=de;var te=new Uint8Array(C.digestLength);C.hkdf=function N(Q,V,fe,oe){void 0===V&&(V=te),void 0===oe&&(oe=32);for(var ge=new Uint8Array([1]),He=de(V,Q),Le=new Y(He),we=new Uint8Array(Le.digestLength),ce=we.length,J=new Uint8Array(oe),ve=0;ve<oe;ve++)ce===we.length&&(G(we,Le,fe,ge),ce=0),J[ve]=we[ce++];return Le.clean(),we.fill(0),ge.fill(0),J},C.pbkdf2=function ne(Q,V,fe,oe){for(var ge=new Y(Q),He=ge.digestLength,Le=new Uint8Array(4),we=new Uint8Array(He),ce=new Uint8Array(He),J=new Uint8Array(oe),ve=0;ve*He<oe;ve++){var Ve=ve+1;Le[0]=Ve>>>24&255,Le[1]=Ve>>>16&255,Le[2]=Ve>>>8&255,Le[3]=Ve>>>0&255,ge.reset(),ge.update(V),ge.update(Le),ge.finish(ce);for(var Te=0;Te<He;Te++)we[Te]=ce[Te];for(Te=2;Te<=fe;Te++){ge.reset(),ge.update(ce).finish(ce);for(var Ie=0;Ie<He;Ie++)we[Ie]^=ce[Ie]}for(Te=0;Te<He&&ve*He+Te<oe;Te++)J[ve*He+Te]=we[Te]}for(ve=0;ve<He;ve++)we[ve]=ce[ve]=0;for(ve=0;ve<4;ve++)Le[ve]=0;return ge.clean(),J}}(L);var P=L.default;for(var Y in L)P[Y]=L[Y];"object"==typeof F.exports?F.exports=P:void 0!==(b=function(){return P}.call(L,_,L,F))&&(F.exports=b)}()},8306:(F,B,_)=>{"use strict";_.d(B,{y:()=>te});var b=_(930),C=_(727),I=_(8822),L=_(4671);var se=_(2416),de=_(576),G=_(2806);let te=(()=>{class V{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ge=new V;return ge.source=this,ge.operator=oe,ge}subscribe(oe,ge,He){const Le=function Q(V){return V&&V instanceof b.Lv||function ne(V){return V&&(0,de.m)(V.next)&&(0,de.m)(V.error)&&(0,de.m)(V.complete)}(V)&&(0,C.Nn)(V)}(oe)?oe:new b.Hp(oe,ge,He);return(0,G.x)(()=>{const{operator:we,source:ce}=this;Le.add(we?we.call(Le,ce):ce?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ge){oe.error(ge)}}forEach(oe,ge){return new(ge=N(ge))((He,Le)=>{const we=new b.Hp({next:ce=>{try{oe(ce)}catch(J){Le(J),we.unsubscribe()}},error:Le,complete:He});this.subscribe(we)})}_subscribe(oe){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(oe)}[I.L](){return this}pipe(...oe){return function Y(V){return 0===V.length?L.y:1===V.length?V[0]:function(oe){return V.reduce((ge,He)=>He(ge),oe)}}(oe)(this)}toPromise(oe){return new(oe=N(oe))((ge,He)=>{let Le;this.subscribe(we=>Le=we,we=>He(we),()=>ge(Le))})}}return V.create=fe=>new V(fe),V})();function N(V){var fe;return null!==(fe=null!=V?V:se.v.Promise)&&void 0!==fe?fe:Promise}},7579:(F,B,_)=>{"use strict";_.d(B,{x:()=>se});var b=_(8306),C=_(727);const L=(0,_(3888).d)(G=>function(){G(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=_(8737),Y=_(2806);let se=(()=>{class G extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const ne=new de(this,this);return ne.operator=N,ne}_throwIfClosed(){if(this.closed)throw new L}next(N){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(N)}})}error(N){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:ne}=this;for(;ne.length;)ne.shift().error(N)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:ne,isStopped:Q,observers:V}=this;return ne||Q?C.Lc:(this.currentObservers=null,V.push(N),new C.w0(()=>{this.currentObservers=null,(0,P.P)(V,N)}))}_checkFinalizedStatuses(N){const{hasError:ne,thrownError:Q,isStopped:V}=this;ne?N.error(Q):V&&N.complete()}asObservable(){const N=new b.y;return N.source=this,N}}return G.create=(te,N)=>new de(te,N),G})();class de extends se{constructor(te,N){super(),this.destination=te,this.source=N}next(te){var N,ne;null===(ne=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===ne||ne.call(N,te)}error(te){var N,ne;null===(ne=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===ne||ne.call(N,te)}complete(){var te,N;null===(N=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===N||N.call(te)}_subscribe(te){var N,ne;return null!==(ne=null===(N=this.source)||void 0===N?void 0:N.subscribe(te))&&void 0!==ne?ne:C.Lc}}},930:(F,B,_)=>{"use strict";_.d(B,{Hp:()=>oe,Lv:()=>ne});var b=_(576),C=_(727),I=_(2416),L=_(7849),P=_(5032);const Y=G("C",void 0,void 0);function G(ce,J,ve){return{kind:ce,value:J,error:ve}}var te=_(3410),N=_(2806);class ne extends C.w0{constructor(J){super(),this.isStopped=!1,J?(this.destination=J,(0,C.Nn)(J)&&J.add(this)):this.destination=we}static create(J,ve,Ve){return new oe(J,ve,Ve)}next(J){this.isStopped?Le(function de(ce){return G("N",ce,void 0)}(J),this):this._next(J)}error(J){this.isStopped?Le(function se(ce){return G("E",void 0,ce)}(J),this):(this.isStopped=!0,this._error(J))}complete(){this.isStopped?Le(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(J){this.destination.next(J)}_error(J){try{this.destination.error(J)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Q=Function.prototype.bind;function V(ce,J){return Q.call(ce,J)}class fe{constructor(J){this.partialObserver=J}next(J){const{partialObserver:ve}=this;if(ve.next)try{ve.next(J)}catch(Ve){ge(Ve)}}error(J){const{partialObserver:ve}=this;if(ve.error)try{ve.error(J)}catch(Ve){ge(Ve)}else ge(J)}complete(){const{partialObserver:J}=this;if(J.complete)try{J.complete()}catch(ve){ge(ve)}}}class oe extends ne{constructor(J,ve,Ve){let Te;if(super(),(0,b.m)(J)||!J)Te={next:null!=J?J:void 0,error:null!=ve?ve:void 0,complete:null!=Ve?Ve:void 0};else{let Ie;this&&I.v.useDeprecatedNextContext?(Ie=Object.create(J),Ie.unsubscribe=()=>this.unsubscribe(),Te={next:J.next&&V(J.next,Ie),error:J.error&&V(J.error,Ie),complete:J.complete&&V(J.complete,Ie)}):Te=J}this.destination=new fe(Te)}}function ge(ce){I.v.useDeprecatedSynchronousErrorHandling?(0,N.O)(ce):(0,L.h)(ce)}function Le(ce,J){const{onStoppedNotification:ve}=I.v;ve&&te.z.setTimeout(()=>ve(ce,J))}const we={closed:!0,next:P.Z,error:function He(ce){throw ce},complete:P.Z}},727:(F,B,_)=>{"use strict";_.d(B,{Lc:()=>Y,w0:()=>P,Nn:()=>se});var b=_(576);const I=(0,_(3888).d)(G=>function(N){G(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((ne,Q)=>`${Q+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var L=_(8737);class P{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const V of N)V.remove(this);else N.remove(this);const{initialTeardown:ne}=this;if((0,b.m)(ne))try{ne()}catch(V){te=V instanceof I?V.errors:[V]}const{_finalizers:Q}=this;if(Q){this._finalizers=null;for(const V of Q)try{de(V)}catch(fe){te=null!=te?te:[],fe instanceof I?te=[...te,...fe.errors]:te.push(fe)}}if(te)throw new I(te)}}add(te){var N;if(te&&te!==this)if(this.closed)de(te);else{if(te instanceof P){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(N=this._finalizers)&&void 0!==N?N:[]).push(te)}}_hasParent(te){const{_parentage:N}=this;return N===te||Array.isArray(N)&&N.includes(te)}_addParent(te){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(te),N):N?[N,te]:te}_removeParent(te){const{_parentage:N}=this;N===te?this._parentage=null:Array.isArray(N)&&(0,L.P)(N,te)}remove(te){const{_finalizers:N}=this;N&&(0,L.P)(N,te),te instanceof P&&te._removeParent(this)}}P.EMPTY=(()=>{const G=new P;return G.closed=!0,G})();const Y=P.EMPTY;function se(G){return G instanceof P||G&&"closed"in G&&(0,b.m)(G.remove)&&(0,b.m)(G.add)&&(0,b.m)(G.unsubscribe)}function de(G){(0,b.m)(G)?G():G.unsubscribe()}},2416:(F,B,_)=>{"use strict";_.d(B,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5121:(F,B,_)=>{"use strict";_.d(B,{a:()=>He});var b=_(8306);const{isArray:C}=Array,{getPrototypeOf:I,prototype:L,keys:P}=Object;var de=_(2076),G=_(4671),te=_(4004);const{isArray:N}=Array;var V=_(3269),oe=_(5403),ge=_(9672);function He(...ce){const J=(0,V.yG)(ce),ve=(0,V.jO)(ce),{args:Ve,keys:Te}=function Y(ce){if(1===ce.length){const J=ce[0];if(C(J))return{args:J,keys:null};if(function se(ce){return ce&&"object"==typeof ce&&I(ce)===L}(J)){const ve=P(J);return{args:ve.map(Ve=>J[Ve]),keys:ve}}}return{args:ce,keys:null}}(ce);if(0===Ve.length)return(0,de.D)([],J);const Ie=new b.y(function Le(ce,J,ve=G.y){return Ve=>{we(J,()=>{const{length:Te}=ce,Ie=new Array(Te);let Z=Te,q=Te;for(let ue=0;ue<Te;ue++)we(J,()=>{const he=(0,de.D)(ce[ue],J);let xe=!1;he.subscribe((0,oe.x)(Ve,le=>{Ie[ue]=le,xe||(xe=!0,q--),q||Ve.next(ve(Ie.slice()))},()=>{--Z||Ve.complete()}))},Ve)},Ve)}}(Ve,J,Te?Z=>function fe(ce,J){return ce.reduce((ve,Ve,Te)=>(ve[Ve]=J[Te],ve),{})}(Te,Z):G.y));return ve?Ie.pipe(function Q(ce){return(0,te.U)(J=>function ne(ce,J){return N(J)?ce(...J):ce(J)}(ce,J))}(ve)):Ie}function we(ce,J,ve){ce?(0,ge.f)(ve,ce,J):J()}},515:(F,B,_)=>{"use strict";_.d(B,{E:()=>C});const C=new(_(8306).y)(P=>P.complete())},2076:(F,B,_)=>{"use strict";_.d(B,{D:()=>Ve});var b=_(8421),C=_(9672),I=_(4482),L=_(5403);function P(Te,Ie=0){return(0,I.e)((Z,q)=>{Z.subscribe((0,L.x)(q,ue=>(0,C.f)(q,Te,()=>q.next(ue),Ie),()=>(0,C.f)(q,Te,()=>q.complete(),Ie),ue=>(0,C.f)(q,Te,()=>q.error(ue),Ie)))})}function Y(Te,Ie=0){return(0,I.e)((Z,q)=>{q.add(Te.schedule(()=>Z.subscribe(q),Ie))})}var G=_(8306),N=_(2202),ne=_(576);function V(Te,Ie){if(!Te)throw new Error("Iterable cannot be null");return new G.y(Z=>{(0,C.f)(Z,Ie,()=>{const q=Te[Symbol.asyncIterator]();(0,C.f)(Z,Ie,()=>{q.next().then(ue=>{ue.done?Z.complete():Z.next(ue.value)})},0,!0)})})}var fe=_(3670),oe=_(8239),ge=_(1144),He=_(6495),Le=_(2206),we=_(4532),ce=_(3260);function Ve(Te,Ie){return Ie?function ve(Te,Ie){if(null!=Te){if((0,fe.c)(Te))return function se(Te,Ie){return(0,b.Xf)(Te).pipe(Y(Ie),P(Ie))}(Te,Ie);if((0,ge.z)(Te))return function te(Te,Ie){return new G.y(Z=>{let q=0;return Ie.schedule(function(){q===Te.length?Z.complete():(Z.next(Te[q++]),Z.closed||this.schedule())})})}(Te,Ie);if((0,oe.t)(Te))return function de(Te,Ie){return(0,b.Xf)(Te).pipe(Y(Ie),P(Ie))}(Te,Ie);if((0,Le.D)(Te))return V(Te,Ie);if((0,He.T)(Te))return function Q(Te,Ie){return new G.y(Z=>{let q;return(0,C.f)(Z,Ie,()=>{q=Te[N.h](),(0,C.f)(Z,Ie,()=>{let ue,he;try{({value:ue,done:he}=q.next())}catch(xe){return void Z.error(xe)}he?Z.complete():Z.next(ue)},0,!0)}),()=>(0,ne.m)(null==q?void 0:q.return)&&q.return()})}(Te,Ie);if((0,ce.L)(Te))return function J(Te,Ie){return V((0,ce.Q)(Te),Ie)}(Te,Ie)}throw(0,we.z)(Te)}(Te,Ie):(0,b.Xf)(Te)}},8421:(F,B,_)=>{"use strict";_.d(B,{Xf:()=>Q});var b=_(655),C=_(1144),I=_(8239),L=_(8306),P=_(3670),Y=_(2206),se=_(4532),de=_(6495),G=_(3260),te=_(576),N=_(7849),ne=_(8822);function Q(ce){if(ce instanceof L.y)return ce;if(null!=ce){if((0,P.c)(ce))return function V(ce){return new L.y(J=>{const ve=ce[ne.L]();if((0,te.m)(ve.subscribe))return ve.subscribe(J);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,C.z)(ce))return function fe(ce){return new L.y(J=>{for(let ve=0;ve<ce.length&&!J.closed;ve++)J.next(ce[ve]);J.complete()})}(ce);if((0,I.t)(ce))return function oe(ce){return new L.y(J=>{ce.then(ve=>{J.closed||(J.next(ve),J.complete())},ve=>J.error(ve)).then(null,N.h)})}(ce);if((0,Y.D)(ce))return He(ce);if((0,de.T)(ce))return function ge(ce){return new L.y(J=>{for(const ve of ce)if(J.next(ve),J.closed)return;J.complete()})}(ce);if((0,G.L)(ce))return function Le(ce){return He((0,G.Q)(ce))}(ce)}throw(0,se.z)(ce)}function He(ce){return new L.y(J=>{(function we(ce,J){var ve,Ve,Te,Ie;return(0,b.mG)(this,void 0,void 0,function*(){try{for(ve=(0,b.KL)(ce);!(Ve=yield ve.next()).done;)if(J.next(Ve.value),J.closed)return}catch(Z){Te={error:Z}}finally{try{Ve&&!Ve.done&&(Ie=ve.return)&&(yield Ie.call(ve))}finally{if(Te)throw Te.error}}J.complete()})})(ce,J).catch(ve=>J.error(ve))})}},6451:(F,B,_)=>{"use strict";_.d(B,{T:()=>Y});var b=_(8189),C=_(8421),I=_(515),L=_(3269),P=_(2076);function Y(...se){const de=(0,L.yG)(se),G=(0,L._6)(se,1/0),te=se;return te.length?1===te.length?(0,C.Xf)(te[0]):(0,b.J)(G)((0,P.D)(te,de)):I.E}},9646:(F,B,_)=>{"use strict";_.d(B,{of:()=>I});var b=_(3269),C=_(2076);function I(...L){const P=(0,b.yG)(L);return(0,C.D)(L,P)}},102:(F,B,_)=>{"use strict";_.d(B,{S:()=>Y});var b=_(8306),C=_(8421);const{isArray:I}=Array;var P=_(5403);function Y(...de){return 1===(de=function L(de){return 1===de.length&&I(de[0])?de[0]:de}(de)).length?(0,C.Xf)(de[0]):new b.y(function se(de){return G=>{let te=[];for(let N=0;te&&!G.closed&&N<de.length;N++)te.push((0,C.Xf)(de[N]).subscribe((0,P.x)(G,ne=>{if(te){for(let Q=0;Q<te.length;Q++)Q!==N&&te[Q].unsubscribe();te=null}G.next(ne)})))}}(de))}},2843:(F,B,_)=>{"use strict";_.d(B,{_:()=>I});var b=_(8306),C=_(576);function I(L,P){const Y=(0,C.m)(L)?L:()=>L,se=de=>de.error(Y());return new b.y(P?de=>P.schedule(se,0,de):se)}},5403:(F,B,_)=>{"use strict";_.d(B,{x:()=>C});var b=_(930);function C(L,P,Y,se,de){return new I(L,P,Y,se,de)}class I extends b.Lv{constructor(P,Y,se,de,G,te){super(P),this.onFinalize=G,this.shouldUnsubscribe=te,this._next=Y?function(N){try{Y(N)}catch(ne){P.error(ne)}}:super._next,this._error=de?function(N){try{de(N)}catch(ne){P.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(N){P.error(N)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Y}=this;super.unsubscribe(),!Y&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},262:(F,B,_)=>{"use strict";_.d(B,{K:()=>L});var b=_(8421),C=_(5403),I=_(4482);function L(P){return(0,I.e)((Y,se)=>{let te,de=null,G=!1;de=Y.subscribe((0,C.x)(se,void 0,void 0,N=>{te=(0,b.Xf)(P(N,L(P)(Y))),de?(de.unsubscribe(),de=null,te.subscribe(se)):G=!0})),G&&(de.unsubscribe(),de=null,te.subscribe(se))})}},8372:(F,B,_)=>{"use strict";_.d(B,{b:()=>L});var b=_(1566),C=_(4482),I=_(5403);function L(P,Y=b.z){return(0,C.e)((se,de)=>{let G=null,te=null,N=null;const ne=()=>{if(G){G.unsubscribe(),G=null;const V=te;te=null,de.next(V)}};function Q(){const V=N+P,fe=Y.now();if(fe<V)return G=this.schedule(void 0,V-fe),void de.add(G);ne()}se.subscribe((0,I.x)(de,V=>{te=V,N=Y.now(),G||(G=Y.schedule(Q,P),de.add(G))},()=>{ne(),de.complete()},void 0,()=>{te=G=null}))})}},3593:(F,B,_)=>{"use strict";_.d(B,{g:()=>we});var b=_(1566),C=_(8189),L=_(3269),P=_(2076);var se=_(5698),de=_(4482),G=_(5403),te=_(5032),ne=_(4004),V=_(5577);function fe(ce,J){return J?ve=>function Y(...ce){return function I(){return(0,C.J)(1)}()((0,P.D)(ce,(0,L.yG)(ce)))}(J.pipe((0,se.q)(1),function N(){return(0,de.e)((ce,J)=>{ce.subscribe((0,G.x)(J,te.Z))})}()),ve.pipe(fe(ce))):(0,V.z)((ve,Ve)=>ce(ve,Ve).pipe((0,se.q)(1),function Q(ce){return(0,ne.U)(()=>ce)}(ve)))}var oe=_(8306),ge=_(3532),He=_(1165);function we(ce,J=b.z){const ve=function Le(ce=0,J,ve=b.P){let Ve=-1;return null!=J&&((0,ge.K)(J)?ve=J:Ve=J),new oe.y(Te=>{let Ie=(0,He.q)(ce)?+ce-ve.now():ce;Ie<0&&(Ie=0);let Z=0;return ve.schedule(function(){Te.closed||(Te.next(Z++),0<=Ve?this.schedule(void 0,Ve):Te.complete())},Ie)})}(ce,J);return fe(()=>ve)}},9300:(F,B,_)=>{"use strict";_.d(B,{h:()=>I});var b=_(4482),C=_(5403);function I(L,P){return(0,b.e)((Y,se)=>{let de=0;Y.subscribe((0,C.x)(se,G=>L.call(P,G,de++)&&se.next(G)))})}},7826:(F,B,_)=>{"use strict";_.d(B,{P:()=>N});const C=(0,_(3888).d)(ne=>function(){ne(this),this.name="EmptyError",this.message="no elements in sequence"});var I=_(9300),L=_(5698),P=_(4482),Y=_(5403);function se(ne){return(0,P.e)((Q,V)=>{let fe=!1;Q.subscribe((0,Y.x)(V,oe=>{fe=!0,V.next(oe)},()=>{fe||V.next(ne),V.complete()}))})}function de(ne=G){return(0,P.e)((Q,V)=>{let fe=!1;Q.subscribe((0,Y.x)(V,oe=>{fe=!0,V.next(oe)},()=>fe?V.complete():V.error(ne())))})}function G(){return new C}var te=_(4671);function N(ne,Q){const V=arguments.length>=2;return fe=>fe.pipe(ne?(0,I.h)((oe,ge)=>ne(oe,ge,fe)):te.y,(0,L.q)(1),V?se(Q):de(()=>new C))}},4004:(F,B,_)=>{"use strict";_.d(B,{U:()=>I});var b=_(4482),C=_(5403);function I(L,P){return(0,b.e)((Y,se)=>{let de=0;Y.subscribe((0,C.x)(se,G=>{se.next(L.call(P,G,de++))}))})}},8189:(F,B,_)=>{"use strict";_.d(B,{J:()=>I});var b=_(5577),C=_(4671);function I(L=1/0){return(0,b.z)(C.y,L)}},5577:(F,B,_)=>{"use strict";_.d(B,{z:()=>de});var b=_(4004),C=_(8421),I=_(4482),L=_(9672),P=_(5403),se=_(576);function de(G,te,N=1/0){return(0,se.m)(te)?de((ne,Q)=>(0,b.U)((V,fe)=>te(ne,V,Q,fe))((0,C.Xf)(G(ne,Q))),N):("number"==typeof te&&(N=te),(0,I.e)((ne,Q)=>function Y(G,te,N,ne,Q,V,fe,oe){const ge=[];let He=0,Le=0,we=!1;const ce=()=>{we&&!ge.length&&!He&&te.complete()},J=Ve=>He<ne?ve(Ve):ge.push(Ve),ve=Ve=>{V&&te.next(Ve),He++;let Te=!1;(0,C.Xf)(N(Ve,Le++)).subscribe((0,P.x)(te,Ie=>{null==Q||Q(Ie),V?J(Ie):te.next(Ie)},()=>{Te=!0},void 0,()=>{if(Te)try{for(He--;ge.length&&He<ne;){const Ie=ge.shift();fe?(0,L.f)(te,fe,()=>ve(Ie)):ve(Ie)}ce()}catch(Ie){te.error(Ie)}}))};return G.subscribe((0,P.x)(te,J,()=>{we=!0,ce()})),()=>{null==oe||oe()}}(ne,Q,G,N)))}},3900:(F,B,_)=>{"use strict";_.d(B,{w:()=>L});var b=_(8421),C=_(4482),I=_(5403);function L(P,Y){return(0,C.e)((se,de)=>{let G=null,te=0,N=!1;const ne=()=>N&&!G&&de.complete();se.subscribe((0,I.x)(de,Q=>{null==G||G.unsubscribe();let V=0;const fe=te++;(0,b.Xf)(P(Q,fe)).subscribe(G=(0,I.x)(de,oe=>de.next(Y?Y(Q,oe,fe,V++):oe),()=>{G=null,ne()}))},()=>{N=!0,ne()}))})}},5698:(F,B,_)=>{"use strict";_.d(B,{q:()=>L});var b=_(515),C=_(4482),I=_(5403);function L(P){return P<=0?()=>b.E:(0,C.e)((Y,se)=>{let de=0;Y.subscribe((0,I.x)(se,G=>{++de<=P&&(se.next(G),P<=de&&se.complete())}))})}},8505:(F,B,_)=>{"use strict";_.d(B,{b:()=>P});var b=_(576),C=_(4482),I=_(5403),L=_(4671);function P(Y,se,de){const G=(0,b.m)(Y)||se||de?{next:Y,error:se,complete:de}:Y;return G?(0,C.e)((te,N)=>{var ne;null===(ne=G.subscribe)||void 0===ne||ne.call(G);let Q=!0;te.subscribe((0,I.x)(N,V=>{var fe;null===(fe=G.next)||void 0===fe||fe.call(G,V),N.next(V)},()=>{var V;Q=!1,null===(V=G.complete)||void 0===V||V.call(G),N.complete()},V=>{var fe;Q=!1,null===(fe=G.error)||void 0===fe||fe.call(G,V),N.error(V)},()=>{var V,fe;Q&&(null===(V=G.unsubscribe)||void 0===V||V.call(G)),null===(fe=G.finalize)||void 0===fe||fe.call(G)}))}):L.y}},7414:(F,B,_)=>{"use strict";_.d(B,{V:()=>G});var b=_(1566),C=_(1165),I=_(4482),L=_(8421),P=_(3888),Y=_(5403),se=_(9672);const de=(0,P.d)(N=>function(Q=null){N(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Q});function G(N,ne){const{first:Q,each:V,with:fe=te,scheduler:oe=(null!=ne?ne:b.z),meta:ge=null}=(0,C.q)(N)?{first:N}:"number"==typeof N?{each:N}:N;if(null==Q&&null==V)throw new TypeError("No timeout provided.");return(0,I.e)((He,Le)=>{let we,ce,J=null,ve=0;const Ve=Te=>{ce=(0,se.f)(Le,oe,()=>{try{we.unsubscribe(),(0,L.Xf)(fe({meta:ge,lastValue:J,seen:ve})).subscribe(Le)}catch(Ie){Le.error(Ie)}},Te)};we=He.subscribe((0,Y.x)(Le,Te=>{null==ce||ce.unsubscribe(),ve++,Le.next(J=Te),V>0&&Ve(V)},void 0,void 0,()=>{(null==ce?void 0:ce.closed)||null==ce||ce.unsubscribe(),J=null})),!ve&&Ve(null!=Q?"number"==typeof Q?Q:+Q-oe.now():V)})}function te(N){throw new de(N)}},1566:(F,B,_)=>{"use strict";_.d(B,{P:()=>te,z:()=>G});var b=_(727);class C extends b.w0{constructor(ne,Q){super()}schedule(ne,Q=0){return this}}const I={setInterval(N,ne,...Q){const{delegate:V}=I;return(null==V?void 0:V.setInterval)?V.setInterval(N,ne,...Q):setInterval(N,ne,...Q)},clearInterval(N){const{delegate:ne}=I;return((null==ne?void 0:ne.clearInterval)||clearInterval)(N)},delegate:void 0};var L=_(8737);const Y={now:()=>(Y.delegate||Date).now(),delegate:void 0};class se{constructor(ne,Q=se.now){this.schedulerActionCtor=ne,this.now=Q}schedule(ne,Q=0,V){return new this.schedulerActionCtor(this,ne).schedule(V,Q)}}se.now=Y.now;const G=new class de extends se{constructor(ne,Q=se.now){super(ne,Q),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:Q}=this;if(this._active)return void Q.push(ne);let V;this._active=!0;do{if(V=ne.execute(ne.state,ne.delay))break}while(ne=Q.shift());if(this._active=!1,V){for(;ne=Q.shift();)ne.unsubscribe();throw V}}}(class P extends C{constructor(ne,Q){super(ne,Q),this.scheduler=ne,this.work=Q,this.pending=!1}schedule(ne,Q=0){if(this.closed)return this;this.state=ne;const V=this.id,fe=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(fe,V,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(fe,this.id,Q),this}requestAsyncId(ne,Q,V=0){return I.setInterval(ne.flush.bind(ne,this),V)}recycleAsyncId(ne,Q,V=0){if(null!=V&&this.delay===V&&!1===this.pending)return Q;I.clearInterval(Q)}execute(ne,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const V=this._execute(ne,Q);if(V)return V;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,Q){let fe,V=!1;try{this.work(ne)}catch(oe){V=!0,fe=oe||new Error("Scheduled action threw falsy error")}if(V)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:ne,scheduler:Q}=this,{actions:V}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.P)(V,this),null!=ne&&(this.id=this.recycleAsyncId(Q,ne,null)),this.delay=null,super.unsubscribe()}}}),te=G},3410:(F,B,_)=>{"use strict";_.d(B,{z:()=>b});const b={setTimeout(C,I,...L){const{delegate:P}=b;return(null==P?void 0:P.setTimeout)?P.setTimeout(C,I,...L):setTimeout(C,I,...L)},clearTimeout(C){const{delegate:I}=b;return((null==I?void 0:I.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(F,B,_)=>{"use strict";_.d(B,{h:()=>C});const C=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(F,B,_)=>{"use strict";_.d(B,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(F,B,_)=>{"use strict";_.d(B,{_6:()=>Y,jO:()=>L,yG:()=>P});var b=_(576),C=_(3532);function I(se){return se[se.length-1]}function L(se){return(0,b.m)(I(se))?se.pop():void 0}function P(se){return(0,C.K)(I(se))?se.pop():void 0}function Y(se,de){return"number"==typeof I(se)?se.pop():de}},8737:(F,B,_)=>{"use strict";function b(C,I){if(C){const L=C.indexOf(I);0<=L&&C.splice(L,1)}}_.d(B,{P:()=>b})},3888:(F,B,_)=>{"use strict";function b(C){const L=C(P=>{Error.call(P),P.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}_.d(B,{d:()=>b})},2806:(F,B,_)=>{"use strict";_.d(B,{O:()=>L,x:()=>I});var b=_(2416);let C=null;function I(P){if(b.v.useDeprecatedSynchronousErrorHandling){const Y=!C;if(Y&&(C={errorThrown:!1,error:null}),P(),Y){const{errorThrown:se,error:de}=C;if(C=null,se)throw de}}else P()}function L(P){b.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=P)}},9672:(F,B,_)=>{"use strict";function b(C,I,L,P=0,Y=!1){const se=I.schedule(function(){L(),Y?C.add(this.schedule(null,P)):this.unsubscribe()},P);if(C.add(se),!Y)return se}_.d(B,{f:()=>b})},4671:(F,B,_)=>{"use strict";function b(C){return C}_.d(B,{y:()=>b})},1144:(F,B,_)=>{"use strict";_.d(B,{z:()=>b});const b=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(F,B,_)=>{"use strict";_.d(B,{D:()=>C});var b=_(576);function C(I){return Symbol.asyncIterator&&(0,b.m)(null==I?void 0:I[Symbol.asyncIterator])}},1165:(F,B,_)=>{"use strict";function b(C){return C instanceof Date&&!isNaN(C)}_.d(B,{q:()=>b})},576:(F,B,_)=>{"use strict";function b(C){return"function"==typeof C}_.d(B,{m:()=>b})},3670:(F,B,_)=>{"use strict";_.d(B,{c:()=>I});var b=_(8822),C=_(576);function I(L){return(0,C.m)(L[b.L])}},6495:(F,B,_)=>{"use strict";_.d(B,{T:()=>I});var b=_(2202),C=_(576);function I(L){return(0,C.m)(null==L?void 0:L[b.h])}},8239:(F,B,_)=>{"use strict";_.d(B,{t:()=>C});var b=_(576);function C(I){return(0,b.m)(null==I?void 0:I.then)}},3260:(F,B,_)=>{"use strict";_.d(B,{L:()=>L,Q:()=>I});var b=_(655),C=_(576);function I(P){return(0,b.FC)(this,arguments,function*(){const se=P.getReader();try{for(;;){const{value:de,done:G}=yield(0,b.qq)(se.read());if(G)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(de)}}finally{se.releaseLock()}})}function L(P){return(0,C.m)(null==P?void 0:P.getReader)}},3532:(F,B,_)=>{"use strict";_.d(B,{K:()=>C});var b=_(576);function C(I){return I&&(0,b.m)(I.schedule)}},4482:(F,B,_)=>{"use strict";_.d(B,{e:()=>I});var b=_(576);function I(L){return P=>{if(function C(L){return(0,b.m)(null==L?void 0:L.lift)}(P))return P.lift(function(Y){try{return L(Y,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(F,B,_)=>{"use strict";function b(){}_.d(B,{Z:()=>b})},7849:(F,B,_)=>{"use strict";_.d(B,{h:()=>I});var b=_(2416),C=_(3410);function I(L){C.z.setTimeout(()=>{const{onUnhandledError:P}=b.v;if(!P)throw L;P(L)})}},4532:(F,B,_)=>{"use strict";function b(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(B,{z:()=>b})},655:(F,B,_)=>{"use strict";function de(Z,q,ue,he){return new(ue||(ue=Promise))(function(le,et){function Et(Zt){try{qe(he.next(Zt))}catch(Qn){et(Qn)}}function wn(Zt){try{qe(he.throw(Zt))}catch(Qn){et(Qn)}}function qe(Zt){Zt.done?le(Zt.value):function xe(le){return le instanceof ue?le:new ue(function(et){et(le)})}(Zt.value).then(Et,wn)}qe((he=he.apply(Z,q||[])).next())})}function ge(Z){return this instanceof ge?(this.v=Z,this):new ge(Z)}function He(Z,q,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,he=ue.apply(Z,q||[]),le=[];return xe={},et("next"),et("throw"),et("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function et(Yt){he[Yt]&&(xe[Yt]=function(Es){return new Promise(function(Bt,ft){le.push([Yt,Es,Bt,ft])>1||Et(Yt,Es)})})}function Et(Yt,Es){try{!function wn(Yt){Yt.value instanceof ge?Promise.resolve(Yt.value.v).then(qe,Zt):Qn(le[0][2],Yt)}(he[Yt](Es))}catch(Bt){Qn(le[0][3],Bt)}}function qe(Yt){Et("next",Yt)}function Zt(Yt){Et("throw",Yt)}function Qn(Yt,Es){Yt(Es),le.shift(),le.length&&Et(le[0][0],le[0][1])}}function we(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,q=Z[Symbol.asyncIterator];return q?q.call(Z):(Z=function ne(Z){var q="function"==typeof Symbol&&Symbol.iterator,ue=q&&Z[q],he=0;if(ue)return ue.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&he>=Z.length&&(Z=void 0),{value:Z&&Z[he++],done:!Z}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ue={},he("next"),he("throw"),he("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function he(le){ue[le]=Z[le]&&function(et){return new Promise(function(Et,wn){!function xe(le,et,Et,wn){Promise.resolve(wn).then(function(qe){le({value:qe,done:Et})},et)}(Et,wn,(et=Z[le](et)).done,et.value)})}}}_.d(B,{FC:()=>He,KL:()=>we,mG:()=>de,qq:()=>ge})},9808:(F,B,_)=>{"use strict";_.d(B,{HT:()=>P,JF:()=>Ss,K0:()=>se,Mx:()=>Zn,O5:()=>qi,bD:()=>Zi,ez:()=>Mo,q:()=>I,w_:()=>Y});var b=_(4893);let C=null;function I(){return C}function P(E){C||(C=E)}class Y{}const se=new b.OlP("DocumentToken");function Zn(E,A){A=encodeURIComponent(A);for(const w of E.split(";")){const O=w.indexOf("="),[W,_e]=-1==O?[w,""]:[w.slice(0,O),w.slice(O+1)];if(W.trim()===A)return decodeURIComponent(_e)}return null}let qi=(()=>{class E{constructor(w,O){this._viewContainer=w,this._context=new ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(w){this._context.$implicit=this._context.ngIf=w,this._updateView()}set ngIfThen(w){cn("ngIfThen",w),this._thenTemplateRef=w,this._thenViewRef=null,this._updateView()}set ngIfElse(w){cn("ngIfElse",w),this._elseTemplateRef=w,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(w,O){return!0}}return E.\u0275fac=function(w){return new(w||E)(b.Y36(b.s_b),b.Y36(b.Rgc))},E.\u0275dir=b.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),E})();class ni{constructor(){this.$implicit=null,this.ngIf=null}}function cn(E,A){if(A&&!A.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,b.AaK)(A)}'.`)}let Mo=(()=>{class E{}return E.\u0275fac=function(w){return new(w||E)},E.\u0275mod=b.oAB({type:E}),E.\u0275inj=b.cJS({}),E})();const Zi="browser";class Ss{}},6529:(F,B,_)=>{"use strict";_.d(B,{TP:()=>qe,eN:()=>Et,JF:()=>Ge,WM:()=>ne,LE:()=>Le});var b=_(9808),C=_(4893),I=_(9646),L=_(8306),P=_(5577),Y=_(576),de=_(9300),G=_(4004);class te{}class N{}class ne{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?this.lazyInit="string"==typeof z?()=>{this.headers=new Map,z.split("\n").forEach($=>{const ae=$.indexOf(":");if(ae>0){const re=$.slice(0,ae),Ke=re.toLowerCase(),vt=$.slice(ae+1).trim();this.maybeSetNormalizedName(re,Ke),this.headers.has(Ke)?this.headers.get(Ke).push(vt):this.headers.set(Ke,[vt])}})}:()=>{this.headers=new Map,Object.keys(z).forEach($=>{let ae=z[$];const re=$.toLowerCase();"string"==typeof ae&&(ae=[ae]),ae.length>0&&(this.headers.set(re,ae),this.maybeSetNormalizedName($,re))})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const $=this.headers.get(z.toLowerCase());return $&&$.length>0?$[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,$){return this.clone({name:z,value:$,op:"a"})}set(z,$){return this.clone({name:z,value:$,op:"s"})}delete(z,$){return this.clone({name:z,value:$,op:"d"})}maybeSetNormalizedName(z,$){this.normalizedNames.has($)||this.normalizedNames.set($,z)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach($=>{this.headers.set($,z.headers.get($)),this.normalizedNames.set($,z.normalizedNames.get($))})}clone(z){const $=new ne;return $.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,$.lazyUpdate=(this.lazyUpdate||[]).concat([z]),$}applyUpdate(z){const $=z.name.toLowerCase();switch(z.op){case"a":case"s":let ae=z.value;if("string"==typeof ae&&(ae=[ae]),0===ae.length)return;this.maybeSetNormalizedName(z.name,$);const re=("a"===z.op?this.headers.get($):void 0)||[];re.push(...ae),this.headers.set($,re);break;case"d":const Ke=z.value;if(Ke){let vt=this.headers.get($);if(!vt)return;vt=vt.filter(it=>-1===Ke.indexOf(it)),0===vt.length?(this.headers.delete($),this.normalizedNames.delete($)):this.headers.set($,vt)}else this.headers.delete($),this.normalizedNames.delete($)}}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach($=>z(this.normalizedNames.get($),this.headers.get($)))}}class Q{encodeKey(z){return ge(z)}encodeValue(z){return ge(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const fe=/%(\d[a-f0-9])/gi,oe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ge(ye){return encodeURIComponent(ye).replace(fe,(z,$)=>{var ae;return null!==(ae=oe[$])&&void 0!==ae?ae:z})}function He(ye){return`${ye}`}class Le{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new Q,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function V(ye,z){const $=new Map;return ye.length>0&&ye.replace(/^\?/,"").split("&").forEach(re=>{const Ke=re.indexOf("="),[vt,it]=-1==Ke?[z.decodeKey(re),""]:[z.decodeKey(re.slice(0,Ke)),z.decodeValue(re.slice(Ke+1))],rt=$.get(vt)||[];rt.push(it),$.set(vt,rt)}),$}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach($=>{const ae=z.fromObject[$];this.map.set($,Array.isArray(ae)?ae:[ae])})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const $=this.map.get(z);return $?$[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,$){return this.clone({param:z,value:$,op:"a"})}appendAll(z){const $=[];return Object.keys(z).forEach(ae=>{const re=z[ae];Array.isArray(re)?re.forEach(Ke=>{$.push({param:ae,value:Ke,op:"a"})}):$.push({param:ae,value:re,op:"a"})}),this.clone($)}set(z,$){return this.clone({param:z,value:$,op:"s"})}delete(z,$){return this.clone({param:z,value:$,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const $=this.encoder.encodeKey(z);return this.map.get(z).map(ae=>$+"="+this.encoder.encodeValue(ae)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const $=new Le({encoder:this.encoder});return $.cloneFrom=this.cloneFrom||this,$.updates=(this.updates||[]).concat(z),$}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const $=("a"===z.op?this.map.get(z.param):void 0)||[];$.push(He(z.value)),this.map.set(z.param,$);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let ae=this.map.get(z.param)||[];const re=ae.indexOf(He(z.value));-1!==re&&ae.splice(re,1),ae.length>0?this.map.set(z.param,ae):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class ce{constructor(){this.map=new Map}set(z,$){return this.map.set(z,$),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function ve(ye){return"undefined"!=typeof ArrayBuffer&&ye instanceof ArrayBuffer}function Ve(ye){return"undefined"!=typeof Blob&&ye instanceof Blob}function Te(ye){return"undefined"!=typeof FormData&&ye instanceof FormData}class Z{constructor(z,$,ae,re){let Ke;if(this.url=$,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function J(ye){switch(ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||re?(this.body=void 0!==ae?ae:null,Ke=re):Ke=ae,Ke&&(this.reportProgress=!!Ke.reportProgress,this.withCredentials=!!Ke.withCredentials,Ke.responseType&&(this.responseType=Ke.responseType),Ke.headers&&(this.headers=Ke.headers),Ke.context&&(this.context=Ke.context),Ke.params&&(this.params=Ke.params)),this.headers||(this.headers=new ne),this.context||(this.context=new ce),this.params){const vt=this.params.toString();if(0===vt.length)this.urlWithParams=$;else{const it=$.indexOf("?");this.urlWithParams=$+(-1===it?"?":it<$.length-1?"&":"")+vt}}else this.params=new Le,this.urlWithParams=$}serializeBody(){return null===this.body?null:ve(this.body)||Ve(this.body)||Te(this.body)||function Ie(ye){return"undefined"!=typeof URLSearchParams&&ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Te(this.body)?null:Ve(this.body)?this.body.type||null:ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){var $;const ae=z.method||this.method,re=z.url||this.url,Ke=z.responseType||this.responseType,vt=void 0!==z.body?z.body:this.body,it=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,rt=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let wt=z.headers||this.headers,rs=z.params||this.params;const Tt=null!==($=z.context)&&void 0!==$?$:this.context;return void 0!==z.setHeaders&&(wt=Object.keys(z.setHeaders).reduce((pt,Ue)=>pt.set(Ue,z.setHeaders[Ue]),wt)),z.setParams&&(rs=Object.keys(z.setParams).reduce((pt,Ue)=>pt.set(Ue,z.setParams[Ue]),rs)),new Z(ae,re,vt,{params:rs,headers:wt,context:Tt,reportProgress:rt,responseType:Ke,withCredentials:it})}}var q=(()=>((q=q||{})[q.Sent=0]="Sent",q[q.UploadProgress=1]="UploadProgress",q[q.ResponseHeader=2]="ResponseHeader",q[q.DownloadProgress=3]="DownloadProgress",q[q.Response=4]="Response",q[q.User=5]="User",q))();class ue{constructor(z,$=200,ae="OK"){this.headers=z.headers||new ne,this.status=void 0!==z.status?z.status:$,this.statusText=z.statusText||ae,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class he extends ue{constructor(z={}){super(z),this.type=q.ResponseHeader}clone(z={}){return new he({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class xe extends ue{constructor(z={}){super(z),this.type=q.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new xe({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class le extends ue{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function et(ye,z){return{body:z,headers:ye.headers,context:ye.context,observe:ye.observe,params:ye.params,reportProgress:ye.reportProgress,responseType:ye.responseType,withCredentials:ye.withCredentials}}let Et=(()=>{class ye{constructor($){this.handler=$}request($,ae,re={}){let Ke;if($ instanceof Z)Ke=$;else{let rt,wt;rt=re.headers instanceof ne?re.headers:new ne(re.headers),re.params&&(wt=re.params instanceof Le?re.params:new Le({fromObject:re.params})),Ke=new Z($,ae,void 0!==re.body?re.body:null,{headers:rt,context:re.context,params:wt,reportProgress:re.reportProgress,responseType:re.responseType||"json",withCredentials:re.withCredentials})}const vt=(0,I.of)(Ke).pipe(function se(ye,z){return(0,Y.m)(z)?(0,P.z)(ye,z,1):(0,P.z)(ye,1)}(rt=>this.handler.handle(rt)));if($ instanceof Z||"events"===re.observe)return vt;const it=vt.pipe((0,de.h)(rt=>rt instanceof xe));switch(re.observe||"body"){case"body":switch(Ke.responseType){case"arraybuffer":return it.pipe((0,G.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rt.body}));case"blob":return it.pipe((0,G.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new Error("Response is not a Blob.");return rt.body}));case"text":return it.pipe((0,G.U)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new Error("Response is not a string.");return rt.body}));default:return it.pipe((0,G.U)(rt=>rt.body))}case"response":return it;default:throw new Error(`Unreachable: unhandled observe type ${re.observe}}`)}}delete($,ae={}){return this.request("DELETE",$,ae)}get($,ae={}){return this.request("GET",$,ae)}head($,ae={}){return this.request("HEAD",$,ae)}jsonp($,ae){return this.request("JSONP",$,{params:(new Le).append(ae,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($,ae={}){return this.request("OPTIONS",$,ae)}patch($,ae,re={}){return this.request("PATCH",$,et(re,ae))}post($,ae,re={}){return this.request("POST",$,et(re,ae))}put($,ae,re={}){return this.request("PUT",$,et(re,ae))}}return ye.\u0275fac=function($){return new($||ye)(C.LFG(te))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class wn{constructor(z,$){this.next=z,this.interceptor=$}handle(z){return this.interceptor.intercept(z,this.next)}}const qe=new C.OlP("HTTP_INTERCEPTORS");let Zt=(()=>{class ye{intercept($,ae){return ae.handle($)}}return ye.\u0275fac=function($){return new($||ye)},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const an=/^\)\]\}',?\n/;let Xs=(()=>{class ye{constructor($){this.xhrFactory=$}handle($){if("JSONP"===$.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L.y(ae=>{const re=this.xhrFactory.build();if(re.open($.method,$.urlWithParams),$.withCredentials&&(re.withCredentials=!0),$.headers.forEach((Ue,Wt)=>re.setRequestHeader(Ue,Wt.join(","))),$.headers.has("Accept")||re.setRequestHeader("Accept","application/json, text/plain, */*"),!$.headers.has("Content-Type")){const Ue=$.detectContentTypeHeader();null!==Ue&&re.setRequestHeader("Content-Type",Ue)}if($.responseType){const Ue=$.responseType.toLowerCase();re.responseType="json"!==Ue?Ue:"text"}const Ke=$.serializeBody();let vt=null;const it=()=>{if(null!==vt)return vt;const Ue=re.statusText||"OK",Wt=new ne(re.getAllResponseHeaders()),ln=function Ga(ye){return"responseURL"in ye&&ye.responseURL?ye.responseURL:/^X-Request-URL:/m.test(ye.getAllResponseHeaders())?ye.getResponseHeader("X-Request-URL"):null}(re)||$.url;return vt=new he({headers:Wt,status:re.status,statusText:Ue,url:ln}),vt},rt=()=>{let{headers:Ue,status:Wt,statusText:ln,url:mt}=it(),jt=null;204!==Wt&&(jt=void 0===re.response?re.responseText:re.response),0===Wt&&(Wt=jt?200:0);let Qs=Wt>=200&&Wt<300;if("json"===$.responseType&&"string"==typeof jt){const Ci=jt;jt=jt.replace(an,"");try{jt=""!==jt?JSON.parse(jt):null}catch(Mi){jt=Ci,Qs&&(Qs=!1,jt={error:Mi,text:jt})}}Qs?(ae.next(new xe({body:jt,headers:Ue,status:Wt,statusText:ln,url:mt||void 0})),ae.complete()):ae.error(new le({error:jt,headers:Ue,status:Wt,statusText:ln,url:mt||void 0}))},wt=Ue=>{const{url:Wt}=it(),ln=new le({error:Ue,status:re.status||0,statusText:re.statusText||"Unknown Error",url:Wt||void 0});ae.error(ln)};let rs=!1;const Tt=Ue=>{rs||(ae.next(it()),rs=!0);let Wt={type:q.DownloadProgress,loaded:Ue.loaded};Ue.lengthComputable&&(Wt.total=Ue.total),"text"===$.responseType&&!!re.responseText&&(Wt.partialText=re.responseText),ae.next(Wt)},pt=Ue=>{let Wt={type:q.UploadProgress,loaded:Ue.loaded};Ue.lengthComputable&&(Wt.total=Ue.total),ae.next(Wt)};return re.addEventListener("load",rt),re.addEventListener("error",wt),re.addEventListener("timeout",wt),re.addEventListener("abort",wt),$.reportProgress&&(re.addEventListener("progress",Tt),null!==Ke&&re.upload&&re.upload.addEventListener("progress",pt)),re.send(Ke),ae.next({type:q.Sent}),()=>{re.removeEventListener("error",wt),re.removeEventListener("abort",wt),re.removeEventListener("load",rt),re.removeEventListener("timeout",wt),$.reportProgress&&(re.removeEventListener("progress",Tt),null!==Ke&&re.upload&&re.upload.removeEventListener("progress",pt)),re.readyState!==re.DONE&&re.abort()}})}}return ye.\u0275fac=function($){return new($||ye)(C.LFG(b.JF))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const ws=new C.OlP("XSRF_COOKIE_NAME"),Js=new C.OlP("XSRF_HEADER_NAME");class wi{}let Do=(()=>{class ye{constructor($,ae,re){this.doc=$,this.platform=ae,this.cookieName=re,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $=this.doc.cookie||"";return $!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)($,this.cookieName),this.lastCookieString=$),this.lastToken}}return ye.\u0275fac=function($){return new($||ye)(C.LFG(b.K0),C.LFG(C.Lbi),C.LFG(ws))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),qs=(()=>{class ye{constructor($,ae){this.tokenService=$,this.headerName=ae}intercept($,ae){const re=$.url.toLowerCase();if("GET"===$.method||"HEAD"===$.method||re.startsWith("http://")||re.startsWith("https://"))return ae.handle($);const Ke=this.tokenService.getToken();return null!==Ke&&!$.headers.has(this.headerName)&&($=$.clone({headers:$.headers.set(this.headerName,Ke)})),ae.handle($)}}return ye.\u0275fac=function($){return new($||ye)(C.LFG(wi),C.LFG(Js))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Ki=(()=>{class ye{constructor($,ae){this.backend=$,this.injector=ae,this.chain=null}handle($){if(null===this.chain){const ae=this.injector.get(qe,[]);this.chain=ae.reduceRight((re,Ke)=>new wn(re,Ke),this.backend)}return this.chain.handle($)}}return ye.\u0275fac=function($){return new($||ye)(C.LFG(N),C.LFG(C.zs3))},ye.\u0275prov=C.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Or=(()=>{class ye{static disable(){return{ngModule:ye,providers:[{provide:qs,useClass:Zt}]}}static withOptions($={}){return{ngModule:ye,providers:[$.cookieName?{provide:ws,useValue:$.cookieName}:[],$.headerName?{provide:Js,useValue:$.headerName}:[]]}}}return ye.\u0275fac=function($){return new($||ye)},ye.\u0275mod=C.oAB({type:ye}),ye.\u0275inj=C.cJS({providers:[qs,{provide:qe,useExisting:qs,multi:!0},{provide:wi,useClass:Do},{provide:ws,useValue:"XSRF-TOKEN"},{provide:Js,useValue:"X-XSRF-TOKEN"}]}),ye})(),Ge=(()=>{class ye{}return ye.\u0275fac=function($){return new($||ye)},ye.\u0275mod=C.oAB({type:ye}),ye.\u0275inj=C.cJS({providers:[Et,{provide:te,useClass:Ki},Xs,{provide:N,useExisting:Xs}],imports:[[Or.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ye})()},4893:(F,B,_)=>{"use strict";_.d(B,{AFp:()=>Ey,ip1:()=>Dy,CZH:()=>Tp,hGG:()=>BE,sBO:()=>EE,_Vd:()=>$d,EJc:()=>tE,SBq:()=>Dc,qLn:()=>pi,OlP:()=>Ot,zs3:()=>vi,ZZ4:()=>Vp,aQg:()=>Up,soG:()=>Pp,h0i:()=>za,R0b:()=>Gs,Lbi:()=>QD,g9A:()=>xy,Qsj:()=>jb,FYo:()=>H_,JOm:()=>_s,Rgc:()=>Cc,dDg:()=>Sy,GfV:()=>j_,s_b:()=>Yd,ifc:()=>it,eFA:()=>Ty,G48:()=>DE,_c5:()=>NE,VLi:()=>hE,zSh:()=>Ws,wAp:()=>$e,vHH:()=>we,cg1:()=>op,kL8:()=>u_,dqk:()=>pt,sIi:()=>fc,QGY:()=>Qf,F4k:()=>mm,RDi:()=>A,AaK:()=>Q,TTD:()=>Zi,xp6:()=>md,Xpm:()=>Gi,lG2:()=>xn,Yz7:()=>an,cJS:()=>Xs,oAB:()=>Xi,Yjl:()=>zn,Y36:()=>gc,_UZ:()=>Xf,qZA:()=>Bd,TgZ:()=>Nd,EpF:()=>gm,n5z:()=>ru,LFG:()=>gn,$8M:()=>cl,NdJ:()=>Zf,oxw:()=>bm,Q6J:()=>Gf,s9C:()=>tp,CHM:()=>Io,LSH:()=>ta,YNc:()=>sm,_uU:()=>zm,Oqu:()=>ip});var b=_(7579),C=_(727),I=_(8306),L=_(6451),P=_(2076),Y=_(5698),se=_(930),de=_(4482);function te(e,t,...i){return!0===t?(e(),null):!1===t?null:t(...i).pipe((0,Y.q)(1)).subscribe(()=>e())}function N(e){for(let t in e)if(e[t]===N)return t;throw Error("Could not find renamed property on target object.")}function Q(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Q).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function V(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fe=N({__forward_ref__:N});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return Q(this())},e}function ge(e){return He(e)?e():e}function He(e){return"function"==typeof e&&e.hasOwnProperty(fe)&&e.__forward_ref__===oe}class we extends Error{constructor(t,i){super(function ce(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function J(e){return"string"==typeof e?e:null==e?"":String(e)}function ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():J(e)}function Z(e,t){const i=t?` in ${t}`:"";throw new we(-201,`No provider for ${ve(e)} found${i}`)}function Bt(e,t){null==e&&function ft(e,t,i,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${i} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function an(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xs(e){return{providers:e.providers||[],imports:e.imports||[]}}function ws(e){return Js(e,Ki)||Js(e,xi)}function Js(e,t){return e.hasOwnProperty(t)?e[t]:null}function qs(e){return e&&(e.hasOwnProperty(yn)||e.hasOwnProperty(Or))?e[yn]:null}const Ki=N({\u0275prov:N}),yn=N({\u0275inj:N}),xi=N({ngInjectableDef:N}),Or=N({ngInjectorDef:N});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let kr;function ye(e){const t=kr;return kr=e,t}function z(e,t,i){const a=ws(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Ge.Optional?null:void 0!==t?t:void Z(Q(e),"Injector")}function ae(e){return{toString:e}.toString()}var re=(()=>((re=re||{})[re.OnPush=0]="OnPush",re[re.Default=1]="Default",re))(),it=(()=>{return(e=it||(it={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",it;var e})();const rt="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,rs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pt=rt||"undefined"!=typeof global&&global||wt||rs,ln={},mt=[],jt=N({\u0275cmp:N}),Qs=N({\u0275dir:N}),Ci=N({\u0275pipe:N}),Mi=N({\u0275mod:N}),Hn=N({\u0275fac:N}),Zs=N({__NG_ELEMENT_ID__:N});let Sc=0;function Gi(e){return ae(()=>{const i={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||it.Emulated,id:"c",styles:e.styles||mt,_:null,setInput:null,schemas:e.schemas||null,tView:null},c=e.directives,h=e.features,p=e.pipes;return a.id+=Sc++,a.inputs=os(e.inputs,i),a.outputs=os(e.outputs),h&&h.forEach(m=>m(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Yi):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(Rr):null,a})}function Yi(e){return un(e)||function dn(e){return e[Qs]||null}(e)}function Rr(e){return function en(e){return e[Ci]||null}(e)}const Eo={};function Xi(e){return ae(()=>{const t={type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Eo[e.id]=e.type),t})}function os(e,t){if(null==e)return ln;const i={};for(const a in e)if(e.hasOwnProperty(a)){let c=e[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=a,t&&(t[c]=h)}return i}const xn=Gi;function zn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function un(e){return e[jt]||null}function vn(e,t){const i=e[Mi]||null;if(!i&&!0===t)throw new Error(`Type ${Q(e)} does not have '\u0275mod' property.`);return i}function Kn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Cn(e){return Array.isArray(e)&&!0===e[1]}function cs(e){return 0!=(8&e.flags)}function Fr(e){return 2==(2&e.flags)}function nn(e){return 1==(1&e.flags)}function Pn(e){return null!==e.template}function Co(e){return 0!=(512&e[2])}function Ti(e,t){return e.hasOwnProperty(Hn)?e[Hn]:null}class Mo{constructor(t,i,a){this.previousValue=t,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Zi(){return So}function So(e){return e.type.prototype.ngOnChanges&&(e.setInput=Hr),ds}function ds(){const e=hs(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===ln)e.previous=t;else for(let a in t)i[a]=t[a];e.current=null,this.ngOnChanges(t)}}function Hr(e,t,i,a){const c=hs(e)||function qa(e,t){return e[Ii]=t}(e,{previous:ln,current:null}),h=c.current||(c.current={}),p=c.previous,m=this.declaredInputs[i],v=p[m];h[m]=new Mo(v&&v.currentValue,t,p===ln),e[a]=t}Zi.ngInherit=!0;const Ii="__ngSimpleChanges__";function hs(e){return e[Ii]||null}let E;function A(e){E=e}function W(e){return!!e.listen}const _e={createRenderer:(e,t)=>function w(){return void 0!==E?E:"undefined"!=typeof document?document:void 0}()};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Ye(e,t){return Oe(t[e.index])}function Ct(e,t){return e.data[t]}function yt(e,t){const i=t[e];return Kn(i)?i:i[0]}function Lt(e){return 128==(128&e[2])}function rn(e,t){return null==t?null:e[t]}function ai(e){e[18]=0}function Rn(e,t){e[5]+=t;let i=e,a=e[3];for(;null!==a&&(1===t&&1===i[5]||-1===t&&0===i[5]);)a[5]+=t,i=a,a=a[3]}const Xe={lFrame:Ut(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qa(){return Xe.bindingsEnabled}function Ee(){return Xe.lFrame.lView}function dt(){return Xe.lFrame.tView}function Io(e){return Xe.lFrame.contextLView=e,e[8]}function ht(){let e=Bc();for(;null!==e&&64===e.type;)e=e.parent;return e}function Bc(){return Xe.lFrame.currentTNode}function es(e,t){const i=Xe.lFrame;i.currentTNode=e,i.isParent=t}function tr(){return Xe.lFrame.isParent}function nr(){return Xe.isInCheckNoChangesMode}function Ur(e){Xe.isInCheckNoChangesMode=e}function sr(){return Xe.lFrame.bindingIndex++}function Wr(e,t){const i=Xe.lFrame;i.bindingIndex=i.bindingRootIndex=e,Za(t)}function Za(e){Xe.lFrame.currentDirectiveIndex=e}function Is(e){Xe.lFrame.currentQueryIndex=e}function el(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function rr(e,t,i){if(i&Ge.SkipSelf){let c=t,h=e;for(;!(c=c.parent,null!==c||i&Ge.Host||(c=el(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;t=c,e=h}const a=Xe.lFrame=zc();return a.currentTNode=t,a.lView=e,!0}function or(e){const t=zc(),i=e[1];Xe.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function zc(){const e=Xe.lFrame,t=null===e?null:e.child;return null===t?Ut(e):t}function Ut(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function $c(){const e=Xe.lFrame;return Xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zr=$c;function Oo(){const e=$c();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pn(){return Xe.lFrame.selectedIndex}function Ps(e){Xe.lFrame.selectedIndex=e}function Dt(){const e=Xe.lFrame;return Ct(e.tView,e.selectedIndex)}function Fo(e,t){for(let i=t.directiveStart,a=t.directiveEnd;i<a;i++){const h=e.data[i].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:x,ngOnDestroy:S}=h;p&&(e.contentHooks||(e.contentHooks=[])).push(-i,p),m&&((e.contentHooks||(e.contentHooks=[])).push(i,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,m)),v&&(e.viewHooks||(e.viewHooks=[])).push(-i,v),x&&((e.viewHooks||(e.viewHooks=[])).push(i,x),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,x)),null!=S&&(e.destroyHooks||(e.destroyHooks=[])).push(i,S)}}function fs(e,t,i){Gc(e,t,3,i)}function li(e,t,i,a){(3&e[2])===i&&Gc(e,t,i,a)}function tl(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Gc(e,t,i,a){const h=null!=a?a:-1,p=t.length-1;let m=0;for(let v=void 0!==a?65535&e[18]:0;v<p;v++)if("number"==typeof t[v+1]){if(m=t[v],null!=a&&m>=a)break}else t[v]<0&&(e[18]+=65536),(m<h||-1==h)&&(lh(e,i,t,v),e[18]=(4294901760&e[18])+v+2),v++}function lh(e,t,i,a){const c=i[a]<0,h=i[a+1],m=e[c?-i[a]:i[a]];if(c){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class ki{constructor(t,i,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Os(e,t,i){const a=W(e);let c=0;for(;c<i.length;){const h=i[c];if("number"==typeof h){if(0!==h)break;c++;const p=i[c++],m=i[c++],v=i[c++];a?e.setAttribute(t,m,v,p):t.setAttributeNS(p,m,v)}else{const p=h,m=i[++c];sl(p)?a&&e.setProperty(t,p,m):a?e.setAttribute(t,p,m):t.setAttribute(p,m),c++}}return c}function nl(e){return 3===e||4===e||6===e}function sl(e){return 64===e.charCodeAt(0)}function ar(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?i=c:0===i||il(e,i,c,null,-1===i||2===i?t[++a]:null)}}return e}function il(e,t,i,a,c){let h=0,p=e.length;if(-1===t)p=-1;else for(;h<e.length;){const m=e[h++];if("number"==typeof m){if(m===t){p=-1;break}if(m>t){p=h-1;break}}}for(;h<e.length;){const m=e[h];if("number"==typeof m)break;if(m===i){if(null===a)return void(null!==c&&(e[h+1]=c));if(a===e[h+1])return void(e[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==p&&(e.splice(p,0,t),h=p+1),e.splice(h++,0,i),null!==a&&e.splice(h++,0,a),null!==c&&e.splice(h++,0,c)}function Jc(e){return-1!==e}function lr(e){return 32767&e}function Li(e,t){let i=function uh(e){return e>>16}(e),a=t;for(;i>0;)a=a[15],i--;return a}let rl=!0;function Lo(e){const t=rl;return rl=e,t}let dh=0;function cr(e,t){const i=No(e,t);if(-1!==i)return i;const a=t[1];a.firstCreatePass&&(e.injectorIndex=t.length,al(a.data,e),al(t,null),al(a.blueprint,null));const c=Bo(e,t),h=e.injectorIndex;if(Jc(c)){const p=lr(c),m=Li(c,t),v=m[1].data;for(let x=0;x<8;x++)t[h+x]=m[p+x]|v[p+x]}return t[h+8]=c,h}function al(e,t){e.push(0,0,0,0,0,0,0,0,t)}function No(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,a=null,c=t;for(;null!==c;){const h=c[1],p=h.type;if(a=2===p?h.declTNode:1===p?c[6]:null,null===a)return-1;if(i++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return-1}function ks(e,t,i){!function Zc(e,t,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Zs)&&(a=i[Zs]),null==a&&(a=i[Zs]=dh++);const c=255&a;t.data[e+(c>>5)]|=1<<c}(e,t,i)}function tu(e,t,i){if(i&Ge.Optional)return e;Z(t,"NodeInjector")}function nu(e,t,i,a){if(i&Ge.Optional&&void 0===a&&(a=null),0==(i&(Ge.Self|Ge.Host))){const c=e[9],h=ye(void 0);try{return c?c.get(t,a,i&Ge.Optional):z(t,a,i&Ge.Optional)}finally{ye(h)}}return tu(a,t,i)}function su(e,t,i,a=Ge.Default,c){if(null!==e){const h=function ll(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Zs)?e[Zs]:void 0;return"number"==typeof t?t>=0?255&t:Ho:t}(i);if("function"==typeof h){if(!rr(t,e,a))return a&Ge.Host?tu(c,i,a):nu(t,i,a,c);try{const p=h(a);if(null!=p||a&Ge.Optional)return p;Z(i)}finally{zr()}}else if("number"==typeof h){let p=null,m=No(e,t),v=-1,x=a&Ge.Host?t[16][6]:null;for((-1===m||a&Ge.SkipSelf)&&(v=-1===m?Bo(e,t):t[m+8],-1!==v&&Gr(a,!1)?(p=t[1],m=lr(v),t=Li(v,t)):m=-1);-1!==m;){const S=t[1];if(Kr(h,m,S.data)){const k=hh(m,t,i,p,a,x);if(k!==iu)return k}v=t[m+8],-1!==v&&Gr(a,t[1].data[m+8]===x)&&Kr(h,m,t)?(p=S,m=lr(v),t=Li(v,t)):m=-1}}}return nu(t,i,a,c)}const iu={};function Ho(){return new ur(ht(),Ee())}function hh(e,t,i,a,c,h){const p=t[1],m=p.data[e+8],S=function jo(e,t,i,a,c){const h=e.providerIndexes,p=t.data,m=1048575&h,v=e.directiveStart,S=h>>20,j=c?m+S:e.directiveEnd;for(let ee=a?m:m+S;ee<j;ee++){const me=p[ee];if(ee<v&&i===me||ee>=v&&me.type===i)return ee}if(c){const ee=p[v];if(ee&&Pn(ee)&&ee.type===i)return v}return null}(m,p,i,null==a?Fr(m)&&rl:a!=p&&0!=(3&m.type),c&Ge.Host&&h===m);return null!==S?Ni(t,p,S,m):iu}function Ni(e,t,i,a){let c=e[i];const h=t.data;if(function Yc(e){return e instanceof ki}(c)){const p=c;p.resolving&&function Ve(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new we(-200,`Circular dependency in DI detected for ${e}${i}`)}(ve(h[i]));const m=Lo(p.canSeeViewProviders);p.resolving=!0;const v=p.injectImpl?ye(p.injectImpl):null;rr(e,a,Ge.Default);try{c=e[i]=p.factory(void 0,h,e,a),t.firstCreatePass&&i>=a.directiveStart&&function ah(e,t,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=t.type.prototype;if(a){const p=So(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,p),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,p)}c&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,c),h&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,h),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,h))}(i,h[i],t)}finally{null!==v&&ye(v),Lo(m),p.resolving=!1,zr()}}return c}function Kr(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function Gr(e,t){return!(e&Ge.Self||e&Ge.Host&&t)}class ur{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,a){return su(this._tNode,this._lView,t,a,i)}}function ru(e){return ae(()=>{const t=e.prototype.constructor,i=t[Hn]||Rs(t),a=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==a;){const h=c[Hn]||Rs(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Rs(e){return He(e)?()=>{const t=Rs(ge(e));return t&&t()}:Ti(e)}function cl(e){return function eu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const h=i[c];if(nl(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(h===t)return i[c+1];c+=2}}}return null}(ht(),e)}const Gn="__parameters__";function Bi(e,t,i){return ae(()=>{const a=function ul(e){return function(...i){if(e){const a=e(...i);for(const c in a)this[c]=a[c]}}}(t);function c(...h){if(this instanceof c)return a.apply(this,h),this;const p=new c(...h);return m.annotation=p,m;function m(v,x,S){const k=v.hasOwnProperty(Gn)?v[Gn]:Object.defineProperty(v,Gn,{value:[]})[Gn];for(;k.length<=S;)k.push(null);return(k[S]=k[S]||[]).push(p),v}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}class Ot{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=an({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}function ts(e,t){e.forEach(i=>Array.isArray(i)?ts(i,t):t(i))}function au(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Jr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ji={},pl="__NG_DI_FLAG__",Uo="ngTempTokenPath",gl=/\n/gm,mu="__source",ns=N({provide:String,useValue:N});let eo;function _u(e){const t=eo;return eo=e,t}function bh(e,t=Ge.Default){if(void 0===eo)throw new we(203,"");return null===eo?z(e,void 0,t):eo.get(e,t&Ge.Optional?null:void 0,t)}function gn(e,t=Ge.Default){return(function Ya(){return kr}()||bh)(ge(e),t)}const vu=gn;function Wo(e){const t=[];for(let i=0;i<e.length;i++){const a=ge(e[i]);if(Array.isArray(a)){if(0===a.length)throw new we(900,"");let c,h=Ge.Default;for(let p=0;p<a.length;p++){const m=a[p],v=Dh(m);"number"==typeof v?-1===v?c=m.token:h|=v:c=m}t.push(gn(c,h))}else t.push(gn(a))}return t}function Vi(e,t){return e[pl]=t,e.prototype[pl]=t,e}function Dh(e){return e[pl]}const $o=Vi(Bi("Optional"),8),Ko=Vi(Bi("SkipSelf"),4);class wu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Fh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function ta(e){const t=function oo(){const e=Ee();return e&&e[12]}();return t?t.sanitize(qt.URL,e)||"":function Ns(e,t){const i=function qo(e){return e instanceof wu&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===t}(e,"URL")?function fi(e){return e instanceof wu?e.changingThisBreaksApplicationSecurity:e}(e):function Ui(e){return(e=String(e)).match(Fh)||e.match(Lh)?e:"unsafe:"+e}(J(e))}const Bu="__ngContext__";function En(e,t){e[Bu]=t}function Sl(e){const t=function ao(e){return e[Bu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ia(e){return e.ngOriginalError}function ra(e,...t){e.error(...t)}class pi{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t),a=function Wu(e){return e&&e.ngErrorLogger||ra}(t);a(this._console,"ERROR",t),i&&a(this._console,"ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&ia(t);for(;i&&ia(i);)i=ia(i);return i||null}}const Xu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pt))();function Vn(e){return e instanceof Function?e():e}var _s=(()=>((_s=_s||{})[_s.Important=1]="Important",_s[_s.DashCase=2]="DashCase",_s))();function mi(e,t){return undefined(e,t)}function lo(e){const t=e[3];return Cn(t)?t[3]:t}function Rl(e){return Ll(e[13])}function Fl(e){return Ll(e[4])}function Ll(e){for(;null!==e&&!Cn(e);)e=e[4];return e}function vr(e,t,i,a,c){if(null!=a){let h,p=!1;Cn(a)?h=a:Kn(a)&&(p=!0,a=a[0]);const m=Oe(a);0===e&&null!==i?null==c?sd(t,i,m):ys(t,i,m,c||null,!0):1===e&&null!==i?ys(t,i,m,c||null,!0):2===e?function zl(e,t,i){const a=uo(e,t);a&&function id(e,t,i,a){W(e)?e.removeChild(t,i,a):t.removeChild(i)}(e,a,t,i)}(t,m,p):3===e&&t.destroyNode(m),null!=h&&function $l(e,t,i,a,c){const h=i[7];h!==Oe(i)&&vr(t,e,a,h,c);for(let m=10;m<i.length;m++){const v=i[m];ho(v[1],v,e,t,a,h)}}(t,e,h,i,c)}}function Nl(e,t,i){if(W(e))return e.createElement(t,i);{const a=null!==i?function Ss(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(i):null;return null===a?e.createElement(t):e.createElementNS(a,t)}}function Hs(e,t){const i=e[9],a=i.indexOf(t),c=t[3];1024&t[2]&&(t[2]&=-1025,Rn(c,-1)),i.splice(a,1)}function Bl(e,t){if(e.length<=10)return;const i=10+t,a=e[i];if(a){const c=a[17];null!==c&&c!==e&&Hs(c,a),t>0&&(e[i-1][4]=a[4]);const h=Jr(e,10+t);!function tf(e,t){ho(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(a[1],a);const p=h[19];null!==p&&p.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function td(e,t){if(!(256&t[2])){const i=t[11];W(i)&&i.destroyNode&&ho(e,t,i,3,null,null),function Zu(e){let t=e[13];if(!t)return Hl(e[1],e);for(;t;){let i=null;if(Kn(t))i=t[13];else{const a=t[10];a&&(i=a)}if(!i){for(;t&&!t[4]&&t!==e;)Kn(t)&&Hl(t[1],t),t=t[3];null===t&&(t=e),Kn(t)&&Hl(t[1],t),i=t&&t[4]}t=i}}(t)}}function Hl(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function sf(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let a=0;a<i.length;a+=2){const c=t[i[a]];if(!(c instanceof ki)){const h=i[a+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=c[h[p]],v=h[p+1];try{v.call(m)}finally{}}else try{h.call(c)}finally{}}}}(e,t),function jl(e,t){const i=e.cleanup,a=t[7];let c=-1;if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const p=i[h+1],m="function"==typeof p?p(t):Oe(t[p]),v=a[c=i[h+2]],x=i[h+3];"boolean"==typeof x?m.removeEventListener(i[h],v,x):x>=0?a[c=x]():a[c=-x].unsubscribe(),h+=2}else{const p=a[c=i[h+1]];i[h].call(p)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();t[7]=null}}(e,t),1===t[1].type&&W(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Cn(t[3])){i!==t[3]&&Hs(i,t);const a=t[19];null!==a&&a.detachView(e)}}}function nd(e,t,i){return function ca(e,t,i){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return i[0];if(2&a.flags){const c=e.data[a.directiveStart].encapsulation;if(c===it.None||c===it.Emulated)return null}return Ye(a,i)}(e,t.parent,i)}function ys(e,t,i,a,c){W(e)?e.insertBefore(t,i,a,c):t.insertBefore(i,a,c)}function sd(e,t,i){W(e)?e.appendChild(t,i):t.appendChild(i)}function ua(e,t,i,a,c){null!==a?ys(e,t,i,a,c):sd(e,t,i)}function uo(e,t){return W(e)?e.parentNode(t):t.parentNode}let ld=function ad(e,t,i){return 40&e.type?Ye(e,i):null};function da(e,t,i,a){const c=nd(e,a,t),h=t[11],m=function od(e,t,i){return ld(e,t,i)}(a.parent||t[6],a,t);if(null!=c)if(Array.isArray(i))for(let v=0;v<i.length;v++)ua(h,c,i[v],m,!1);else ua(h,c,i,m,!1)}function ha(e,t){if(null!==t){const i=t.type;if(3&i)return Ye(t,e);if(4&i)return Wl(-1,e[t.index]);if(8&i){const a=t.child;if(null!==a)return ha(e,a);{const c=e[t.index];return Cn(c)?Wl(-1,c):Oe(c)}}if(32&i)return mi(t,e)()||Oe(e[t.index]);{const a=cd(e,t);return null!==a?Array.isArray(a)?a[0]:ha(lo(e[16]),a):ha(e,t.next)}}return null}function cd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Wl(e,t){const i=10+e+1;if(i<t.length){const a=t[i],c=a[1].firstChild;if(null!==c)return ha(a,c)}return t[7]}function fa(e,t,i,a,c,h,p){for(;null!=i;){const m=a[i.index],v=i.type;if(p&&0===t&&(m&&En(Oe(m),a),i.flags|=4),64!=(64&i.flags))if(8&v)fa(e,t,i.child,a,c,h,!1),vr(t,e,c,m,h);else if(32&v){const x=mi(i,a);let S;for(;S=x();)vr(t,e,c,S,h);vr(t,e,c,m,h)}else 16&v?ud(e,t,a,i,c,h):vr(t,e,c,m,h);i=p?i.projectionNext:i.next}}function ho(e,t,i,a,c,h){fa(i,a,e.firstChild,t,c,h,!1)}function ud(e,t,i,a,c,h){const p=i[16],v=p[6].projection[a.projection];if(Array.isArray(v))for(let x=0;x<v.length;x++)vr(t,e,c,v[x],h);else fa(e,t,v,p[3],c,h,!0)}function pa(e,t,i){W(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function ga(e,t,i){W(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function Kl(e,t,i){let a=e.length;for(;;){const c=e.indexOf(t,i);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const h=t.length;if(c+h===a||e.charCodeAt(c+h)<=32)return c}i=c+1}}const dd="ng-template";function lf(e,t,i){let a=0;for(;a<e.length;){let c=e[a++];if(i&&"class"===c){if(c=e[a],-1!==Kl(c.toLowerCase(),t,0))return!0}else if(1===c){for(;a<e.length&&"string"==typeof(c=e[a++]);)if(c.toLowerCase()===t)return!0;return!1}}return!1}function hd(e){return 4===e.type&&e.value!==dd}function cf(e,t,i){return t===(4!==e.type||i?e.value:dd)}function uf(e,t,i){let a=4;const c=e.attrs||[],h=function ff(e){for(let t=0;t<e.length;t++)if(nl(e[t]))return t;return e.length}(c);let p=!1;for(let m=0;m<t.length;m++){const v=t[m];if("number"!=typeof v){if(!p)if(4&a){if(a=2|1&a,""!==v&&!cf(e,v,i)||""===v&&1===t.length){if(ss(a))return!1;p=!0}}else{const x=8&a?v:t[++m];if(8&a&&null!==e.attrs){if(!lf(e.attrs,x,i)){if(ss(a))return!1;p=!0}continue}const k=df(8&a?"class":v,c,hd(e),i);if(-1===k){if(ss(a))return!1;p=!0;continue}if(""!==x){let j;j=k>h?"":c[k+1].toLowerCase();const ee=8&a?j:null;if(ee&&-1!==Kl(ee,x,0)||2&a&&x!==j){if(ss(a))return!1;p=!0}}}}else{if(!p&&!ss(a)&&!ss(v))return!1;if(p&&ss(v))continue;p=!1,a=v|1&a}}return ss(a)||p}function ss(e){return 0==(1&e)}function df(e,t,i,a){if(null===t)return-1;let c=0;if(a||!i){let h=!1;for(;c<t.length;){const p=t[c];if(p===e)return c;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=t[++c];for(;"string"==typeof m;)m=t[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=h?1:2}return-1}return function pd(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const a=e[i];if("number"==typeof a)return-1;if(a===t)return i;i++}return-1}(t,e)}function fd(e,t,i=!1){for(let a=0;a<t.length;a++)if(uf(e,t[a],i))return!0;return!1}function gd(e,t){return e?":not("+t.trim()+")":t}function gf(e){let t=e[0],i=1,a=2,c="",h=!1;for(;i<e.length;){let p=e[i];if("string"==typeof p)if(2&a){const m=e[++i];c+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&a?c+="."+p:4&a&&(c+=" "+p);else""!==c&&!ss(p)&&(t+=gd(h,c),c=""),a=p,h=h||!ss(a);i++}return""!==c&&(t+=gd(h,c)),t}const Je={};function md(e){Gl(dt(),Ee(),pn()+e,nr())}function Gl(e,t,i,a){if(!a)if(3==(3&t[2])){const h=e.preOrderCheckHooks;null!==h&&fs(t,h,i)}else{const h=e.preOrderHooks;null!==h&&li(t,h,0,i)}Ps(i)}function Da(e,t){const i=e.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const c=i[a],h=i[a+1];if(-1!==h){const p=e.data[h];Is(c),p.contentQueries(2,t[h],h)}}}function wr(e,t,i,a,c,h,p,m,v,x){const S=t.blueprint.slice();return S[0]=c,S[2]=140|a,ai(S),S[3]=S[15]=e,S[8]=i,S[10]=p||e&&e[10],S[11]=m||e&&e[11],S[12]=v||e&&e[12]||null,S[9]=x||e&&e[9]||null,S[6]=h,S[16]=2==t.type?e[16]:S,S}function xr(e,t,i,a,c){let h=e.data[t];if(null===h)h=function ic(e,t,i,a,c){const h=Bc(),p=tr(),v=e.data[t]=function Pd(e,t,i,a,c,h){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,i,t,a,c);return null===e.firstChild&&(e.firstChild=v),null!==h&&(p?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v)),v}(e,t,i,a,c),function jc(){return Xe.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=i,h.value=a,h.attrs=c;const p=function er(){const e=Xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return es(h,!0),h}function Cr(e,t,i,a){if(0===i)return-1;const c=t.length;for(let h=0;h<i;h++)t.push(a),e.blueprint.push(a),e.data.push(null);return c}function mo(e,t,i){or(t);try{const a=e.viewQuery;null!==a&&nt(1,a,i);const c=e.template;null!==c&&Td(e,t,c,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Da(e,t),e.staticViewQueries&&nt(2,e.viewQuery,i);const h=e.components;null!==h&&function Mf(e,t){for(let i=0;i<t.length;i++)ie(e,t[i])}(t,h)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[2]&=-5,Oo()}}function Mr(e,t,i,a){const c=t[2];if(256==(256&c))return;or(t);const h=nr();try{ai(t),function Hc(e){return Xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Td(e,t,i,2,a);const p=3==(3&c);if(!h)if(p){const x=e.preOrderCheckHooks;null!==x&&fs(t,x,null)}else{const x=e.preOrderHooks;null!==x&&li(t,x,0,null),tl(t,0)}if(function H(e){for(let t=Rl(e);null!==t;t=Fl(t)){if(!t[2])continue;const i=t[9];for(let a=0;a<i.length;a++){const c=i[a],h=c[3];0==(1024&c[2])&&Rn(h,1),c[2]|=1024}}}(t),function R(e){for(let t=Rl(e);null!==t;t=Fl(t))for(let i=10;i<t.length;i++){const a=t[i],c=a[1];Lt(a)&&Mr(c,a,c.template,a[8])}}(t),null!==e.contentQueries&&Da(e,t),!h)if(p){const x=e.contentCheckHooks;null!==x&&fs(t,x)}else{const x=e.contentHooks;null!==x&&li(t,x,1),tl(t,1)}!function Cf(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)Ps(~c);else{const h=c,p=i[++a],m=i[++a];Wr(p,h),m(2,t[h])}}}finally{Ps(-1)}}(e,t);const m=e.components;null!==m&&function sc(e,t){for(let i=0;i<t.length;i++)U(e,t[i])}(t,m);const v=e.viewQuery;if(null!==v&&nt(2,v,a),!h)if(p){const x=e.viewCheckHooks;null!==x&&fs(t,x)}else{const x=e.viewHooks;null!==x&&li(t,x,2),tl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),h||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Rn(t[3],-1))}finally{Oo()}}function Sf(e,t,i,a){const c=t[10],h=!nr(),p=function kn(e){return 4==(4&e[2])}(t);try{h&&!p&&c.begin&&c.begin(),p&&mo(e,t,a),Mr(e,t,i,a)}finally{h&&!p&&c.end&&c.end()}}function Td(e,t,i,a,c){const h=pn(),p=2&a;try{Ps(-1),p&&t.length>20&&Gl(e,t,20,nr()),i(a,c)}finally{Ps(h)}}function rc(e,t,i){!Qa()||(function Rf(e,t,i,a){const c=i.directiveStart,h=i.directiveEnd;e.firstCreatePass||cr(i,t),En(a,t);const p=i.initialInputs;for(let m=c;m<h;m++){const v=e.data[m],x=Pn(v);x&&d(t,i,v);const S=Ni(t,e,m,i);En(S,t),null!==p&&y(0,m-c,S,v,0,p),x&&(yt(i.index,t)[8]=S)}}(e,t,i,Ye(i,t)),128==(128&i.flags)&&function Ff(e,t,i){const a=i.directiveStart,c=i.directiveEnd,p=i.index,m=function Uc(){return Xe.lFrame.currentDirectiveIndex}();try{Ps(p);for(let v=a;v<c;v++){const x=e.data[v],S=t[v];Za(v),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Lf(x,S)}}finally{Ps(-1),Za(m)}}(e,t,i))}function oc(e,t,i=Ye){const a=t.localNames;if(null!==a){let c=t.index+1;for(let h=0;h<a.length;h+=2){const p=a[h+1],m=-1===p?i(t,e):e[p];e[c++]=m}}}function ac(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ea(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ea(e,t,i,a,c,h,p,m,v,x){const S=20+a,k=S+c,j=function Af(e,t){const i=[];for(let a=0;a<t;a++)i.push(a<e?null:Je);return i}(S,k),ee="function"==typeof x?x():x;return j[1]={type:e,blueprint:j,template:i,queries:null,viewQuery:m,declTNode:t,data:j.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:v,consts:ee,incompleteFirstPass:!1}}function uc(e,t,i){for(let a in e)if(e.hasOwnProperty(a)){const c=e[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(t,c):i[a]=[t,c]}return i}function Ln(e,t,i,a,c,h,p,m){const v=Ye(t,i);let S,x=t.inputs;!m&&null!=x&&(S=x[a])?(qn(e,i,S,a,c),Fr(t)&&function Pf(e,t){const i=yt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3&t.type&&(a=function If(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),c=null!=p?p(c,t.value||"",a):c,W(h)?h.setProperty(v,a,c):sl(a)||(v.setProperty?v.setProperty(a,c):v[a]=c))}function Ar(e,t,i,a){let c=!1;if(Qa()){const h=function r(e,t,i){const a=e.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const p=a[h];fd(i,p.selectors,!1)&&(c||(c=[]),ks(cr(i,t),e,p.type),Pn(p)?(n(e,i),c.unshift(p)):c.push(p))}return c}(e,t,i),p=null===a?null:{"":-1};if(null!==h){c=!0,l(i,e.data.length,h.length);for(let S=0;S<h.length;S++){const k=h[S];k.providersResolver&&k.providersResolver(k)}let m=!1,v=!1,x=Cr(e,t,h.length,null);for(let S=0;S<h.length;S++){const k=h[S];i.mergedAttrs=ar(i.mergedAttrs,k.hostAttrs),u(e,i,t,x,k),o(x,k,p),null!==k.contentQueries&&(i.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(i.flags|=128);const j=k.type.prototype;!m&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),m=!0),!v&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),v=!0),x++}!function Tf(e,t){const a=t.directiveEnd,c=e.data,h=t.attrs,p=[];let m=null,v=null;for(let x=t.directiveStart;x<a;x++){const S=c[x],k=S.inputs,j=null===h||hd(t)?null:D(k,h);p.push(j),m=uc(k,x,m),v=uc(S.outputs,x,v)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=16),m.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=p,t.inputs=m,t.outputs=v}(e,i)}p&&function s(e,t,i){if(t){const a=e.localNames=[];for(let c=0;c<t.length;c+=2){const h=i[t[c+1]];if(null==h)throw new we(-301,!1);a.push(t[c],h)}}}(i,a,p)}return i.mergedAttrs=ar(i.mergedAttrs,i.attrs),c}function kd(e,t,i,a,c,h){const p=h.hostBindings;if(p){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const v=~t.index;(function kf(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(m)!=v&&m.push(v),m.push(a,c,p)}}function Lf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function n(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function o(e,t,i){if(i){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)i[t.exportAs[a]]=e;Pn(t)&&(i[""]=e)}}function l(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function u(e,t,i,a,c){e.data[a]=c;const h=c.factory||(c.factory=Ti(c.type)),p=new ki(h,Pn(c),null);e.blueprint[a]=p,i[a]=p,kd(e,t,0,a,Cr(e,i,c.hostVars,Je),c)}function d(e,t,i){const a=Ye(t,e),c=ac(i),h=e[10],p=Ce(e,wr(e,c,null,i.onPush?64:16,a,t,h,h.createRenderer(a,i),null,null));e[t.index]=p}function y(e,t,i,a,c,h){const p=h[t];if(null!==p){const m=a.setInput;for(let v=0;v<p.length;){const x=p[v++],S=p[v++],k=p[v++];null!==m?a.setInput(i,k,x,S):i[S]=k}}}function D(e,t){let i=null,a=0;for(;a<t.length;){const c=t[a];if(0!==c)if(5!==c){if("number"==typeof c)break;e.hasOwnProperty(c)&&(null===i&&(i=[]),i.push(c,e[c],t[a+1])),a+=2}else a+=2;else a+=4}return i}function T(e,t,i,a){return new Array(e,!0,!1,t,null,0,a,i,null,null)}function U(e,t){const i=yt(t,e);if(Lt(i)){const a=i[1];80&i[2]?Mr(a,i,a.template,i[8]):i[5]>0&&X(i)}}function X(e){for(let a=Rl(e);null!==a;a=Fl(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const p=h[1];Mr(p,h,p.template,h[8])}else h[5]>0&&X(h)}const i=e[1].components;if(null!==i)for(let a=0;a<i.length;a++){const c=yt(i[a],e);Lt(c)&&c[5]>0&&X(c)}}function ie(e,t){const i=yt(t,e),a=i[1];(function pe(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(a,i),mo(a,i,i[8])}function Ce(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Me(e){for(;e;){e[2]|=64;const t=lo(e);if(Co(e)&&!t)return e;e=t}return null}function Fe(e,t,i){const a=t[10];a.begin&&a.begin();try{Mr(e,t,e.template,i)}catch(c){throw Kt(t,c),c}finally{a.end&&a.end()}}function Be(e){!function ke(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],a=Sl(i),c=a[1];Sf(c,a,c.template,i)}}(e[8])}function nt(e,t,i){Is(0),t(e,i)}const mn=(()=>Promise.resolve(null))();function Nn(e){return e[7]||(e[7]=[])}function Mt(e){return e.cleanup||(e.cleanup=[])}function Kt(e,t){const i=e[9],a=i?i.get(pi,null):null;a&&a.handleError(t)}function qn(e,t,i,a,c){for(let h=0;h<i.length;){const p=i[h++],m=i[h++],v=t[p],x=e.data[p];null!==x.setInput?x.setInput(v,c,a,m):v[m]=c}}function Ht(e,t,i){const a=function _t(e,t){return Oe(t[e])}(t,e);!function Qu(e,t,i){W(e)?e.setValue(t,i):t.textContent=i}(e[11],a,i)}function Vs(e,t,i){let a=i?e.styles:null,c=i?e.classes:null,h=0;if(null!==t)for(let p=0;p<t.length;p++){const m=t[p];"number"==typeof m?h=m:1==h?c=V(c,m):2==h&&(a=V(a,m+": "+t[++p]+";"))}i?e.styles=a:e.stylesWithoutHost=a,i?e.classes=c:e.classesWithoutHost=c}const Us=new Ot("INJECTOR",-1);class Ir{get(t,i=ji){if(i===ji){const a=new Error(`NullInjectorError: No provider for ${Q(t)}!`);throw a.name="NullInjectorError",a}return i}}const Ws=new Ot("Set Injector scope."),hc={},Ky={};let Nf;function Tg(){return void 0===Nf&&(Nf=new Ir),Nf}function Ig(e,t=null,i=null,a){const c=Pg(e,t,i,a);return c._resolveInjectorDefTypes(),c}function Pg(e,t=null,i=null,a){return new Gy(e,i,t||Tg(),a)}class Gy{constructor(t,i,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];i&&ts(i,m=>this.processProvider(m,t,i)),ts([t],m=>this.processInjectorType(m,[],h)),this.records.set(Us,Sa(void 0,this));const p=this.records.get(Ws);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof t?null:Q(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,i=ji,a=Ge.Default){this.assertNotDestroyed();const c=_u(this),h=ye(void 0);try{if(!(a&Ge.SkipSelf)){let m=this.records.get(t);if(void 0===m){const v=function t0(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ot}(t)&&ws(t);m=v&&this.injectableDefInScope(v)?Sa(Bf(t),hc):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(a&Ge.Self?Tg():this.parent).get(t,i=a&Ge.Optional&&i===ji?null:i)}catch(p){if("NullInjectorError"===p.name){if((p[Uo]=p[Uo]||[]).unshift(Q(t)),c)throw p;return function Eh(e,t,i,a){const c=e[Uo];throw t[mu]&&c.unshift(t[mu]),e.message=function wh(e,t,i,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let c=Q(t);if(Array.isArray(t))c=t.map(Q).join(" -> ");else if("object"==typeof t){let h=[];for(let p in t)if(t.hasOwnProperty(p)){let m=t[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):Q(m)))}c=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${e.replace(gl,"\n  ")}`}("\n"+e.message,c,i,a),e.ngTokenPath=c,e[Uo]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{ye(h),_u(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((a,c)=>t.push(Q(c))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processInjectorType(t,i,a){if(!(t=ge(t)))return!1;let c=qs(t);const h=null==c&&t.ngModule||void 0,p=void 0===h?t:h,m=-1!==a.indexOf(p);if(void 0!==h&&(c=qs(h)),null==c)return!1;if(null!=c.imports&&!m){let S;a.push(p);try{ts(c.imports,k=>{this.processInjectorType(k,i,a)&&(void 0===S&&(S=[]),S.push(k))})}finally{}if(void 0!==S)for(let k=0;k<S.length;k++){const{ngModule:j,providers:ee}=S[k];ts(ee,me=>this.processProvider(me,j,ee||mt))}}this.injectorDefTypes.add(p);const v=Ti(p)||(()=>new p);this.records.set(p,Sa(v,hc));const x=c.providers;if(null!=x&&!m){const S=t;ts(x,k=>this.processProvider(k,S,x))}return void 0!==h&&void 0!==t.providers}processProvider(t,i,a){let c=Aa(t=ge(t))?t:ge(t&&t.provide);const h=function Xy(e,t,i){return kg(e)?Sa(void 0,e.useValue):Sa(function Og(e,t,i){let a;if(Aa(e)){const c=ge(e);return Ti(c)||Bf(c)}if(kg(e))a=()=>ge(e.useValue);else if(function qy(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Wo(e.deps||[]));else if(function Jy(e){return!(!e||!e.useExisting)}(e))a=()=>gn(ge(e.useExisting));else{const c=ge(e&&(e.useClass||e.provide));if(!function Zy(e){return!!e.deps}(e))return Ti(c)||Bf(c);a=()=>new c(...Wo(e.deps))}return a}(e),hc)}(t);if(Aa(t)||!0!==t.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Sa(void 0,hc,!0),p.factory=()=>Wo(p.multi),this.records.set(c,p)),c=t,p.multi.push(t)}this.records.set(c,h)}hydrate(t,i){return i.value===hc&&(i.value=Ky,i.value=i.factory()),"object"==typeof i.value&&i.value&&function e0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=ge(t.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Bf(e){const t=ws(e),i=null!==t?t.factory:Ti(e);if(null!==i)return i;if(e instanceof Ot)throw new we(204,!1);if(e instanceof Function)return function Yy(e){const t=e.length;if(t>0)throw function qr(e,t){const i=[];for(let a=0;a<e;a++)i.push(t);return i}(t,"?"),new we(204,!1);const i=function wi(e){const t=e&&(e[Ki]||e[xi]);if(t){const i=function Do(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new we(204,!1)}function Sa(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function kg(e){return null!==e&&"object"==typeof e&&ns in e}function Aa(e){return"function"==typeof e}let vi=(()=>{class e{static create(i,a){var c;if(Array.isArray(i))return Ig({name:""},a,i,"");{const h=null!==(c=i.name)&&void 0!==c?c:"";return Ig({name:h},i.parent,i.providers,h)}}}return e.THROW_IF_NOT_FOUND=ji,e.NULL=new Ir,e.\u0275prov=an({token:e,providedIn:"any",factory:()=>gn(Us)}),e.__NG_ELEMENT_ID__=-1,e})();function u0(e,t){Fo(Sl(e)[1],ht())}let Rd=null;function Ta(){if(!Rd){const e=pt.Symbol;if(e&&e.iterator)Rd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<t.length;++i){const a=t[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Rd=a)}}}return Rd}function fc(e){return!!Uf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ta()in e)}function Uf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bn(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function Pa(e,t,i,a){return Bn(e,sr(),i)?t+J(i)+a:Je}function sm(e,t,i,a,c,h,p,m){const v=Ee(),x=dt(),S=e+20,k=x.firstCreatePass?function D0(e,t,i,a,c,h,p,m,v){const x=t.consts,S=xr(t,e,4,p||null,rn(x,m));Ar(t,i,S,rn(x,v)),Fo(t,S);const k=S.tViews=Ea(2,S,a,c,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,x);return null!==t.queries&&(t.queries.template(t,S),k.queries=t.queries.embeddedTView(S)),S}(S,x,v,t,i,a,c,h,p):x.data[S];es(k,!1);const j=v[11].createComment("");da(x,v,j,k),En(j,v),Ce(v,v[S]=T(j,v,j,k)),nn(k)&&rc(x,v,k),null!=p&&oc(v,k,m)}function gc(e,t=Ge.Default){const i=Ee();return null===i?gn(e,t):su(ht(),i,ge(e),t)}function Gf(e,t,i){const a=Ee();return Bn(a,sr(),t)&&Ln(dt(),Dt(),a,e,t,a[11],i,!1),Gf}function Yf(e,t,i,a,c){const p=c?"class":"style";qn(e,i,t.inputs[p],p,a)}function Nd(e,t,i,a){const c=Ee(),h=dt(),p=20+e,m=c[11],v=c[p]=Nl(m,t,function oh(){return Xe.lFrame.currentNamespace}()),x=h.firstCreatePass?function z0(e,t,i,a,c,h,p){const m=t.consts,x=xr(t,e,2,c,rn(m,h));return Ar(t,i,x,rn(m,p)),null!==x.attrs&&Vs(x,x.attrs,!1),null!==x.mergedAttrs&&Vs(x,x.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,x),x}(p,h,c,0,t,i,a):h.data[p];es(x,!0);const S=x.mergedAttrs;null!==S&&Os(m,v,S);const k=x.classes;null!==k&&ga(m,v,k);const j=x.styles;return null!==j&&pa(m,v,j),64!=(64&x.flags)&&da(h,c,v,x),0===function Fc(){return Xe.lFrame.elementDepthCount}()&&En(v,c),function nh(){Xe.lFrame.elementDepthCount++}(),nn(x)&&(rc(h,c,x),function Id(e,t,i){if(cs(t)){const c=t.directiveEnd;for(let h=t.directiveStart;h<c;h++){const p=e.data[h];p.contentQueries&&p.contentQueries(1,i[h],h)}}}(h,x,c)),null!==a&&oc(c,x),Nd}function Bd(){let e=ht();tr()?function Po(){Xe.lFrame.isParent=!1}():(e=e.parent,es(e,!1));const t=e;!function Lc(){Xe.lFrame.elementDepthCount--}();const i=dt();return i.firstCreatePass&&(Fo(i,e),cs(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function $r(e){return 0!=(16&e.flags)}(t)&&Yf(i,t,Ee(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ch(e){return 0!=(32&e.flags)}(t)&&Yf(i,t,Ee(),t.stylesWithoutHost,!1),Bd}function Xf(e,t,i,a){return Nd(e,t,i,a),Bd(),Xf}function gm(){return Ee()}function Qf(e){return!!e&&"function"==typeof e.then}function mm(e){return!!e&&"function"==typeof e.subscribe}const K0=mm;function Zf(e,t,i,a){const c=Ee(),h=dt(),p=ht();return function ym(e,t,i,a,c,h,p,m){const v=nn(a),S=e.firstCreatePass&&Mt(e),k=t[8],j=Nn(t);let ee=!0;if(3&a.type||m){const Pe=Ye(a,t),je=m?m(Pe):Pe,be=j.length,We=m?ct=>m(Oe(ct[a.index])):a.index;if(W(i)){let ct=null;if(!m&&v&&(ct=function G0(e,t,i,a){const c=e.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const p=c[h];if(p===i&&c[h+1]===a){const m=t[7],v=c[h+2];return m.length>v?m[v]:null}"string"==typeof p&&(h+=2)}return null}(e,t,c,a.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=h,ct.__ngLastListenerFn__=h,ee=!1;else{h=ep(a,t,k,h,!1);const At=i.listen(je,c,h);j.push(h,At),S&&S.push(c,We,be,be+1)}}else h=ep(a,t,k,h,!0),je.addEventListener(c,h,p),j.push(h),S&&S.push(c,We,be,p)}else h=ep(a,t,k,h,!1);const me=a.outputs;let Ae;if(ee&&null!==me&&(Ae=me[c])){const Pe=Ae.length;if(Pe)for(let je=0;je<Pe;je+=2){const is=t[Ae[je]][Ae[je+1]].subscribe(h),bo=j.length;j.push(h,is),S&&S.push(c,a.index,bo,-(bo+1))}}}(h,c,c[11],p,e,t,!!i,a),Zf}function vm(e,t,i,a){try{return!1!==i(a)}catch(c){return Kt(e,c),!1}}function ep(e,t,i,a,c){return function h(p){if(p===Function)return a;const m=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&Me(m);let v=vm(t,0,a,p),x=h.__ngNextListenerFn__;for(;x;)v=vm(t,0,x,p)&&v,x=x.__ngNextListenerFn__;return c&&!1===v&&(p.preventDefault(),p.returnValue=!1),v}}function bm(e=1){return function Oi(e){return(Xe.lFrame.contextLView=function Kc(e,t){for(;e>0;)t=t[15],e--;return t}(e,Xe.lFrame.contextLView))[8]}(e)}function tp(e,t,i){return np(e,"",t,"",i),tp}function np(e,t,i,a,c){const h=Ee(),p=Pa(h,t,i,a);return p!==Je&&Ln(dt(),Dt(),h,e,p,h[11],c,!1),np}function zm(e,t=""){const i=Ee(),a=dt(),c=e+20,h=a.firstCreatePass?xr(a,c,1,t,null):a.data[c],p=i[c]=function co(e,t){return W(e)?e.createText(t):e.createTextNode(t)}(i[11],t);da(a,i,p,h),es(h,!1)}function ip(e){return rp("",e,""),ip}function rp(e,t,i){const a=Ee(),c=Pa(a,e,t,i);return c!==Je&&Ht(a,pn(),c),rp}const yo=void 0;var Rv=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kv(e){const i=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Va={};function op(e){const t=function Fv(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=d_(t);if(i)return i;const a=t.split("-")[0];if(i=d_(a),i)return i;if("en"===a)return Rv;throw new Error(`Missing locale data for the locale "${e}".`)}function u_(e){return op(e)[$e.PluralCase]}function d_(e){return e in Va||(Va[e]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[e]),Va[e]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const jd="en-US";let h_=jd;class N_{}class Nb{resolveComponentFactory(t){throw function Lb(e){const t=Error(`No component factory found for ${Q(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let $d=(()=>{class e{}return e.NULL=new Nb,e})();function Bb(){return Wa(ht(),Ee())}function Wa(e,t){return new Dc(Ye(e,t))}let Dc=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=Bb,e})();class H_{}let jb=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Ub(){const e=Ee(),i=yt(ht().index,e);return function Vb(e){return e[11]}(Kn(i)?i:e)}(),e})(),Wb=(()=>{class e{}return e.\u0275prov=an({token:e,providedIn:"root",factory:()=>null}),e})();class j_{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zb=new j_("13.3.3"),fp={};function Kd(e,t,i,a,c=!1){for(;null!==i;){const h=t[i.index];if(null!==h&&a.push(Oe(h)),Cn(h))for(let m=10;m<h.length;m++){const v=h[m],x=v[1].firstChild;null!==x&&Kd(v[1],v,x,a)}const p=i.type;if(8&p)Kd(e,t,i.child,a);else if(32&p){const m=mi(i,t);let v;for(;v=m();)a.push(v)}else if(16&p){const m=cd(t,i);if(Array.isArray(m))a.push(...m);else{const v=lo(t[16]);Kd(v[1],v,m,a,!0)}}i=c?i.projectionNext:i.next}return a}class Ec{constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,i=t[1];return Kd(i,t,i.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Cn(t)){const i=t[8],a=i?i.indexOf(this):-1;a>-1&&(Bl(t,a),Jr(i,a))}this._attachedToViewContainer=!1}td(this._lView[1],this._lView)}onDestroy(t){!function cc(e,t,i,a){const c=Nn(t);null===i?c.push(a):(c.push(i),e.firstCreatePass&&Mt(e).push(a,c.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Me(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fe(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ze(e,t,i){Ur(!0);try{Fe(e,t,i)}finally{Ur(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new we(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _i(e,t){ho(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,"");this._appRef=t}}class $b extends Ec{constructor(t){super(t),this._view=t}detectChanges(){Be(this._view)}checkNoChanges(){!function st(e){Ur(!0);try{Be(e)}finally{Ur(!1)}}(this._view)}get context(){return null}}class V_ extends $d{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=un(t);return new pp(i,this.ngModule)}}function U_(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class pp extends N_{constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function mf(e){return e.map(gf).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return U_(this.componentDef.inputs)}get outputs(){return U_(this.componentDef.outputs)}create(t,i,a,c){const h=(c=c||this.ngModule)?function Gb(e,t){return{get:(i,a,c)=>{const h=e.get(i,fp,c);return h!==fp||a===fp?h:t.get(i,a,c)}}}(t,c.injector):t,p=h.get(H_,_e),m=h.get(Wb,null),v=p.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",S=a?function An(e,t,i){if(W(e))return e.selectRootElement(t,i===it.ShadowDom);let a="string"==typeof t?e.querySelector(t):t;return a.textContent="",a}(v,a,this.componentDef.encapsulation):Nl(p.createRenderer(null,this.componentDef),x,function Kb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(x)),k=this.componentDef.onPush?576:528,j=function zg(e,t){return{components:[],scheduler:e||Xu,clean:mn,playerHandler:t||null,flags:0}}(),ee=Ea(0,null,null,1,0,null,null,null,null,null),me=wr(null,ee,j,k,null,null,p,v,m,h);let Ae,Pe;or(me);try{const je=function Ug(e,t,i,a,c,h){const p=i[1];i[20]=e;const v=xr(p,20,2,"#host",null),x=v.mergedAttrs=t.hostAttrs;null!==x&&(Vs(v,x,!0),null!==e&&(Os(c,e,x),null!==v.classes&&ga(c,e,v.classes),null!==v.styles&&pa(c,e,v.styles)));const S=a.createRenderer(e,t),k=wr(i,ac(t),null,t.onPush?64:16,i[20],v,a,S,h||null,null);return p.firstCreatePass&&(ks(cr(v,i),p,t.type),n(p,v),l(v,i.length,1)),Ce(i,k),i[20]=k}(S,this.componentDef,me,p,v);if(S)if(a)Os(v,S,["ng-version",zb.full]);else{const{attrs:be,classes:We}=function _f(e){const t=[],i=[];let a=1,c=2;for(;a<e.length;){let h=e[a];if("string"==typeof h)2===c?""!==h&&t.push(h,e[++a]):8===c&&i.push(h);else{if(!ss(c))break;c=h}a++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);be&&Os(v,S,be),We&&We.length>0&&ga(v,S,We.join(" "))}if(Pe=Ct(ee,20),void 0!==i){const be=Pe.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const ct=i[We];be.push(null!=ct?Array.from(ct):null)}}Ae=function Wg(e,t,i,a,c){const h=i[1],p=function Of(e,t,i){const a=ht();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),u(e,a,t,Cr(e,t,1,null),i));const c=Ni(t,e,a.directiveStart,a);En(c,t);const h=Ye(a,t);return h&&En(h,t),c}(h,i,t);if(a.components.push(p),e[8]=p,c&&c.forEach(v=>v(p,t)),t.contentQueries){const v=ht();t.contentQueries(1,p,v.directiveStart)}const m=ht();return!h.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ps(m.index),kd(i[1],m,0,m.directiveStart,m.directiveEnd,t),Lf(t,p)),p}(je,this.componentDef,me,j,[u0]),mo(ee,me,null)}finally{Oo()}return new Xb(this.componentType,Ae,Wa(Pe,me),me,Pe)}}class Xb extends class Fb{}{constructor(t,i,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=i,this.hostView=this.changeDetectorRef=new $b(c),this.componentType=t}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class za{}const $a=new Map;class $_ extends za{constructor(t,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new V_(this);const a=vn(t);this._bootstrapComponents=Vn(a.bootstrap),this._r3Injector=Pg(t,i,[{provide:za,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],Q(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,i=vi.THROW_IF_NOT_FOUND,a=Ge.Default){return t===vi||t===za||t===Us?this:this._r3Injector.get(t,i,a)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gp extends class qb{}{constructor(t){super(),this.moduleType=t,null!==vn(t)&&function Qb(e){const t=new Set;!function i(a){const c=vn(a,!0),h=c.id;null!==h&&(function W_(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${Q(t)} vs ${Q(t.name)}`)}(h,$a.get(h),a),$a.set(h,a));const p=Vn(c.imports);for(const m of p)t.has(m)||(t.add(m),i(m))}(e)}(t)}create(t){return new $_(this.moduleType,t)}}function mp(e){return t=>{setTimeout(e,void 0,t)}}const zi=class mD extends b.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,a){var c,h,p;let m=t,v=i||(()=>null),x=a;if(t&&"object"==typeof t){const k=t;m=null===(c=k.next)||void 0===c?void 0:c.bind(k),v=null===(h=k.error)||void 0===h?void 0:h.bind(k),x=null===(p=k.complete)||void 0===p?void 0:p.bind(k)}this.__isAsync&&(v=mp(v),m&&(m=mp(m)),x&&(x=mp(x)));const S=super.subscribe({next:m,error:v,complete:x});return t instanceof C.w0&&t.add(S),S}};Symbol;let Cc=(()=>{class e{}return e.__NG_ELEMENT_ID__=bD,e})();const yD=Cc,vD=class extends yD{constructor(t,i,a){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(t){const i=this._declarationTContainer.tViews,a=wr(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(i)),mo(i,a,t),new Ec(a)}};function bD(){return function Gd(e,t){return 4&e.type?new vD(t,e,Wa(e,t)):null}(ht(),Ee())}let Yd=(()=>{class e{}return e.__NG_ELEMENT_ID__=DD,e})();function DD(){return function Z_(e,t){let i;const a=t[e.index];if(Cn(a))i=a;else{let c;if(8&e.type)c=Oe(a);else{const h=t[11];c=h.createComment("");const p=Ye(e,t);ys(h,uo(h,p),c,function rd(e,t){return W(e)?e.nextSibling(t):t.nextSibling}(h,p),!1)}t[e.index]=i=T(a,t,c,e),Ce(t,i)}return new q_(i,e,t)}(ht(),Ee())}const ED=Yd,q_=class extends ED{constructor(t,i,a){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=a}get element(){return Wa(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bo(this._hostTNode,this._hostLView);if(Jc(t)){const i=Li(t,this._hostLView),a=lr(t);return new ur(i[1].data[a+8],i)}return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=Q_(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,i,a){const c=t.createEmbeddedView(i||{});return this.insert(c,a),c}createComponent(t,i,a,c,h){const p=t&&!function pr(e){return"function"==typeof e}(t);let m;if(p)m=i;else{const k=i||{};m=k.index,a=k.injector,c=k.projectableNodes,h=k.ngModuleRef}const v=p?t:new pp(un(t)),x=a||this.parentInjector;if(!h&&null==v.ngModule){const j=(p?x:this.parentInjector).get(za,null);j&&(h=j)}const S=v.create(x,c,void 0,h);return this.insert(S.hostView,m),S}insert(t,i){const a=t._lView,c=a[1];if(function oi(e){return Cn(e[3])}(a)){const S=this.indexOf(t);if(-1!==S)this.detach(S);else{const k=a[3],j=new q_(k,k[6],k[3]);j.detach(j.indexOf(t))}}const h=this._adjustIndex(i),p=this._lContainer;!function la(e,t,i,a){const c=10+a,h=i.length;a>0&&(i[c-1][4]=t),a<h-10?(t[4]=i[c],au(i,10+a,t)):(i.push(t),t[4]=null),t[3]=i;const p=t[17];null!==p&&i!==p&&function ed(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(p,t);const m=t[19];null!==m&&m.insertView(e),t[2]|=128}(c,a,p,h);const m=Wl(h,p),v=a[11],x=uo(v,p[7]);return null!==x&&function nf(e,t,i,a,c,h){a[0]=c,a[6]=t,ho(e,a,i,1,c,h)}(c,p[6],v,a,x,m),t.attachToViewContainerRef(),au(yp(p),h,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=Q_(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),a=Bl(this._lContainer,i);a&&(Jr(yp(this._lContainer),i),td(a[1],a))}detach(t){const i=this._adjustIndex(t,-1),a=Bl(this._lContainer,i);return a&&null!=Jr(yp(this._lContainer),i)?new Ec(a):null}_adjustIndex(t,i=0){return null==t?this.length+i:t}};function Q_(e){return e[8]}function yp(e){return e[8]||(e[8]=[])}function qd(...e){}const Dy=new Ot("Application Initializer");let Tp=(()=>{class e{constructor(i){this.appInits=i,this.resolve=qd,this.reject=qd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Qf(h))i.push(h);else if(K0(h)){const p=new Promise((m,v)=>{h.subscribe({complete:m,error:v})});i.push(p)}}Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}}return e.\u0275fac=function(i){return new(i||e)(gn(Dy,8))},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ey=new Ot("AppId",{providedIn:"root",factory:function wy(){return`${Ip()}${Ip()}${Ip()}`}});function Ip(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xy=new Ot("Platform Initializer"),QD=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZD=new Ot("appBootstrapListener"),Pp=new Ot("LocaleId",{providedIn:"root",factory:()=>vu(Pp,Ge.Optional|Ge.SkipSelf)||function eE(){return"undefined"!=typeof $localize&&$localize.locale||jd}()}),tE=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),iE=(()=>Promise.resolve(0))();function Op(e){"undefined"==typeof Zone?iE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Gs{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rE(){let e=pt.requestAnimationFrame,t=pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function lE(e){const t=()=>{!function aE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rp(e),e.isCheckStableRunning=!0,kp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,h,p,m)=>{try{return Cy(e),i.invokeTask(c,h,p,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),My(e)}},onInvoke:(i,a,c,h,p,m,v)=>{try{return Cy(e),i.invoke(c,h,p,m,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),My(e)}},onHasTask:(i,a,c,h)=>{i.hasTask(c,h),a===c&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,Rp(e),kp(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,c,h)=>(i.handleError(c,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,i,a){return this._inner.run(t,i,a)}runTask(t,i,a,c){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+c,t,oE,qd,qd);try{return h.runTask(p,i,a)}finally{h.cancelTask(p)}}runGuarded(t,i,a){return this._inner.runGuarded(t,i,a)}runOutsideAngular(t){return this._outer.run(t)}}const oE={};function kp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Cy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function My(e){e._nesting--,kp(e)}class cE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(t,i,a){return t.apply(i,a)}runGuarded(t,i,a){return t.apply(i,a)}runOutsideAngular(t){return t()}runTask(t,i,a,c){return t.apply(i,a)}}let Sy=(()=>{class e{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),Op(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Op(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,a,c){return[]}}return e.\u0275fac=function(i){return new(i||e)(gn(Gs))},e.\u0275prov=an({token:e,factory:e.\u0275fac}),e})(),uE=(()=>{class e{constructor(){this._applications=new Map,Fp.addToWindow(this)}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return Fp.findTestabilityInTree(this,i,a)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class dE{addToWindow(t){}findTestabilityInTree(t,i,a){return null}}function hE(e){Fp=e}let Ys,Fp=new dE;const Ay=new Ot("AllowMultipleToken");function Ty(e,t,i=[]){const a=`Platform: ${t}`,c=new Ot(a);return(h=[])=>{let p=Iy();if(!p||p.injector.get(Ay,!1))if(e)e(i.concat(h).concat({provide:c,useValue:!0}));else{const m=i.concat(h).concat({provide:c,useValue:!0},{provide:Ws,useValue:"platform"});!function gE(e){if(Ys&&!Ys.destroyed&&!Ys.injector.get(Ay,!1))throw new we(400,"");Ys=e.get(_E);const t=e.get(xy,null);t&&t.forEach(i=>i())}(vi.create({providers:m,name:a}))}return function mE(e){const t=Iy();if(!t)throw new we(401,"");return t}()}}function Iy(){return Ys&&!Ys.destroyed?Ys:null}let _E=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const m=function yE(e,t){let i;return i="noop"===e?new cE:("zone.js"===e?void 0:e)||new Gs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),v=[{provide:Gs,useValue:m}];return m.run(()=>{const x=vi.create({providers:v,parent:this.injector,name:i.moduleType.name}),S=i.create(x),k=S.injector.get(pi,null);if(!k)throw new we(402,"");return m.runOutsideAngular(()=>{const j=m.onError.subscribe({next:ee=>{k.handleError(ee)}});S.onDestroy(()=>{Lp(this._modules,S),j.unsubscribe()})}),function vE(e,t,i){try{const a=i();return Qf(a)?a.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(k,m,()=>{const j=S.injector.get(Tp);return j.runInitializers(),j.donePromise.then(()=>(function Hv(e){Bt(e,"Expected localeId to be defined"),"string"==typeof e&&(h_=e.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Pp,jd)||jd),this._moduleDoBootstrap(S),S))})})}bootstrapModule(i,a=[]){const c=Py({},a);return function fE(e,t,i){const a=new gp(i);return Promise.resolve(a)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const a=i.injector.get(Oy);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new we(403,"");i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(i){return new(i||e)(gn(vi))},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Py(e,t){return Array.isArray(t)?t.reduce(Py,e):Object.assign(Object.assign({},e),t)}let Oy=(()=>{class e{constructor(i,a,c,h){this._zone=i,this._injector=a,this._exceptionHandler=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new I.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new I.y(v=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),Op(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{x.unsubscribe(),S.unsubscribe()}});this.isStable=(0,L.T)(p,m.pipe(function G(e={}){const{connector:t=(()=>new b.x),resetOnError:i=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=e;return h=>{let p=null,m=null,v=null,x=0,S=!1,k=!1;const j=()=>{null==m||m.unsubscribe(),m=null},ee=()=>{j(),p=v=null,S=k=!1},me=()=>{const Ae=p;ee(),null==Ae||Ae.unsubscribe()};return(0,de.e)((Ae,Pe)=>{x++,!k&&!S&&j();const je=v=null!=v?v:t();Pe.add(()=>{x--,0===x&&!k&&!S&&(m=te(me,c))}),je.subscribe(Pe),p||(p=new se.Hp({next:be=>je.next(be),error:be=>{k=!0,j(),m=te(ee,i,be),je.error(be)},complete:()=>{S=!0,j(),m=te(ee,a),je.complete()}}),(0,P.D)(Ae).subscribe(p))})(h)}}()))}bootstrap(i,a){if(!this._initStatus.done)throw new we(405,"");let c;c=i instanceof N_?i:this._injector.get($d).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const h=function pE(e){return e.isBoundToModule}(c)?void 0:this._injector.get(za),m=c.create(vi.NULL,[],a||c.selector,h),v=m.location.nativeElement,x=m.injector.get(Sy,null),S=x&&m.injector.get(uE);return x&&S&&S.registerApplication(v,x),m.onDestroy(()=>{this.detachView(m.hostView),Lp(this.components,m),S&&S.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new we(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;Lp(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(ZD,[]).concat(this._bootstrapListeners).forEach(c=>c(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(i){return new(i||e)(gn(Gs),gn(vi),gn(pi),gn(Tp))},e.\u0275prov=an({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Lp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}let Ry=!0;function DE(){Ry=!1}let EE=(()=>{class e{}return e.__NG_ELEMENT_ID__=wE,e})();function wE(e){return function xE(e,t,i){if(Fr(e)&&!i){const a=yt(e.index,t);return new Ec(a,a)}return 47&e.type?new Ec(t[16],t):null}(ht(),Ee(),16==(16&e))}class Hy{constructor(){}supports(t){return fc(t)}create(t){return new IE(t)}}const TE=(e,t)=>t;class IE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||TE}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,a=this._removalsHead,c=0,h=null;for(;i||a;){const p=!a||i&&i.currentIndex<Vy(a,c,h)?i:a,m=Vy(p,c,h),v=p.currentIndex;if(p===a)c--,a=a._nextRemoved;else if(i=i._next,null==p.previousIndex)c++;else{h||(h=[]);const x=m-c,S=v-c;if(x!=S){for(let j=0;j<x;j++){const ee=j<h.length?h[j]:h[j]=0,me=ee+j;S<=me&&me<x&&(h[j]=ee+1)}h[p.previousIndex]=S-x}}m!==v&&t(p,m,v)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!fc(t))throw new we(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,h,p,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)h=t[m],p=this._trackByFn(m,h),null!==i&&Object.is(i.trackById,p)?(a&&(i=this._verifyReinsertion(i,h,p,m)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,p,m),a=!0),i=i._next}else c=0,function b0(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Ta()]();let a;for(;!(a=i.next()).done;)t(a.value)}}(t,m=>{p=this._trackByFn(c,m),null!==i&&Object.is(i.trackById,p)?(a&&(i=this._verifyReinsertion(i,m,p,c)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,p,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,a,c){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,h,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,h,c)):t=this._addAfter(new PE(i,a),h,c),t}_verifyReinsertion(t,i,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?t=this._reinsertAfter(h,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,h=t._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(t,i,a),this._addToMoves(t,a),t}_moveAfter(t,i,a){return this._unlink(t),this._insertAfter(t,i,a),this._addToMoves(t,a),t}_addAfter(t,i,a){return this._insertAfter(t,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,a){const c=null===i?this._itHead:i._next;return t._next=c,t._prev=i,null===c?this._itTail=t:c._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new jy),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,a=t._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class PE{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const i=t._prevDup,a=t._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class jy{constructor(){this.map=new Map}put(t){const i=t.trackById;let a=this.map.get(i);a||(a=new OE,this.map.set(i,a)),a.add(t)}get(t,i){const c=this.map.get(t);return c?c.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vy(e,t,i){const a=e.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+t+c}class Uy{constructor(){}supports(t){return t instanceof Map||Uf(t)}create(){return new kE}}class kE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Uf(t)))throw new we(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const a=t._prev;return i._next=t,i._prev=a,t._prev=i,a&&(a._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,i);const h=c._prev,p=c._next;return h&&(h._next=p),p&&(p._prev=h),c._next=null,c._prev=null,c}const a=new RE(t);return this._records.set(t,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(a=>i(t[a],a))}}class RE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wy(){return new Vp([new Hy])}let Vp=(()=>{class e{constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:a=>e.create(i,a||Wy()),deps:[[e,new Ko,new $o]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new we(901,"")}}return e.\u0275prov=an({token:e,providedIn:"root",factory:Wy}),e})();function zy(){return new Up([new Uy])}let Up=(()=>{class e{constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new e(i)}static extend(i){return{provide:e,useFactory:a=>e.create(i,a||zy()),deps:[[e,new Ko,new $o]]}}find(i){const a=this.factories.find(h=>h.supports(i));if(a)return a;throw new we(901,"")}}return e.\u0275prov=an({token:e,providedIn:"root",factory:zy}),e})();const NE=Ty(null,"core",[]);let BE=(()=>{class e{constructor(i){}}return e.\u0275fac=function(i){return new(i||e)(gn(Oy))},e.\u0275mod=Xi({type:e}),e.\u0275inj=Xs({}),e})()},6114:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ct:()=>OAuthService,zr:()=>OAuthModule});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4893),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9808),_angular_common_http__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6529),tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(655),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2076),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(102),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2843),rxjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5121),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6451),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8505),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3593),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(7826),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(5577),fast_sha256__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1302);class DateTimeProvider{}let SystemDateTimeProvider=(()=>{class F extends DateTimeProvider{now(){return Date.now()}new(){return new Date}}return F.\u0275fac=function(){let B;return function(b){return(B||(B=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(F)))(b||F)}}(),F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})();class LoginOptions{constructor(){this.disableNonceCheck=!1,this.preventClearHashAfterLogin=!1}}class OAuthLogger{}class OAuthStorage{}let MemoryStorage=(()=>{class F{constructor(){this.data=new Map}getItem(_){return this.data.get(_)}removeItem(_){this.data.delete(_)}setItem(_,b){this.data.set(_,b)}}return F.\u0275fac=function(_){return new(_||F)},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})();class ReceivedTokens{}class OAuthEvent{constructor(B){this.type=B}}class OAuthSuccessEvent extends OAuthEvent{constructor(B,_=null){super(B),this.info=_}}class OAuthInfoEvent extends OAuthEvent{constructor(B,_=null){super(B),this.info=_}}class OAuthErrorEvent extends OAuthEvent{constructor(B,_,b=null){super(B),this.reason=_,this.params=b}}function b64DecodeUnicode(F){const B=F.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(B).split("").map(function(_){return"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function base64UrlEncode(F){return btoa(F).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class AuthConfig{constructor(B){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.openUri=_=>{location.href=_},B&&Object.assign(this,B)}}class WebHttpUrlEncodingCodec{encodeKey(B){return encodeURIComponent(B)}encodeValue(B){return encodeURIComponent(B)}decodeKey(B){return decodeURIComponent(B)}decodeValue(B){return decodeURIComponent(B)}}class ValidationHandler{}class AbstractValidationHandler{validateAtHash(B){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){let _=this.inferHashAlgorithm(B.idTokenHeader),b=yield this.calcHash(B.accessToken,_),I=base64UrlEncode(b.substr(0,b.length/2)),L=B.idTokenClaims.at_hash.replace(/=/g,"");return I!==L&&(console.error("exptected at_hash: "+I),console.error("actual at_hash: "+L)),I===L})}inferHashAlgorithm(B){let _=B.alg;if(!_.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+_);return"sha-"+_.substr(2)}}let UrlHelperService=(()=>{class F{getHashFragmentParams(_){let b=_||window.location.hash;if(b=decodeURIComponent(b),0!==b.indexOf("#"))return{};const C=b.indexOf("?");return b=b.substr(C>-1?C+1:1),this.parseQueryString(b)}parseQueryString(_){const b={};let C,I,L,P,Y,se,de;if(null===_)return b;C=_.split("&");for(let G=0;G<C.length;G++)I=C[G],L=I.indexOf("="),-1===L?(P=I,Y=null):(P=I.substr(0,L),Y=I.substr(L+1)),se=decodeURIComponent(P),de=decodeURIComponent(Y),"/"===se.substr(0,1)&&(se=se.substr(1)),b[se]=de;return b}}return F.\u0275fac=function(_){return new(_||F)},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})();function factory(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer;const HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(F){return"[object Array]"===Object.prototype.toString.call(F)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(F){return"object"==typeof F&&F.buffer&&F.buffer.constructor===ArrayBuffer});var createOutputMethod=function(F,B){return function(_){return new Sha256(B,!0).update(_)[F]()}},createMethod=function(F){var B=createOutputMethod("hex",F);NODE_JS&&(B=nodeWrap(B,F)),B.create=function(){return new Sha256(F)},B.update=function(C){return B.create().update(C)};for(var _=0;_<OUTPUT_TYPES.length;++_){var b=OUTPUT_TYPES[_];B[b]=createOutputMethod(b,F)}return B},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(F){if("string"==typeof F)return crypto.createHash(algorithm).update(F,"utf8").digest("hex");if(null==F)throw new Error(ERROR);return F.constructor===ArrayBuffer&&(F=new Uint8Array(F)),Array.isArray(F)||ArrayBuffer.isView(F)||F.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(F)).digest("hex"):method(F)};return nodeMethod},createHmacOutputMethod=function(F,B){return function(_,b){return new HmacSha256(_,B,!0).update(b)[F]()}},createHmacMethod=function(F){var B=createHmacOutputMethod("hex",F);B.create=function(C){return new HmacSha256(C,F)},B.update=function(C,I){return B.create(C).update(I)};for(var _=0;_<OUTPUT_TYPES.length;++_){var b=OUTPUT_TYPES[_];B[b]=createHmacOutputMethod(b,F)}return B};function Sha256(F,B){B?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=F}function HmacSha256(F,B,_){var b,C=typeof F;if("string"===C){var Y,I=[],L=F.length,P=0;for(b=0;b<L;++b)(Y=F.charCodeAt(b))<128?I[P++]=Y:Y<2048?(I[P++]=192|Y>>6,I[P++]=128|63&Y):Y<55296||Y>=57344?(I[P++]=224|Y>>12,I[P++]=128|Y>>6&63,I[P++]=128|63&Y):(Y=65536+((1023&Y)<<10|1023&F.charCodeAt(++b)),I[P++]=240|Y>>18,I[P++]=128|Y>>12&63,I[P++]=128|Y>>6&63,I[P++]=128|63&Y);F=I}else{if("object"!==C)throw new Error(ERROR);if(null===F)throw new Error(ERROR);if(ARRAY_BUFFER&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!(Array.isArray(F)||ARRAY_BUFFER&&ArrayBuffer.isView(F)))throw new Error(ERROR)}F.length>64&&(F=new Sha256(B,!0).update(F).array());var se=[],de=[];for(b=0;b<64;++b){var G=F[b]||0;se[b]=92^G,de[b]=54^G}Sha256.call(this,B,_),this.update(de),this.oKeyPad=se,this.inner=!0,this.sharedMemory=_}Sha256.prototype.update=function(F){if(!this.finalized){var B,_=typeof F;if("string"!==_){if("object"!==_)throw new Error(ERROR);if(null===F)throw new Error(ERROR);if(ARRAY_BUFFER&&F.constructor===ArrayBuffer)F=new Uint8Array(F);else if(!(Array.isArray(F)||ARRAY_BUFFER&&ArrayBuffer.isView(F)))throw new Error(ERROR);B=!0}for(var b,I,C=0,L=F.length,P=this.blocks;C<L;){if(this.hashed&&(this.hashed=!1,P[0]=this.block,P[16]=P[1]=P[2]=P[3]=P[4]=P[5]=P[6]=P[7]=P[8]=P[9]=P[10]=P[11]=P[12]=P[13]=P[14]=P[15]=0),B)for(I=this.start;C<L&&I<64;++C)P[I>>2]|=F[C]<<SHIFT[3&I++];else for(I=this.start;C<L&&I<64;++C)(b=F.charCodeAt(C))<128?P[I>>2]|=b<<SHIFT[3&I++]:b<2048?(P[I>>2]|=(192|b>>6)<<SHIFT[3&I++],P[I>>2]|=(128|63&b)<<SHIFT[3&I++]):b<55296||b>=57344?(P[I>>2]|=(224|b>>12)<<SHIFT[3&I++],P[I>>2]|=(128|b>>6&63)<<SHIFT[3&I++],P[I>>2]|=(128|63&b)<<SHIFT[3&I++]):(b=65536+((1023&b)<<10|1023&F.charCodeAt(++C)),P[I>>2]|=(240|b>>18)<<SHIFT[3&I++],P[I>>2]|=(128|b>>12&63)<<SHIFT[3&I++],P[I>>2]|=(128|b>>6&63)<<SHIFT[3&I++],P[I>>2]|=(128|63&b)<<SHIFT[3&I++]);this.lastByteIndex=I,this.bytes+=I-this.start,I>=64?(this.block=P[16],this.start=I-64,this.hash(),this.hashed=!0):this.start=I}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var F=this.blocks,B=this.lastByteIndex;F[16]=this.block,F[B>>2]|=EXTRA[3&B],this.block=F[16],B>=56&&(this.hashed||this.hash(),F[0]=this.block,F[16]=F[1]=F[2]=F[3]=F[4]=F[5]=F[6]=F[7]=F[8]=F[9]=F[10]=F[11]=F[12]=F[13]=F[14]=F[15]=0),F[14]=this.hBytes<<3|this.bytes>>>29,F[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var se,N,V,fe,oe,ge,F=this.h0,B=this.h1,_=this.h2,b=this.h3,C=this.h4,I=this.h5,L=this.h6,P=this.h7,Y=this.blocks;for(se=16;se<64;++se)Y[se]=Y[se-16]+(((N=Y[se-15])>>>7|N<<25)^(N>>>18|N<<14)^N>>>3)+Y[se-7]+(((N=Y[se-2])>>>17|N<<15)^(N>>>19|N<<13)^N>>>10)<<0;for(ge=B&_,se=0;se<64;se+=4)this.first?(this.is224?(V=300032,P=(N=Y[0]-1413257819)-150054599<<0,b=N+24177077<<0):(V=704751109,P=(N=Y[0]-210244248)-1521486534<<0,b=N+143694565<<0),this.first=!1):(P=b+(N=P+((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&I^~C&L)+K[se]+Y[se])<<0,b=N+(((F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10))+((V=F&B)^F&_^ge))<<0),L=_+(N=L+((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&C^~P&I)+K[se+1]+Y[se+1])<<0,_=N+(((b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10))+((fe=b&F)^b&B^V))<<0,I=B+(N=I+((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&P^~L&C)+K[se+2]+Y[se+2])<<0,B=N+(((_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10))+((oe=_&b)^_&F^fe))<<0,C=F+(N=C+((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&L^~I&P)+K[se+3]+Y[se+3])<<0,F=N+(((B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10))+((ge=B&_)^B&b^oe))<<0;this.h0=this.h0+F<<0,this.h1=this.h1+B<<0,this.h2=this.h2+_<<0,this.h3=this.h3+b<<0,this.h4=this.h4+C<<0,this.h5=this.h5+I<<0,this.h6=this.h6+L<<0,this.h7=this.h7+P<<0},Sha256.prototype.hex=function(){this.finalize();var F=this.h0,B=this.h1,_=this.h2,b=this.h3,C=this.h4,I=this.h5,L=this.h6,P=this.h7,Y=HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[15&F]+HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[15&B]+HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[15&_]+HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[15&b]+HEX_CHARS[C>>28&15]+HEX_CHARS[C>>24&15]+HEX_CHARS[C>>20&15]+HEX_CHARS[C>>16&15]+HEX_CHARS[C>>12&15]+HEX_CHARS[C>>8&15]+HEX_CHARS[C>>4&15]+HEX_CHARS[15&C]+HEX_CHARS[I>>28&15]+HEX_CHARS[I>>24&15]+HEX_CHARS[I>>20&15]+HEX_CHARS[I>>16&15]+HEX_CHARS[I>>12&15]+HEX_CHARS[I>>8&15]+HEX_CHARS[I>>4&15]+HEX_CHARS[15&I]+HEX_CHARS[L>>28&15]+HEX_CHARS[L>>24&15]+HEX_CHARS[L>>20&15]+HEX_CHARS[L>>16&15]+HEX_CHARS[L>>12&15]+HEX_CHARS[L>>8&15]+HEX_CHARS[L>>4&15]+HEX_CHARS[15&L];return this.is224||(Y+=HEX_CHARS[P>>28&15]+HEX_CHARS[P>>24&15]+HEX_CHARS[P>>20&15]+HEX_CHARS[P>>16&15]+HEX_CHARS[P>>12&15]+HEX_CHARS[P>>8&15]+HEX_CHARS[P>>4&15]+HEX_CHARS[15&P]),Y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var F=this.h0,B=this.h1,_=this.h2,b=this.h3,C=this.h4,I=this.h5,L=this.h6,P=this.h7,Y=[F>>24&255,F>>16&255,F>>8&255,255&F,B>>24&255,B>>16&255,B>>8&255,255&B,_>>24&255,_>>16&255,_>>8&255,255&_,b>>24&255,b>>16&255,b>>8&255,255&b,C>>24&255,C>>16&255,C>>8&255,255&C,I>>24&255,I>>16&255,I>>8&255,255&I,L>>24&255,L>>16&255,L>>8&255,255&L];return this.is224||Y.push(P>>24&255,P>>16&255,P>>8&255,255&P),Y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var F=new ArrayBuffer(this.is224?28:32),B=new DataView(F);return B.setUint32(0,this.h0),B.setUint32(4,this.h1),B.setUint32(8,this.h2),B.setUint32(12,this.h3),B.setUint32(16,this.h4),B.setUint32(20,this.h5),B.setUint32(24,this.h6),this.is224||B.setUint32(28,this.h7),F},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var F=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(F),Sha256.prototype.finalize.call(this)}};var exports=createMethod();return exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),exports}const sha256=factory();class HashHandler{}function decodeUTF8(F){if("string"!=typeof F)throw new TypeError("expected string");var B,_=F,b=new Uint8Array(_.length);for(B=0;B<_.length;B++)b[B]=_.charCodeAt(B);return b}function encodeUTF8(F){var B,_=[];for(B=0;B<F.length;B++)_.push(String.fromCharCode(F[B]));return _.join("")}let DefaultHashHandler=(()=>{class F{calcHash(_,b){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){return encodeUTF8(fast_sha256__WEBPACK_IMPORTED_MODULE_0__(decodeUTF8(_)))})}toHashString2(_){let b="";for(let C of _)b+=String.fromCharCode(C);return b}toHashString(_){const b=new Uint8Array(_);let C="";for(let I of b)C+=String.fromCharCode(I);return C}}return F.\u0275fac=function(_){return new(_||F)},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})(),OAuthService=(()=>{class F extends AuthConfig{constructor(_,b,C,I,L,P,Y,se,de,G){var te;super(),this.ngZone=_,this.http=b,this.config=L,this.urlHelper=P,this.logger=Y,this.crypto=se,this.dateTimeService=G,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.x,this.discoveryDocumentLoadedSubject=new rxjs__WEBPACK_IMPORTED_MODULE_3__.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=de,L||(L={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),I&&(this.tokenValidationHandler=I),L&&this.configure(L);try{C?this.setStorage(C):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(N){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",N)}if(this.checkLocalStorageAccessable()){const N=null===(te=null==window?void 0:window.navigator)||void 0===te?void 0:te.userAgent;((null==N?void 0:N.includes("MSIE "))||(null==N?void 0:N.includes("Trident")))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if("undefined"==typeof window)return!1;const _="test";try{return void 0!==window.localStorage&&(localStorage.setItem(_,_),localStorage.removeItem(_),!0)}catch(b){return!1}}configure(_){Object.assign(this,new AuthConfig,_),this.config=Object.assign({},new AuthConfig,_),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(_=>"token_received"===_.type)).subscribe(_=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(_={},b,C=!0){let I=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(L=>{"token_received"===L.type?I=!0:"logout"===L.type&&(I=!1)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(L=>"token_expires"===L.type&&(null==b||"any"===b||L.info===b)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.b)(1e3)).subscribe(L=>{I&&this.refreshInternal(_,C).catch(P=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(_,b){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(_,b):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(_=null){return this.loadDiscoveryDocument().then(b=>this.tryLogin(_))}loadDiscoveryDocumentAndLogin(_=null){return this.loadDiscoveryDocumentAndTryLogin(_=_||{}).then(b=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof _.state?_.state:""),!1))}debug(..._){this.showDebugInformation&&this.logger.debug.apply(this.logger,_)}validateUrlFromDiscoveryDocument(_){const b=[],C=this.validateUrlForHttps(_),I=this.validateUrlAgainstIssuer(_);return C||b.push("https for all urls required. Also for urls received by discovery."),I||b.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),b}validateUrlForHttps(_){if(!_)return!0;const b=_.toLowerCase();return!(!1!==this.requireHttps&&(!b.match(/^http:\/\/localhost($|[:\/])/)&&!b.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||b.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(_,b){if(!_)throw new Error(`'${b}' should not be null`);if(!this.validateUrlForHttps(_))throw new Error(`'${b}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(_){return!this.strictDiscoveryDocumentValidation||!_||_.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(_=>"token_received"===_.type)).subscribe(_=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const _=this.getAccessTokenExpiration(),b=this.getAccessTokenStoredAt(),C=this.calcTimeout(b,_);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","access_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(C)).subscribe(I=>{this.ngZone.run(()=>{this.eventsSubject.next(I)})})})}setupIdTokenTimer(){const _=this.getIdTokenExpiration(),b=this.getIdTokenStoredAt(),C=this.calcTimeout(b,_);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthInfoEvent("token_expires","id_token")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(C)).subscribe(I=>{this.ngZone.run(()=>{this.eventsSubject.next(I)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(_,b){const C=this.dateTimeService.now();return Math.max(0,(b-_)*this.timeoutFactor-(C-_))}setStorage(_){this._storage=_,this.configChanged()}loadDiscoveryDocument(_=null){return new Promise((b,C)=>{_||((_=this.issuer||"").endsWith("/")||(_+="/"),_+=".well-known/openid-configuration"),this.validateUrlForHttps(_)?this.http.get(_).subscribe(I=>{if(!this.validateDiscoveryDocument(I))return this.eventsSubject.next(new OAuthErrorEvent("discovery_document_validation_error",null)),void C("discovery_document_validation_error");this.loginUrl=I.authorization_endpoint,this.logoutUrl=I.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=I.grant_types_supported,this.issuer=I.issuer,this.tokenEndpoint=I.token_endpoint,this.userinfoEndpoint=I.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=I.jwks_uri,this.sessionCheckIFrameUrl=I.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(I),this.revocationEndpoint=I.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(L=>{const Y=new OAuthSuccessEvent("discovery_document_loaded",{discoveryDocument:I,jwks:L});this.eventsSubject.next(Y),b(Y)}).catch(L=>{this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",L)),C(L)})},I=>{this.logger.error("error loading discovery document",I),this.eventsSubject.next(new OAuthErrorEvent("discovery_document_load_error",I)),C(I)}):C("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((_,b)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(C=>{this.jwks=C,this.eventsSubject.next(new OAuthSuccessEvent("discovery_document_loaded")),_(C)},C=>{this.logger.error("error loading jwks",C),this.eventsSubject.next(new OAuthErrorEvent("jwks_load_error",C)),b(C)}):_(null)})}validateDiscoveryDocument(_){let b;return this.skipIssuerCheck||_.issuer===this.issuer?(b=this.validateUrlFromDiscoveryDocument(_.authorization_endpoint),b.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",b),!1):(b=this.validateUrlFromDiscoveryDocument(_.end_session_endpoint),b.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",b),!1):(b=this.validateUrlFromDiscoveryDocument(_.token_endpoint),b.length>0&&this.logger.error("error validating token_endpoint in discovery document",b),b=this.validateUrlFromDiscoveryDocument(_.revocation_endpoint),b.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",b),b=this.validateUrlFromDiscoveryDocument(_.userinfo_endpoint),b.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",b),!1):(b=this.validateUrlFromDiscoveryDocument(_.jwks_uri),b.length>0?(this.logger.error("error validating jwks_uri in discovery document",b),!1):(this.sessionChecksEnabled&&!_.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+_.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(_,b,C=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingPasswordFlow(_,b,C).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((_,b)=>{const C=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:C,observe:"response",responseType:"text"}).subscribe(I=>{if(this.debug("userinfo received",JSON.stringify(I)),I.headers.get("content-type").startsWith("application/json")){let L=JSON.parse(I.body);const P=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!P.sub||L.sub!==P.sub))return void b("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");L=Object.assign({},P,L),this._storage.setItem("id_token_claims_obj",JSON.stringify(L)),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),_({info:L})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new OAuthSuccessEvent("user_profile_loaded")),_(JSON.parse(I.body))},I=>{this.logger.error("error loading user info",I),this.eventsSubject.next(new OAuthErrorEvent("user_profile_load_error",I)),b(I)})})}fetchTokenUsingPasswordFlow(_,b,C=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){return this.fetchTokenUsingGrant("password",{username:_,password:b},C)}fetchTokenUsingGrant(_,b,C=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let I=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type",_).set("scope",this.scope);if(this.useHttpBasicAuth){const L=btoa(`${this.clientId}:${this.dummyClientSecret}`);C=C.set("Authorization","Basic "+L)}if(this.useHttpBasicAuth||(I=I.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(I=I.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const L of Object.getOwnPropertyNames(this.customQueryParams))I=I.set(L,this.customQueryParams[L]);for(const L of Object.keys(b))I=I.set(L,b[L]);return C=C.set("Content-Type","application/x-www-form-urlencoded"),new Promise((L,P)=>{this.http.post(this.tokenEndpoint,I,{headers:C}).subscribe(Y=>{this.debug("tokenResponse",Y),this.storeAccessTokenResponse(Y.access_token,Y.refresh_token,Y.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Y.scope,this.extractRecognizedCustomParameters(Y)),this.oidc&&Y.id_token&&this.processIdToken(Y.id_token,Y.access_token).then(se=>{this.storeIdToken(se),L(Y)}),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),L(Y)},Y=>{this.logger.error("Error performing ${grantType} flow",Y),this.eventsSubject.next(new OAuthErrorEvent("token_error",Y)),P(Y)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((_,b)=>{let C=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),I=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const L=btoa(`${this.clientId}:${this.dummyClientSecret}`);I=I.set("Authorization","Basic "+L)}if(this.useHttpBasicAuth||(C=C.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(C=C.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const L of Object.getOwnPropertyNames(this.customQueryParams))C=C.set(L,this.customQueryParams[L]);this.http.post(this.tokenEndpoint,C,{headers:I}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.w)(L=>L.id_token?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.D)(this.processIdToken(L.id_token,L.access_token,!0)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.b)(P=>this.storeIdToken(P)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(P=>L)):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(L))).subscribe(L=>{this.debug("refresh tokenResponse",L),this.storeAccessTokenResponse(L.access_token,L.refresh_token,L.expires_in||this.fallbackAccessTokenExpirationTimeInSec,L.scope,this.extractRecognizedCustomParameters(L)),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),_(L)},L=>{this.logger.error("Error refreshing token",L),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",L)),b(L)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=_=>{const b=this.processMessageEventMessage(_);this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(C=>this.debug("tryLogin during silent refresh failed",C))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(_={},b=!0){const C=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(_.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(void 0===this.document)throw new Error("silent refresh is not supported on this platform");const I=this.document.getElementById(this.silentRefreshIFrameName);I&&this.document.body.removeChild(I),this.silentRefreshSubject=C.sub;const L=this.document.createElement("iframe");L.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,b,_).then(G=>{L.setAttribute("src",G),this.silentRefreshShowIFrame||(L.style.display="none"),this.document.body.appendChild(L)});const Y=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(G=>G instanceof OAuthErrorEvent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),se=this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(G=>"token_received"===G.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()),de=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(new OAuthErrorEvent("silent_refresh_timeout",null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.g)(this.silentRefreshTimeout));return(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.S)([Y,se,de]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(G=>{if(G instanceof OAuthErrorEvent)throw"silent_refresh_timeout"===G.type||(G=new OAuthErrorEvent("silent_refresh_error",G)),this.eventsSubject.next(G),G;return"token_received"===G.type&&(G=new OAuthSuccessEvent("silently_refreshed"),this.eventsSubject.next(G)),G})).toPromise()}initImplicitFlowInPopup(_){return this.initLoginFlowInPopup(_)}initLoginFlowInPopup(_){return _=_||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(b=>new Promise((C,I)=>{let Y,P=null;_.windowRef?_.windowRef&&!_.windowRef.closed&&(P=_.windowRef,P.location.href=b):P=window.open(b,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(_));const se=ne=>{this.tryLogin({customHashFragment:ne,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{G(),C(!0)},Q=>{G(),I(Q)})};P?Y=window.setInterval(()=>{(!P||P.closed)&&(G(),I(new OAuthErrorEvent("popup_closed",{})))},500):I(new OAuthErrorEvent("popup_blocked",{}));const G=()=>{window.clearInterval(Y),window.removeEventListener("storage",N),window.removeEventListener("message",te),null!==P&&P.close(),P=null},te=ne=>{const Q=this.processMessageEventMessage(ne);Q&&null!==Q?(window.removeEventListener("storage",N),se(Q)):console.log("false event firing")},N=ne=>{"auth_hash"===ne.key&&(window.removeEventListener("message",te),se(ne.newValue))};window.addEventListener("message",te),window.addEventListener("storage",N)}))}calculatePopupFeatures(_){const b=_.height||470,C=_.width||500,I=window.screenLeft+(window.outerWidth-C)/2;return`location=no,toolbar=no,width=${C},height=${b},top=${window.screenTop+(window.outerHeight-b)/2},left=${I}`}processMessageEventMessage(_){let b="#";if(this.silentRefreshMessagePrefix&&(b+=this.silentRefreshMessagePrefix),!_||!_.data||"string"!=typeof _.data)return;const C=_.data;return C.startsWith(b)?"#"+C.substr(b.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?void 0!==this.document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=_=>{const b=_.origin.toLowerCase(),C=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),C.startsWith(b)){switch(_.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",_)}else this.debug("sessionCheckEventListener","wrong origin",b,"expected",C,"event",_)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new OAuthInfoEvent("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new OAuthInfoEvent("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(_=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)):this.refreshToken().then(_=>{this.debug("token refresh after session change worked")}).catch(_=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(_=>"silently_refreshed"===_.type||"silent_refresh_timeout"===_.type||"silent_refresh_error"===_.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.P)()).subscribe(_=>{"silently_refreshed"!==_.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new OAuthInfoEvent("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new OAuthInfoEvent("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const _=this.document.getElementById(this.sessionCheckIFrameName);_&&this.document.body.removeChild(_);const b=this.document.createElement("iframe");b.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),b.setAttribute("src",this.sessionCheckIFrameUrl),b.style.display="none",this.document.body.appendChild(b),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const _=this.document.getElementById(this.sessionCheckIFrameName);_||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const b=this.getSessionState();b||this.stopSessionCheckTimer(),_.contentWindow.postMessage(this.clientId+" "+b,this.issuer)}createLoginUrl(_="",b="",C="",I=!1,L={}){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){const P=this;let Y;Y=C||this.redirectUri;const se=yield this.createAndSaveNonce();if(_=_?se+this.config.nonceStateSeparator+encodeURIComponent(_):se,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const de=P.loginUrl.indexOf("?")>-1?"&":"?";let G=P.scope;this.oidc&&!G.match(/(^|\s)openid($|\s)/)&&(G="openid "+G);let te=P.loginUrl+de+"response_type="+encodeURIComponent(P.responseType)+"&client_id="+encodeURIComponent(P.clientId)+"&state="+encodeURIComponent(_)+"&redirect_uri="+encodeURIComponent(Y)+"&scope="+encodeURIComponent(G);if(this.responseType.includes("code")&&!this.disablePKCE){const[N,ne]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("PKCE_verifier",ne):this._storage.setItem("PKCE_verifier",ne),te+="&code_challenge="+N,te+="&code_challenge_method=S256"}b&&(te+="&login_hint="+encodeURIComponent(b)),P.resource&&(te+="&resource="+encodeURIComponent(P.resource)),P.oidc&&(te+="&nonce="+encodeURIComponent(se)),I&&(te+="&prompt=none");for(const N of Object.keys(L))te+="&"+encodeURIComponent(N)+"="+encodeURIComponent(L[N]);if(this.customQueryParams)for(const N of Object.getOwnPropertyNames(this.customQueryParams))te+="&"+N+"="+encodeURIComponent(this.customQueryParams[N]);return te})}initImplicitFlowInternal(_="",b=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let C={},I=null;"string"==typeof b?I=b:"object"==typeof b&&(C=b),this.createLoginUrl(_,I,null,!1,C).then(this.config.openUri).catch(L=>{console.error("Error in initImplicitFlow",L),this.inImplicitFlow=!1})}initImplicitFlow(_="",b=""){""!==this.loginUrl?this.initImplicitFlowInternal(_,b):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(C=>"discovery_document_loaded"===C.type)).subscribe(C=>this.initImplicitFlowInternal(_,b))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(_){const b=this;if(_.onTokenReceived){const C={idClaims:b.getIdentityClaims(),idToken:b.getIdToken(),accessToken:b.getAccessToken(),state:b.state};_.onTokenReceived(C)}}storeAccessTokenResponse(_,b,C,I,L){if(this._storage.setItem("access_token",_),I&&!Array.isArray(I)?this._storage.setItem("granted_scopes",JSON.stringify(I.split(" "))):I&&Array.isArray(I)&&this._storage.setItem("granted_scopes",JSON.stringify(I)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),C){const P=1e3*C,se=this.dateTimeService.new().getTime()+P;this._storage.setItem("expires_at",""+se)}b&&this._storage.setItem("refresh_token",b),L&&L.forEach((P,Y)=>{this._storage.setItem(Y,P)})}tryLogin(_=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(_).then(b=>!0):this.tryLoginImplicitFlow(_)}parseQueryString(_){return _&&0!==_.length?("?"===_.charAt(0)&&(_=_.substr(1)),this.urlHelper.parseQueryString(_)):{}}tryLoginCodeFlow(_=null){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){const b=(_=_||{}).customHashFragment?_.customHashFragment.substring(1):window.location.search,C=this.getCodePartsFromUrl(b),I=C.code,L=C.state,P=C.session_state;if(!_.preventClearHashAfterLogin){const de=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,de)}let[Y,se]=this.parseState(L);if(this.state=se,C.error){this.debug("error trying to login"),this.handleLoginError(_,C);const de=new OAuthErrorEvent("code_error",{},C);return this.eventsSubject.next(de),Promise.reject(de)}if(!_.disableNonceCheck){if(!Y)return this.saveRequestedRoute(),Promise.resolve();if(!_.disableOAuth2StateCheck&&!this.validateNonce(Y)){const G=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(G),Promise.reject(G)}return this.storeSessionState(P),I&&(yield this.getTokenFromCode(I,_),this.restoreRequestedRoute()),Promise.resolve()}return Promise.reject()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const _=this._storage.getItem("requested_route");_&&history.replaceState(null,"",window.location.origin+_)}getCodePartsFromUrl(_){return _&&0!==_.length?("?"===_.charAt(0)&&(_=_.substr(1)),this.urlHelper.parseQueryString(_)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(_,b){let C=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}).set("grant_type","authorization_code").set("code",_).set("redirect_uri",b.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let I;I=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),I?C=C.set("code_verifier",I):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(C,b)}fetchAndProcessToken(_,b){b=b||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let C=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const I=btoa(`${this.clientId}:${this.dummyClientSecret}`);C=C.set("Authorization","Basic "+I)}return this.useHttpBasicAuth||(_=_.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(_=_.set("client_secret",this.dummyClientSecret)),new Promise((I,L)=>{if(this.customQueryParams)for(let P of Object.getOwnPropertyNames(this.customQueryParams))_=_.set(P,this.customQueryParams[P]);this.http.post(this.tokenEndpoint,_,{headers:C}).subscribe(P=>{this.debug("refresh tokenResponse",P),this.storeAccessTokenResponse(P.access_token,P.refresh_token,P.expires_in||this.fallbackAccessTokenExpirationTimeInSec,P.scope,this.extractRecognizedCustomParameters(P)),this.oidc&&P.id_token?this.processIdToken(P.id_token,P.access_token,b.disableNonceCheck).then(Y=>{this.storeIdToken(Y),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),I(P)}).catch(Y=>{this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",Y)),console.error("Error validating tokens"),console.error(Y),L(Y)}):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.eventsSubject.next(new OAuthSuccessEvent("token_refreshed")),I(P))},P=>{console.error("Error getting token",P),this.eventsSubject.next(new OAuthErrorEvent("token_refresh_error",P)),L(P)})})}tryLoginImplicitFlow(_=null){let b;b=(_=_||{}).customHashFragment?this.urlHelper.getHashFragmentParams(_.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",b);const C=b.state;let[I,L]=this.parseState(C);if(this.state=L,b.error){this.debug("error trying to login"),this.handleLoginError(_,b);const G=new OAuthErrorEvent("token_error",{},b);return this.eventsSubject.next(G),Promise.reject(G)}const P=b.access_token,Y=b.id_token,se=b.session_state,de=b.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!P||this.requestAccessToken&&!_.disableOAuth2StateCheck&&!C||this.oidc&&!Y)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!se&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!_.disableNonceCheck&&!this.validateNonce(I)){const te=new OAuthErrorEvent("invalid_nonce_in_state",null);return this.eventsSubject.next(te),Promise.reject(te)}return this.requestAccessToken&&this.storeAccessTokenResponse(P,null,b.expires_in||this.fallbackAccessTokenExpirationTimeInSec,de),this.oidc?this.processIdToken(Y,P,_.disableNonceCheck).then(G=>_.validationHandler?_.validationHandler({accessToken:P,idClaims:G.idTokenClaims,idToken:G.idToken,state:C}).then(te=>G):G).then(G=>(this.storeIdToken(G),this.storeSessionState(se),this.clearHashAfterLogin&&!_.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.callOnTokenReceivedIfExists(_),this.inImplicitFlow=!1,!0)).catch(G=>(this.eventsSubject.next(new OAuthErrorEvent("token_validation_error",G)),this.logger.error("Error validating tokens"),this.logger.error(G),Promise.reject(G))):(this.eventsSubject.next(new OAuthSuccessEvent("token_received")),this.clearHashAfterLogin&&!_.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(_),Promise.resolve(!0))}parseState(_){let b=_,C="";if(_){const I=_.indexOf(this.config.nonceStateSeparator);I>-1&&(b=_.substr(0,I),C=_.substr(I+this.config.nonceStateSeparator.length))}return[b,C]}validateNonce(_){let b;return b=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),b===_||(console.error("Validating access_token failed, wrong state/nonce.",b,_),!1)}storeIdToken(_){this._storage.setItem("id_token",_.idToken),this._storage.setItem("id_token_claims_obj",_.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+_.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(_){this._storage.setItem("session_state",_)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(_,b){_.onLoginError&&_.onLoginError(b),this.clearHashAfterLogin&&!_.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(_=6e5){return this.clockSkewInSec?1e3*this.clockSkewInSec:_}processIdToken(_,b,C=!1){const I=_.split("."),P=b64DecodeUnicode(this.padBase64(I[0])),Y=JSON.parse(P),de=b64DecodeUnicode(this.padBase64(I[1])),G=JSON.parse(de);let te;if(te=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(G.aud)){if(G.aud.every(oe=>oe!==this.clientId)){const oe="Wrong audience: "+G.aud.join(",");return this.logger.warn(oe),Promise.reject(oe)}}else if(G.aud!==this.clientId){const oe="Wrong audience: "+G.aud;return this.logger.warn(oe),Promise.reject(oe)}if(!G.sub){const oe="No sub claim in id_token";return this.logger.warn(oe),Promise.reject(oe)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==G.sub){const oe=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${G.sub}`;return this.logger.warn(oe),Promise.reject(oe)}if(!G.iat){const oe="No iat claim in id_token";return this.logger.warn(oe),Promise.reject(oe)}if(!this.skipIssuerCheck&&G.iss!==this.issuer){const oe="Wrong issuer: "+G.iss;return this.logger.warn(oe),Promise.reject(oe)}if(!C&&G.nonce!==te){const oe="Wrong nonce: "+G.nonce;return this.logger.warn(oe),Promise.reject(oe)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!G.at_hash){const oe="An at_hash is needed!";return this.logger.warn(oe),Promise.reject(oe)}const N=this.dateTimeService.now(),ne=1e3*G.iat,Q=1e3*G.exp,V=this.getClockSkewInMsec();if(ne-V>=N||Q+V<=N){const oe="Token has expired";return console.error(oe),console.error({now:N,issuedAtMSec:ne,expiresAtMSec:Q}),Promise.reject(oe)}const fe={accessToken:b,idToken:_,jwks:this.jwks,idTokenClaims:G,idTokenHeader:Y,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(fe).then(oe=>({idToken:_,idTokenClaims:G,idTokenClaimsJson:de,idTokenHeader:Y,idTokenHeaderJson:P,idTokenExpiresAt:Q})):this.checkAtHash(fe).then(oe=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!oe){const ge="Wrong at_hash";return this.logger.warn(ge),Promise.reject(ge)}return this.checkSignature(fe).then(ge=>{const Le={idToken:_,idTokenClaims:G,idTokenClaimsJson:de,idTokenHeader:Y,idTokenHeaderJson:P,idTokenExpiresAt:Q};return this.disableAtHashCheck?Le:this.checkAtHash(fe).then(we=>{if(this.requestAccessToken&&!we){const ce="Wrong at_hash";return this.logger.warn(ce),Promise.reject(ce)}return Le})})})}getIdentityClaims(){const _=this._storage.getItem("id_token_claims_obj");return _?JSON.parse(_):null}getGrantedScopes(){const _=this._storage.getItem("granted_scopes");return _?JSON.parse(_):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(_){for(;_.length%4!=0;)_+="=";return _}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const _=this._storage.getItem("expires_at"),b=this.dateTimeService.new();return!(_&&parseInt(_,10)<b.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const _=this._storage.getItem("id_token_expires_at"),b=this.dateTimeService.new();return!(_&&parseInt(_,10)<b.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(_){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(_)>=0&&null!==this._storage.getItem(_)?JSON.parse(this._storage.getItem(_)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(_={},b=""){let C=!1;"boolean"==typeof _&&(C=_,_={});const I=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(P=>this._storage.removeItem(P)),this.silentRefreshSubject=null,this.eventsSubject.next(new OAuthInfoEvent("logout")),!this.logoutUrl||C||!I&&!this.postLogoutRedirectUri)return;let L;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)L=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(I)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let P=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec});I&&(P=P.set("id_token_hint",I));const Y=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";Y&&(P=P.set("post_logout_redirect_uri",Y),b&&(P=P.set("state",b)));for(let se in _)P=P.set(se,_[se]);L=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+P.toString()}this.config.openUri(L)}createAndSaveNonce(){const _=this;return this.createNonce().then(function(b){return _.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("nonce",b):_._storage.setItem("nonce",b),b})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const _=this.document.getElementById(this.silentRefreshIFrameName);_&&_.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const b=this.document.getElementById(this.sessionCheckIFrameName);b&&b.remove()}createNonce(){return new Promise(_=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let C=45,I="";const L="undefined"==typeof self?null:self.crypto||self.msCrypto;if(L){let P=new Uint8Array(C);L.getRandomValues(P),P.map||(P.map=Array.prototype.map),P=P.map(Y=>b.charCodeAt(Y%b.length)),I=String.fromCharCode.apply(null,P)}else for(;0<C--;)I+=b[Math.random()*b.length|0];_(base64UrlEncode(I))})}checkAtHash(_){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(_):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(_){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(_):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(_="",b={}){return"code"===this.responseType?this.initCodeFlow(_,b):this.initImplicitFlow(_,b)}initCodeFlow(_="",b={}){""!==this.loginUrl?this.initCodeFlowInternal(_,b):this.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(C=>"discovery_document_loaded"===C.type)).subscribe(C=>this.initCodeFlowInternal(_,b))}initCodeFlowInternal(_="",b={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let C={},I=null;"string"==typeof b?I=b:"object"==typeof b&&(C=b),this.createLoginUrl(_,I,null,!1,C).then(this.config.openUri).catch(L=>{console.error("Error in initAuthorizationCodeFlow"),console.error(L)})}createChallangeVerifierPairForPKCE(){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(this,void 0,void 0,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const _=yield this.createNonce();return[base64UrlEncode(yield this.crypto.calcHash(_,"sha-256")),_]})}extractRecognizedCustomParameters(_){let b=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(C=>{_[C]&&b.set(C,JSON.stringify(_[C]))}),b}revokeTokenAndLogout(_={},b=!1){let C=this.revocationEndpoint,I=this.getAccessToken(),L=this.getRefreshToken();if(!I)return;let P=new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.LE({encoder:new WebHttpUrlEncodingCodec}),Y=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_9__.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const se=btoa(`${this.clientId}:${this.dummyClientSecret}`);Y=Y.set("Authorization","Basic "+se)}if(this.useHttpBasicAuth||(P=P.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(P=P.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const se of Object.getOwnPropertyNames(this.customQueryParams))P=P.set(se,this.customQueryParams[se]);return new Promise((se,de)=>{let G,te;if(I){let N=P.set("token",I).set("token_type_hint","access_token");G=this.http.post(C,N,{headers:Y})}else G=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);if(L){let N=P.set("token",L).set("token_type_hint","refresh_token");te=this.http.post(C,N,{headers:Y})}else te=(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null);b&&(G=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(N=>0===N.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(N))),te=te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(N=>0===N.status?(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null):(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(N)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.a)([G,te]).subscribe(N=>{this.logOut(_),se(N),this.logger.info("Token successfully revoked")},N=>{this.logger.error("Error revoking token",N),this.eventsSubject.next(new OAuthErrorEvent("token_revoke_error",N)),de(N)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return F.\u0275fac=function(_){return new(_||F)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_1__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthStorage,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(ValidationHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(AuthConfig,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(UrlHelperService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthLogger),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(HashHandler,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(_angular_common__WEBPACK_IMPORTED_MODULE_18__.K0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(DateTimeProvider))},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})();class OAuthModuleConfig{}class OAuthResourceServerConfig{}class OAuthResourceServerErrorHandler{}class OAuthNoopResourceServerErrorHandler{handleError(B){return(0,rxjs__WEBPACK_IMPORTED_MODULE_16__._)(B)}}let DefaultOAuthInterceptor=(()=>{class F{constructor(_,b,C){this.oAuthService=_,this.errorHandler=b,this.moduleConfig=C}checkUrl(_){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(_):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(b=>_.toLowerCase().startsWith(b.toLowerCase()))}intercept(_,b){const C=_.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(C)?this.moduleConfig.resourceServer.sendAccessToken?(0,rxjs__WEBPACK_IMPORTED_MODULE_19__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.oAuthService.getAccessToken()).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(L=>!!L)),this.oAuthService.events.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.h)(L=>"token_received"===L.type),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.V)(this.oAuthService.waitForTokenInMsec||0),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(L=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(null)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.U)(L=>this.oAuthService.getAccessToken()))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.z)(L=>{if(L){const Y=_.headers.set("Authorization","Bearer "+L);_=_.clone({headers:Y})}return b.handle(_).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(P=>this.errorHandler.handleError(P)))})):b.handle(_).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.K)(L=>this.errorHandler.handleError(L))):b.handle(_)}}return F.\u0275fac=function(_){return new(_||F)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthResourceServerErrorHandler),_angular_core__WEBPACK_IMPORTED_MODULE_1__.LFG(OAuthModuleConfig,8))},F.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yz7({token:F,factory:F.\u0275fac}),F})();class NullValidationHandler{validateSignature(B){return Promise.resolve(null)}validateAtHash(B){return Promise.resolve(!0)}}function createDefaultLogger(){return console}function createDefaultStorage(){return"undefined"!=typeof sessionStorage?sessionStorage:new MemoryStorage}let OAuthModule=(()=>{class F{static forRoot(_=null,b=NullValidationHandler){return{ngModule:F,providers:[OAuthService,UrlHelperService,{provide:OAuthLogger,useFactory:createDefaultLogger},{provide:OAuthStorage,useFactory:createDefaultStorage},{provide:ValidationHandler,useClass:b},{provide:HashHandler,useClass:DefaultHashHandler},{provide:OAuthResourceServerErrorHandler,useClass:OAuthNoopResourceServerErrorHandler},{provide:OAuthModuleConfig,useValue:_},{provide:_angular_common_http__WEBPACK_IMPORTED_MODULE_9__.TP,useClass:DefaultOAuthInterceptor,multi:!0},{provide:DateTimeProvider,useClass:SystemDateTimeProvider}]}}}return F.\u0275fac=function(_){return new(_||F)},F.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oAB({type:F}),F.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_18__.ez]]}),F})();const err="PLEASE READ THIS CAREFULLY:\n\nBeginning with angular-oauth2-oidc version 9, the JwksValidationHandler\nhas been moved to an library of its own. If you need it for implementing\nOAuth2/OIDC **implicit flow**, please install it using npm:\n\n  npm i angular-oauth2-oidc-jwks --save\n\nAfter that, you can import it into your application:\n\n  import { JwksValidationHandler } from 'angular-oauth2-oidc-jwks';\n\nPlease note, that this dependency is not needed for the **code flow**,\nwhich is nowadays the **recommented** one for single page applications.\nThis also results in smaller bundle sizes.\n";class JwksValidationHandler extends NullValidationHandler{constructor(){super(),console.error(err)}}const AUTH_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.OlP("AUTH_CONFIG")}},F=>{F(F.s=4567)}]);